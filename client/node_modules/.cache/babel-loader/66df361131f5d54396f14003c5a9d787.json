{"ast":null,"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * \r\n * @emails oncall+draft_js\r\n *\r\n * This file is a fork of ContentBlock adding support for nesting references by\r\n * providing links to children, parent, prevSibling, and nextSibling.\r\n *\r\n * This is unstable and not part of the public API and should not be used by\r\n * production systems. This file may be update/removed without notice.\r\n */\n'use strict';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar CharacterMetadata = require(\"./CharacterMetadata\");\n\nvar findRangesImmutable = require(\"./findRangesImmutable\");\n\nvar Immutable = require(\"immutable\");\n\nvar List = Immutable.List,\n    Map = Immutable.Map,\n    OrderedSet = Immutable.OrderedSet,\n    Record = Immutable.Record,\n    Repeat = Immutable.Repeat;\nvar EMPTY_SET = OrderedSet();\nvar defaultRecord = {\n  parent: null,\n  characterList: List(),\n  data: Map(),\n  depth: 0,\n  key: '',\n  text: '',\n  type: 'unstyled',\n  children: List(),\n  prevSibling: null,\n  nextSibling: null\n};\n\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\n  return charA.getStyle() === charB.getStyle();\n};\n\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\n  return charA.getEntity() === charB.getEntity();\n};\n\nvar decorateCharacterList = function decorateCharacterList(config) {\n  if (!config) {\n    return config;\n  }\n\n  var characterList = config.characterList,\n      text = config.text;\n\n  if (text && !characterList) {\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\n  }\n\n  return config;\n};\n\nvar ContentBlockNode = /*#__PURE__*/function (_ref) {\n  _inheritsLoose(ContentBlockNode, _ref);\n\n  function ContentBlockNode() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\n    /* eslint-disable-next-line constructor-super */\n\n    return _ref.call(this, decorateCharacterList(props)) || this;\n  }\n\n  var _proto = ContentBlockNode.prototype;\n\n  _proto.getKey = function getKey() {\n    return this.get('key');\n  };\n\n  _proto.getType = function getType() {\n    return this.get('type');\n  };\n\n  _proto.getText = function getText() {\n    return this.get('text');\n  };\n\n  _proto.getCharacterList = function getCharacterList() {\n    return this.get('characterList');\n  };\n\n  _proto.getLength = function getLength() {\n    return this.getText().length;\n  };\n\n  _proto.getDepth = function getDepth() {\n    return this.get('depth');\n  };\n\n  _proto.getData = function getData() {\n    return this.get('data');\n  };\n\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getStyle() : EMPTY_SET;\n  };\n\n  _proto.getEntityAt = function getEntityAt(offset) {\n    var character = this.getCharacterList().get(offset);\n    return character ? character.getEntity() : null;\n  };\n\n  _proto.getChildKeys = function getChildKeys() {\n    return this.get('children');\n  };\n\n  _proto.getParentKey = function getParentKey() {\n    return this.get('parent');\n  };\n\n  _proto.getPrevSiblingKey = function getPrevSiblingKey() {\n    return this.get('prevSibling');\n  };\n\n  _proto.getNextSiblingKey = function getNextSiblingKey() {\n    return this.get('nextSibling');\n  };\n\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\n  };\n\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\n  };\n\n  return ContentBlockNode;\n}(Record(defaultRecord));\n\nmodule.exports = ContentBlockNode;","map":{"version":3,"sources":["D:/Web/mohi/client/node_modules/draft-js/lib/ContentBlockNode.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","CharacterMetadata","require","findRangesImmutable","Immutable","List","Map","OrderedSet","Record","Repeat","EMPTY_SET","defaultRecord","parent","characterList","data","depth","key","text","type","children","prevSibling","nextSibling","haveEqualStyle","charA","charB","getStyle","haveEqualEntity","getEntity","decorateCharacterList","config","EMPTY","length","ContentBlockNode","_ref","props","arguments","undefined","call","_proto","getKey","get","getType","getText","getCharacterList","getLength","getDepth","getData","getInlineStyleAt","offset","character","getEntityAt","getChildKeys","getParentKey","getPrevSiblingKey","getNextSiblingKey","findStyleRanges","filterFn","callback","findEntityRanges","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * \r\n * @emails oncall+draft_js\r\n *\r\n * This file is a fork of ContentBlock adding support for nesting references by\r\n * providing links to children, parent, prevSibling, and nextSibling.\r\n *\r\n * This is unstable and not part of the public API and should not be used by\r\n * production systems. This file may be update/removed without notice.\r\n */\r\n'use strict';\r\n\r\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\n\r\nvar CharacterMetadata = require(\"./CharacterMetadata\");\r\n\r\nvar findRangesImmutable = require(\"./findRangesImmutable\");\r\n\r\nvar Immutable = require(\"immutable\");\r\n\r\nvar List = Immutable.List,\r\n    Map = Immutable.Map,\r\n    OrderedSet = Immutable.OrderedSet,\r\n    Record = Immutable.Record,\r\n    Repeat = Immutable.Repeat;\r\nvar EMPTY_SET = OrderedSet();\r\nvar defaultRecord = {\r\n  parent: null,\r\n  characterList: List(),\r\n  data: Map(),\r\n  depth: 0,\r\n  key: '',\r\n  text: '',\r\n  type: 'unstyled',\r\n  children: List(),\r\n  prevSibling: null,\r\n  nextSibling: null\r\n};\r\n\r\nvar haveEqualStyle = function haveEqualStyle(charA, charB) {\r\n  return charA.getStyle() === charB.getStyle();\r\n};\r\n\r\nvar haveEqualEntity = function haveEqualEntity(charA, charB) {\r\n  return charA.getEntity() === charB.getEntity();\r\n};\r\n\r\nvar decorateCharacterList = function decorateCharacterList(config) {\r\n  if (!config) {\r\n    return config;\r\n  }\r\n\r\n  var characterList = config.characterList,\r\n      text = config.text;\r\n\r\n  if (text && !characterList) {\r\n    config.characterList = List(Repeat(CharacterMetadata.EMPTY, text.length));\r\n  }\r\n\r\n  return config;\r\n};\r\n\r\nvar ContentBlockNode = /*#__PURE__*/function (_ref) {\r\n  _inheritsLoose(ContentBlockNode, _ref);\r\n\r\n  function ContentBlockNode() {\r\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultRecord;\r\n\r\n    /* eslint-disable-next-line constructor-super */\r\n    return _ref.call(this, decorateCharacterList(props)) || this;\r\n  }\r\n\r\n  var _proto = ContentBlockNode.prototype;\r\n\r\n  _proto.getKey = function getKey() {\r\n    return this.get('key');\r\n  };\r\n\r\n  _proto.getType = function getType() {\r\n    return this.get('type');\r\n  };\r\n\r\n  _proto.getText = function getText() {\r\n    return this.get('text');\r\n  };\r\n\r\n  _proto.getCharacterList = function getCharacterList() {\r\n    return this.get('characterList');\r\n  };\r\n\r\n  _proto.getLength = function getLength() {\r\n    return this.getText().length;\r\n  };\r\n\r\n  _proto.getDepth = function getDepth() {\r\n    return this.get('depth');\r\n  };\r\n\r\n  _proto.getData = function getData() {\r\n    return this.get('data');\r\n  };\r\n\r\n  _proto.getInlineStyleAt = function getInlineStyleAt(offset) {\r\n    var character = this.getCharacterList().get(offset);\r\n    return character ? character.getStyle() : EMPTY_SET;\r\n  };\r\n\r\n  _proto.getEntityAt = function getEntityAt(offset) {\r\n    var character = this.getCharacterList().get(offset);\r\n    return character ? character.getEntity() : null;\r\n  };\r\n\r\n  _proto.getChildKeys = function getChildKeys() {\r\n    return this.get('children');\r\n  };\r\n\r\n  _proto.getParentKey = function getParentKey() {\r\n    return this.get('parent');\r\n  };\r\n\r\n  _proto.getPrevSiblingKey = function getPrevSiblingKey() {\r\n    return this.get('prevSibling');\r\n  };\r\n\r\n  _proto.getNextSiblingKey = function getNextSiblingKey() {\r\n    return this.get('nextSibling');\r\n  };\r\n\r\n  _proto.findStyleRanges = function findStyleRanges(filterFn, callback) {\r\n    findRangesImmutable(this.getCharacterList(), haveEqualStyle, filterFn, callback);\r\n  };\r\n\r\n  _proto.findEntityRanges = function findEntityRanges(filterFn, callback) {\r\n    findRangesImmutable(this.getCharacterList(), haveEqualEntity, filterFn, callback);\r\n  };\r\n\r\n  return ContentBlockNode;\r\n}(Record(defaultRecord));\r\n\r\nmodule.exports = ContentBlockNode;"]},"metadata":{},"sourceType":"script"}