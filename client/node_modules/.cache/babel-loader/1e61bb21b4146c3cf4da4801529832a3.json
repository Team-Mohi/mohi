{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import CreatePost from'./../Components/NewFeed/CreatePost.jsx';import axios from'axios';function CreatePostContainer(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),statusCreatePost=_useState2[0],setStatusCreatePost=_useState2[1];var submitCreatePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(valueEditor,fileList,privacyNewFeed,privacyStory,placeNewFeed,placeStory,listMention){var mention,tags,tag,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setStatusCreatePost('loading');mention=[];listMention.map(function(m){mention.push(m.data.mention.id);});tags=mention.filter(function(value,index,mention){return mention.indexOf(value)===index;});tag=tags.toString();data={placeStory:placeStory,placePost:placeNewFeed,post_Content:valueEditor,post_Privacy:privacyNewFeed,tag_users_UserId:tag,story_Privacy:privacyStory,post_images_Url:fileList};_context.next=8;return axios.post('https://www.api.mohi.vn/api/auth/create-post-profile',data).then(function(res){setStatusCreatePost('success');props.successCreatePost(res.data);}).catch(function(e){setStatusCreatePost('error');props.errorCreatePost();});case 8:case\"end\":return _context.stop();}}},_callee);}));return function submitCreatePost(_x,_x2,_x3,_x4,_x5,_x6,_x7){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(CreatePost,{submitCreatePost:submitCreatePost,statusCreatePost:statusCreatePost});}export default CreatePostContainer;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Containers/CreatePostContainer.jsx"],"names":["React","useState","CreatePost","axios","CreatePostContainer","props","statusCreatePost","setStatusCreatePost","submitCreatePost","valueEditor","fileList","privacyNewFeed","privacyStory","placeNewFeed","placeStory","listMention","mention","map","m","push","data","id","tags","filter","value","index","indexOf","tag","toString","placePost","post_Content","post_Privacy","tag_users_UserId","story_Privacy","post_images_Url","post","then","res","successCreatePost","catch","e","errorCreatePost"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,UAAP,KAAuB,wCAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,mBAAT,CAA6BC,KAA7B,CAAmC,eACeJ,QAAQ,EADvB,wCAC1BK,gBAD0B,eACRC,mBADQ,eAGjC,GAAMC,CAAAA,gBAAgB,0FAAG,iBAAOC,WAAP,CAAoBC,QAApB,CAA8BC,cAA9B,CAA8CC,YAA9C,CAA4DC,YAA5D,CAA0EC,UAA1E,CAAsFC,WAAtF,4IACvBR,mBAAmB,CAAC,SAAD,CAAnB,CACIS,OAFmB,CAET,EAFS,CAGvBD,WAAW,CAACE,GAAZ,CAAgB,SAAAC,CAAC,CAAI,CACnBF,OAAO,CAACG,IAAR,CAAaD,CAAC,CAACE,IAAF,CAAOJ,OAAP,CAAeK,EAA5B,EACD,CAFD,EAGIC,IANmB,CAMZN,OAAO,CAACO,MAAR,CAAe,SAACC,KAAD,CAAQC,KAAR,CAAeT,OAAf,QAA2BA,CAAAA,OAAO,CAACU,OAAR,CAAgBF,KAAhB,IAA2BC,KAAtD,EAAf,CANY,CAOnBE,GAPmB,CAObL,IAAI,CAACM,QAAL,EAPa,CASnBR,IATmB,CASZ,CACTN,UAAU,CAAEA,UADH,CAETe,SAAS,CAAEhB,YAFF,CAGTiB,YAAY,CAAErB,WAHL,CAITsB,YAAY,CAAEpB,cAJL,CAKTqB,gBAAgB,CAAEL,GALT,CAMTM,aAAa,CAAErB,YANN,CAOTsB,eAAe,CAAExB,QAPR,CATY,uBAkBjBP,CAAAA,KAAK,CAACgC,IAAN,CAAW,sDAAX,CAAmEf,IAAnE,EAAyEgB,IAAzE,CAA8E,SAACC,GAAD,CAAS,CAC3F9B,mBAAmB,CAAC,SAAD,CAAnB,CACAF,KAAK,CAACiC,iBAAN,CAAwBD,GAAG,CAACjB,IAA5B,EACD,CAHK,EAGHmB,KAHG,CAGG,SAACC,CAAD,CAAO,CACdjC,mBAAmB,CAAC,OAAD,CAAnB,CACAF,KAAK,CAACoC,eAAN,GACD,CANK,CAlBiB,uDAAH,kBAAhBjC,CAAAA,gBAAgB,oEAAtB,CA2BA,mBACE,oBAAC,UAAD,EAAY,gBAAgB,CAAEA,gBAA9B,CAAgD,gBAAgB,CAAEF,gBAAlE,EADF,CAGD,CAED,cAAeF,CAAAA,mBAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport CreatePost from './../Components/NewFeed/CreatePost.jsx';\r\nimport axios from 'axios';\r\n\r\nfunction CreatePostContainer(props){\r\n  const [statusCreatePost, setStatusCreatePost] = useState();\r\n\r\n  const submitCreatePost = async (valueEditor, fileList, privacyNewFeed, privacyStory, placeNewFeed, placeStory, listMention) => {\r\n    setStatusCreatePost('loading')\r\n    let mention = [];\r\n    listMention.map(m => {\r\n      mention.push(m.data.mention.id)\r\n    })\r\n    let tags = mention.filter((value, index, mention) => mention.indexOf(value) === index);\r\n    let tag = tags.toString();\r\n\r\n    let data = {\r\n      placeStory: placeStory,\r\n      placePost: placeNewFeed,\r\n      post_Content: valueEditor,\r\n      post_Privacy: privacyNewFeed,\r\n      tag_users_UserId: tag,\r\n      story_Privacy: privacyStory,\r\n      post_images_Url: fileList\r\n    }\r\n    await axios.post('https://www.api.mohi.vn/api/auth/create-post-profile', data).then((res) => {\r\n      setStatusCreatePost('success')\r\n      props.successCreatePost(res.data)\r\n    }).catch((e) => {\r\n      setStatusCreatePost('error')\r\n      props.errorCreatePost()\r\n    })\r\n  }\r\n\r\n  return(\r\n    <CreatePost submitCreatePost={submitCreatePost} statusCreatePost={statusCreatePost}/>\r\n  )\r\n}\r\n\r\nexport default CreatePostContainer;\r\n"]},"metadata":{},"sourceType":"module"}