{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef,Suspense}from'react';import{useSelector,useDispatch}from'react-redux';import{Image,Transformation}from'cloudinary-react';import useWindowSize from\"./useWindowSize.jsx\";import moment from'moment';import{BsSearch}from'react-icons/bs';import{useHistory}from'react-router-dom';import{searchFriendProfile}from'./../../Actions/index.jsx';var SiderMessenger=function SiderMessenger(props,_ref){var message=_ref.message,friends=_ref.friends;var windowSize=useWindowSize();var dispatch=useDispatch();var listFriends=useSelector(function(state){return state.friends.list;});var _useSelector=useSelector(function(state){return state.message;}),list=_useSelector.list;var searchKeyWords=useSelector(function(state){return state.friends.searchKeyWords;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),scrollSider=_useState2[0],setScrollSider=_useState2[1];var sider=useRef();var currentUser=JSON.parse(localStorage.getItem('ustk')).info;var heightScrollSider=window.innerHeight-190;var _useState3=useState({height:heightScrollSider}),_useState4=_slicedToArray(_useState3,2),showScroll=_useState4[0],setShowScroll=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),contentChat=_useState6[0],setContentChat=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isSeach=_useState8[0],setIsSeach=_useState8[1];var history=useHistory();useEffect(function(){setShowScroll({height:heightScrollSider});},[windowSize]);function handleSiderScroll(){var scrollTop=sider.current.scrollTop;if(scrollTop>0&&!scrollSider)setScrollSider({boxShadow:'-4px 0.1px 3px rgba(0,0,0,0.2)'});if(scrollTop===0)setScrollSider({});}var onChangeSearchFriend=function onChangeSearchFriend(e){dispatch(searchFriendProfile(e.target.value));if(e.target.value){setIsSeach(true);}else{setIsSeach(false);}};var openContentChat=function openContentChat(idUser){history.push('/messenger/'+idUser);};console.log(searchKeyWords);return/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-head\",style:scrollSider},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-title-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-avatar\"},currentUser.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:currentUser.user_avatar,alt:currentUser.user_first_name+' '+currentUser.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:currentUser.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:currentUser.user_avatar_cropH,width:currentUser.user_avatar_cropW,x:currentUser.user_avatar_cropX,y:currentUser.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"span\",null,\"Chat\")),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-title-right\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-search\"},/*#__PURE__*/React.createElement(BsSearch,null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"T\\xECm ki\\u1EBFm tr\\xEAn Messenger\",onChange:onChangeSearchFriend}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-list-user-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-list-user\",style:showScroll,onScroll:function onScroll(){return handleSiderScroll();},ref:sider},/*#__PURE__*/React.createElement(\"ul\",null,searchKeyWords&&listFriends.filter(function(fr){var name=fr.user_first_name+' '+fr.user_last_name;return name.toLowerCase().replace(/\\s/g,'').indexOf(searchKeyWords.toLowerCase().replace(/\\s/g,''))!==-1;}).map(function(friends,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,onClick:function onClick(){return openContentChat(friends.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-user-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-user-item-avatar\"},friends.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:friends.user_avatar,alt:friends.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:friends.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:friends.user_avatar_cropH,width:friends.user_avatar_cropW,x:friends.user_avatar_cropX,y:friends.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-username\"},friends.user_first_name+' '+friends.user_last_name))));}),!listFriends.filter(function(fr){var name=fr.user_first_name+' '+fr.user_last_name;return name.toLowerCase().replace(/\\s/g,'').indexOf(searchKeyWords.toLowerCase().replace(/\\s/g,''))!==-1;}).length&&isSeach&&/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},\"Kh\\xF4ng c\\xF3 k\\u1EBFt qu\\u1EA3 t\\xECm ki\\u1EBFm\"),!list.length&&!isSeach&&/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center'}},\"T\\xECm ki\\u1EBFm b\\u1EA1n b\\xE8 \\u0111\\u1EC3 nh\\u1EAFn tin\"),!isSeach&&list.map(function(mess,index){return/*#__PURE__*/React.createElement(\"li\",{key:index,onClick:function onClick(){return openContentChat(mess.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-user-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-user-item-avatar\"},mess.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:mess.user_avatar,alt:mess.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:mess.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:mess.user_avatar_cropH,width:mess.user_avatar_cropW,x:mess.user_avatar_cropX,y:mess.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-username\"},mess.user_first_name+' '+mess.user_last_name),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-content-nearest\"},mess.pivot.messages_Message)),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-time-send\"},moment(mess.pivot.created_at,\"YYYYMMDD\\h:m:s\").fromNow())),/*#__PURE__*/React.createElement(\"div\",{className:\"sider-messenger-user-item-status\"}));})))));};export default SiderMessenger;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Messenger/SiderMessenger.jsx"],"names":["React","useEffect","useState","useRef","Suspense","useSelector","useDispatch","Image","Transformation","useWindowSize","moment","BsSearch","useHistory","searchFriendProfile","SiderMessenger","props","message","friends","windowSize","dispatch","listFriends","state","list","searchKeyWords","scrollSider","setScrollSider","sider","currentUser","JSON","parse","localStorage","getItem","info","heightScrollSider","window","innerHeight","height","showScroll","setShowScroll","contentChat","setContentChat","isSeach","setIsSeach","history","handleSiderScroll","scrollTop","current","boxShadow","onChangeSearchFriend","e","target","value","openContentChat","idUser","push","console","log","user_avatar_cropX","user_avatar","user_first_name","user_last_name","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","filter","fr","name","toLowerCase","replace","indexOf","map","index","id","length","textAlign","mess","pivot","messages_Message","created_at","fromNow"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef, Suspense} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\nimport useWindowSize from \"./useWindowSize.jsx\";\r\nimport moment from 'moment';\r\nimport {BsSearch} from 'react-icons/bs';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {searchFriendProfile} from './../../Actions/index.jsx';\r\n\r\n  const SiderMessenger = (props, {message, friends }) => {\r\n    const windowSize = useWindowSize();\r\n    const dispatch = useDispatch();\r\n    const listFriends = useSelector(state => state.friends.list);\r\n    const {list} = useSelector(state => state.message);\r\n    const searchKeyWords = useSelector(state => state.friends.searchKeyWords);\r\n    const [scrollSider, setScrollSider] = useState();\r\n    const sider = useRef();\r\n    const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n    const heightScrollSider = window.innerHeight - 190;\r\n    const [showScroll, setShowScroll] = useState({height: heightScrollSider})\r\n    const [contentChat, setContentChat] = useState(false)\r\n    const [isSeach, setIsSeach] = useState(false)\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n      setShowScroll({height: heightScrollSider})\r\n    },[windowSize]);\r\n\r\n    function handleSiderScroll(){\r\n      const {scrollTop} = sider.current;\r\n      if(scrollTop > 0 && !scrollSider) setScrollSider({boxShadow: '-4px 0.1px 3px rgba(0,0,0,0.2)'})\r\n      if(scrollTop === 0) setScrollSider({})\r\n    }\r\n\r\n    const onChangeSearchFriend = (e) => {\r\n      dispatch(searchFriendProfile(e.target.value))\r\n      if(e.target.value){\r\n        setIsSeach(true)\r\n      }else {\r\n        setIsSeach(false)\r\n      }\r\n    }\r\n\r\n\r\n    const openContentChat = (idUser) => {\r\n      history.push('/messenger/' + idUser)\r\n    }\r\n\r\n    console.log(searchKeyWords);\r\n\r\n\r\n      return(\r\n        <div className=\"sider-messenger-container\">\r\n          <div className=\"sider-messenger-head\" style={scrollSider}>\r\n            <div className=\"sider-messenger-title\">\r\n              <div className=\"sider-messenger-title-left\">\r\n                <div className=\"sider-messenger-avatar\">\r\n                  {currentUser.user_avatar_cropX === null ?\r\n                    <img src={currentUser.user_avatar} alt={currentUser.user_first_name + ' ' + currentUser.user_last_name} />\r\n                    :\r\n                    <Image cloudName=\"mohi-vn\" publicId={currentUser.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                      <Transformation height={currentUser.user_avatar_cropH}  width={currentUser.user_avatar_cropW} x={currentUser.user_avatar_cropX} y={currentUser.user_avatar_cropY} crop=\"crop\" />\r\n                    </Image>\r\n                  }\r\n                </div>\r\n                <span>Chat</span>\r\n              </div>\r\n              <div className=\"sider-messenger-title-right\">\r\n              </div>\r\n            </div>\r\n            <div className=\"sider-messenger-search\">\r\n              <BsSearch />\r\n            <input type=\"text\" placeholder=\"Tìm kiếm trên Messenger\" onChange={onChangeSearchFriend}/>\r\n            </div>\r\n          </div>\r\n          <div className=\"sider-messenger-list-user-container\" >\r\n            <div className=\"sider-messenger-list-user\" style={showScroll} onScroll={() => handleSiderScroll()} ref={sider}>\r\n              <ul>\r\n                {searchKeyWords && listFriends.filter(fr => {\r\n                  const name = fr.user_first_name + ' ' + fr.user_last_name;\r\n\r\n                  return name.toLowerCase().replace(/\\s/g,'').indexOf(searchKeyWords.toLowerCase().replace(/\\s/g,'')) !== -1\r\n                }).map((friends, index) => {\r\n                  return(\r\n                    <li key={index} onClick={() => openContentChat(friends.id)}>\r\n                      <div className=\"sider-messenger-user-item\">\r\n                        <div className=\"sider-messenger-user-item-avatar\">\r\n                          {friends.user_avatar_cropX === null ?\r\n                            <img src={friends.user_avatar} alt={friends.user_last_name} />\r\n                            :\r\n                            <Image cloudName=\"mohi-vn\" publicId={friends.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                              <Transformation height={friends.user_avatar_cropH}  width={friends.user_avatar_cropW} x={friends.user_avatar_cropX} y={friends.user_avatar_cropY} crop=\"crop\" />\r\n                            </Image>\r\n                          }\r\n                        </div>\r\n                        <div className=\"sider-messenger-content\">\r\n                          <div className=\"sider-messenger-username\">\r\n                            {friends.user_first_name + ' ' + friends.user_last_name}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  )\r\n                })}\r\n                {!listFriends.filter(fr => {\r\n                  const name = fr.user_first_name + ' ' + fr.user_last_name;\r\n\r\n                  return name.toLowerCase().replace(/\\s/g,'').indexOf(searchKeyWords.toLowerCase().replace(/\\s/g,'')) !== -1\r\n                }).length && isSeach &&\r\n                <div style={{textAlign: 'center'}}>Không có kết quả tìm kiếm</div>\r\n                }\r\n                {!list.length && !isSeach &&\r\n                <div style={{textAlign: 'center'}}>Tìm kiếm bạn bè để nhắn tin</div>\r\n                }\r\n                {!isSeach && list.map((mess, index) => {\r\n                  return(\r\n                    <li key={index} onClick={() => openContentChat(mess.id)}>\r\n                      <div className=\"sider-messenger-user-item\">\r\n                        <div className=\"sider-messenger-user-item-avatar\">\r\n                          {mess.user_avatar_cropX === null ?\r\n                            <img src={mess.user_avatar} alt={mess.user_last_name} />\r\n                            :\r\n                            <Image cloudName=\"mohi-vn\" publicId={mess.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                              <Transformation height={mess.user_avatar_cropH}  width={mess.user_avatar_cropW} x={mess.user_avatar_cropX} y={mess.user_avatar_cropY} crop=\"crop\" />\r\n                            </Image>\r\n                          }\r\n                        </div>\r\n                        <div className=\"sider-messenger-content\">\r\n                          <div className=\"sider-messenger-username\">\r\n                            {mess.user_first_name + ' ' + mess.user_last_name}\r\n                          </div>\r\n                          <div className=\"sider-messenger-content-nearest\">\r\n                            {mess.pivot.messages_Message}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"sider-messenger-time-send\">\r\n                          {moment(mess.pivot.created_at, \"YYYYMMDD\\h:m:s\").fromNow()}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"sider-messenger-user-item-status\">\r\n                      </div>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n\r\nexport default SiderMessenger;\r\n"]},"metadata":{},"sourceType":"module"}