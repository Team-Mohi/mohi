{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from'react';import{Link,Route,Switch,useParams,useLocation}from'react-router-dom';import'./search.css';import FilterPost from'./Filter/filter_post.jsx';import FilterImage from'./Filter/filter_image.jsx';import FilterVideo from'./Filter/filter_video.jsx';import FilterPeople from'./Filter/filter_people.jsx';import FilterAll from'./Filter/filter_all.jsx';import{GoPrimitiveDot}from\"react-icons/go\";import{Row,Col}from'antd';import axios from'axios';import{useDispatch,useSelector}from'react-redux';import{requestSearchMohi}from'./../../Actions/index.jsx';import{responseSearchMohi}from'./../../Actions/index.jsx';import{WaveLoading}from'react-loadingg';function SearchNavigation(_ref){var search=_ref.search;var _useSelector=useSelector(function(state){return state.search;}),loading=_useSelector.loading;var _useParams=useParams(),value=_useParams.value;var location=useLocation().pathname.split('/');var isActive=location[3];var yearNow=new Date().getFullYear();var dispatch=useDispatch();useEffect(function(){getSearch();},[value]);var getSearch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(requestSearchMohi());_context.next=3;return axios.post(\"https://www.api.mohi.vn/api/auth/search/\",{search_text:value}).then(function(res){dispatch(responseSearchMohi(res.data));});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getSearch(){return _ref2.apply(this,arguments);};}();if(loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\",style:{marginTop:'64px'}},/*#__PURE__*/React.createElement(\"div\",{style:{background:'rgba(255,255,255,0.7)',position:'absolute',width:'100%',height:'100%',top:0,left:0}},/*#__PURE__*/React.createElement(WaveLoading,null)));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper\",style:{marginTop:'64px'}},/*#__PURE__*/React.createElement(\"div\",{style:{position:'relative'}},/*#__PURE__*/React.createElement(\"ul\",{className:\"search-filter-top\",style:{position:'fixed',width:'1140px'}},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/search/\".concat(value,\"/all\"),className:isActive==='all'||!isActive?\"search-filter-top-active\":''},\"M\\u1ECDi ng\\u01B0\\u1EDDi\")))),/*#__PURE__*/React.createElement(Row,{className:\"search-container\"},/*#__PURE__*/React.createElement(Col,{span:6,style:{position:'relative'}},/*#__PURE__*/React.createElement(\"div\",{className:\"search-filter-sider\",style:{padding:'0 20px',position:'fixed',width:'285px'}},/*#__PURE__*/React.createElement(\"h5\",null,\"K\\u1EBFt qu\\u1EA3 t\\xECm ki\\u1EBFm cho: \",/*#__PURE__*/React.createElement(\"p\",null,\"\\\"\",value,\"\\\"\")))),/*#__PURE__*/React.createElement(Col,{span:12,style:{paddingRight:'10px',position:'relative'}},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/search/:value/all\"},/*#__PURE__*/React.createElement(FilterAll,{value:value})),/*#__PURE__*/React.createElement(Route,{path:\"/search/:value/post\",component:FilterPost}),/*#__PURE__*/React.createElement(Route,{path:\"/search/:value/image\",component:FilterImage}),/*#__PURE__*/React.createElement(Route,{path:\"/search/:value/people\",component:FilterPeople}),/*#__PURE__*/React.createElement(Route,{path:\"/search/:value/video\",component:FilterVideo}),/*#__PURE__*/React.createElement(Route,{component:FilterAll}))),/*#__PURE__*/React.createElement(Col,{span:6,style:{position:'relative'}},/*#__PURE__*/React.createElement(\"div\",{className:\"box-footer\",style:{marginTop:'0',position:'fixed',width:'285px'}},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(GoPrimitiveDot,null),/*#__PURE__*/React.createElement(Link,{to:\"privacy\"},\"Quy\\u1EC1n ri\\xEAng t\\u01B0\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(GoPrimitiveDot,null),/*#__PURE__*/React.createElement(Link,{to:\"rules-mohi\"},\"\\u0110i\\u1EC1u kho\\u1EA3n\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(GoPrimitiveDot,null),/*#__PURE__*/React.createElement(Link,{to:\"privacy-policy\"},\"Ch\\xEDnh s\\xE1ch b\\u1EA3o m\\u1EADt\")),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(GoPrimitiveDot,null),/*#__PURE__*/React.createElement(Link,{to:\"help\"},\"Tr\\u1EE3 gi\\xFAp\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"brand-app\"},\"Mohi \\xA9 \",yearNow))))));}export default SearchNavigation;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Search/index.jsx"],"names":["React","useEffect","Link","Route","Switch","useParams","useLocation","FilterPost","FilterImage","FilterVideo","FilterPeople","FilterAll","GoPrimitiveDot","Row","Col","axios","useDispatch","useSelector","requestSearchMohi","responseSearchMohi","WaveLoading","SearchNavigation","search","state","loading","value","location","pathname","split","isActive","yearNow","Date","getFullYear","dispatch","getSearch","post","search_text","then","res","data","marginTop","background","position","width","height","top","left","padding","paddingRight"],"mappings":"+RAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,IAAR,CAAcC,KAAd,CAAqBC,MAArB,CAA6BC,SAA7B,CAAwCC,WAAxC,KAA0D,kBAA1D,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,OAASC,cAAT,KAA+B,gBAA/B,CACA,OACEC,GADF,CAEEC,GAFF,KAGO,MAHP,CAIA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAAQC,iBAAR,KAAgC,2BAAhC,CACA,OAAQC,kBAAR,KAAiC,2BAAjC,CACA,OAASC,WAAT,KAA4B,gBAA5B,CAEA,QAASC,CAAAA,gBAAT,MAAqC,IAATC,CAAAA,MAAS,MAATA,MAAS,kBACjBL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACD,MAAV,EAAN,CADM,CAC5BE,OAD4B,cAC5BA,OAD4B,gBAEnBnB,SAAS,EAFU,CAE5BoB,KAF4B,YAE5BA,KAF4B,CAGnC,GAAMC,CAAAA,QAAQ,CAAGpB,WAAW,GAAGqB,QAAd,CAAuBC,KAAvB,CAA6B,GAA7B,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAGH,QAAQ,CAAC,CAAD,CAAzB,CACA,GAAMI,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,GAAWC,WAAX,EAAhB,CACA,GAAMC,CAAAA,QAAQ,CAAGjB,WAAW,EAA5B,CAEAf,SAAS,CAAC,UAAM,CACdiC,SAAS,GACV,CAFQ,CAEN,CAACT,KAAD,CAFM,CAAT,CAIA,GAAMS,CAAAA,SAAS,2FAAG,mIAChBD,QAAQ,CAACf,iBAAiB,EAAlB,CAAR,CADgB,sBAEVH,CAAAA,KAAK,CAACoB,IAAN,CAAW,0CAAX,CAAuD,CAAEC,WAAW,CAAEX,KAAf,CAAvD,EACLY,IADK,CACA,SAACC,GAAD,CAAS,CACbL,QAAQ,CAACd,kBAAkB,CAACmB,GAAG,CAACC,IAAL,CAAnB,CAAR,CACD,CAHK,CAFU,uDAAH,kBAATL,CAAAA,SAAS,2CAAf,CAQA,GAAGV,OAAH,CAAW,CACP,mBACE,2BAAK,SAAS,CAAC,SAAf,CAAyB,KAAK,CAAE,CAACgB,SAAS,CAAC,MAAX,CAAhC,eACE,2BAAK,KAAK,CAAE,CAACC,UAAU,CAAE,uBAAb,CAAsCC,QAAQ,CAAE,UAAhD,CAA4DC,KAAK,CAAE,MAAnE,CAA2EC,MAAM,CAAE,MAAnF,CAA2FC,GAAG,CAAE,CAAhG,CAAmGC,IAAI,CAAE,CAAzG,CAAZ,eAAyH,oBAAC,WAAD,MAAzH,CADF,CADF,CAKH,CAED,mBACE,qDACE,2BAAK,SAAS,CAAC,SAAf,CAAyB,KAAK,CAAE,CAACN,SAAS,CAAC,MAAX,CAAhC,eACE,2BAAK,KAAK,CAAE,CAACE,QAAQ,CAAC,UAAV,CAAZ,eACE,0BAAI,SAAS,CAAC,mBAAd,CAAkC,KAAK,CAAE,CAACA,QAAQ,CAAC,OAAV,CAAmBC,KAAK,CAAE,QAA1B,CAAzC,eACE,2CACE,oBAAC,IAAD,EAAM,EAAE,mBAAalB,KAAb,QAAR,CAAkC,SAAS,CAAEI,QAAQ,GAAK,KAAb,EAAsB,CAACA,QAAvB,4BAA+D,EAA5G,6BADF,CADF,CADF,CADF,cAQE,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAACa,QAAQ,CAAC,UAAV,CAArB,eACE,2BAAK,SAAS,CAAC,qBAAf,CAAqC,KAAK,CAAE,CAACK,OAAO,CAAE,QAAV,CAAmBL,QAAQ,CAAC,OAA5B,CAAqCC,KAAK,CAAE,OAA5C,CAA5C,eACE,sFAA0B,kCAAKlB,KAAL,MAA1B,CADF,CADF,CADF,cAME,oBAAC,GAAD,EAAK,IAAI,CAAE,EAAX,CAAe,KAAK,CAAE,CAAEuB,YAAY,CAAE,MAAhB,CAAwBN,QAAQ,CAAC,UAAjC,CAAtB,eACA,oBAAC,MAAD,mBACE,oBAAC,KAAD,EAAO,IAAI,CAAC,oBAAZ,eAAiC,oBAAC,SAAD,EAAW,KAAK,CAAEjB,KAAlB,EAAjC,CADF,cAEE,oBAAC,KAAD,EAAO,IAAI,CAAC,qBAAZ,CAAkC,SAAS,CAAElB,UAA7C,EAFF,cAGE,oBAAC,KAAD,EAAO,IAAI,CAAC,sBAAZ,CAAmC,SAAS,CAAEC,WAA9C,EAHF,cAIE,oBAAC,KAAD,EAAO,IAAI,CAAC,uBAAZ,CAAoC,SAAS,CAAEE,YAA/C,EAJF,cAKE,oBAAC,KAAD,EAAO,IAAI,CAAC,sBAAZ,CAAmC,SAAS,CAAED,WAA9C,EALF,cAME,oBAAC,KAAD,EAAQ,SAAS,CAAEE,SAAnB,EANF,CADA,CANF,cAgBE,oBAAC,GAAD,EAAK,IAAI,CAAE,CAAX,CAAc,KAAK,CAAE,CAAE+B,QAAQ,CAAC,UAAX,CAArB,eACE,2BAAK,SAAS,CAAC,YAAf,CAA4B,KAAK,CAAE,CAAEF,SAAS,CAAE,GAAb,CAAkBE,QAAQ,CAAC,OAA3B,CAAoCC,KAAK,CAAE,OAA3C,CAAnC,eACI,2CACI,2CAAI,oBAAC,cAAD,MAAJ,cACI,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,gCADJ,CADJ,cAII,2CAAI,oBAAC,cAAD,MAAJ,cACI,oBAAC,IAAD,EAAM,EAAE,CAAC,YAAT,8BADJ,CAJJ,cAOI,2CAAI,oBAAC,cAAD,MAAJ,cACI,oBAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,uCADJ,CAPJ,cAUI,2CAAI,oBAAC,cAAD,MAAJ,cACI,oBAAC,IAAD,EAAM,EAAE,CAAC,MAAT,qBADJ,CAVJ,CADJ,cAeI,2BAAK,SAAS,CAAC,WAAf,eAAwCb,OAAxC,CAfJ,CADF,CAhBF,CARF,CADF,CADF,CAiDD,CAED,cAAeT,CAAAA,gBAAf","sourcesContent":["import React, { useEffect } from 'react';\r\nimport {Link, Route, Switch, useParams, useLocation} from 'react-router-dom';\r\nimport './search.css';\r\nimport FilterPost from './Filter/filter_post.jsx';\r\nimport FilterImage from './Filter/filter_image.jsx';\r\nimport FilterVideo from './Filter/filter_video.jsx';\r\nimport FilterPeople from './Filter/filter_people.jsx';\r\nimport FilterAll from './Filter/filter_all.jsx';\r\nimport { GoPrimitiveDot } from \"react-icons/go\";\r\nimport {\r\n  Row,\r\n  Col\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {requestSearchMohi} from './../../Actions/index.jsx';\r\nimport {responseSearchMohi} from './../../Actions/index.jsx';\r\nimport { WaveLoading } from 'react-loadingg';\r\n\r\nfunction SearchNavigation({ search }){\r\n  const {loading} = useSelector(state => state.search)\r\n  const {value} = useParams();\r\n  const location = useLocation().pathname.split('/');\r\n  const isActive = location[3];\r\n  const yearNow = new Date().getFullYear();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    getSearch()\r\n  }, [value])\r\n\r\n  const getSearch = async () => {\r\n    dispatch(requestSearchMohi())\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/search/\", { search_text: value})\r\n    .then((res) => {\r\n      dispatch(responseSearchMohi(res.data))\r\n    })\r\n  }\r\n\r\n  if(loading){\r\n      return(\r\n        <div className=\"wrapper\" style={{marginTop:'64px'}}>\r\n          <div style={{background: 'rgba(255,255,255,0.7)', position: 'absolute', width: '100%', height: '100%', top: 0, left: 0}}><WaveLoading /></div>\r\n        </div>\r\n      )\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <div className=\"wrapper\" style={{marginTop:'64px'}}>\r\n        <div style={{position:'relative'}}>\r\n          <ul className=\"search-filter-top\" style={{position:'fixed', width: '1140px'}}>\r\n            <li>\r\n              <Link to={`/search/${value}/all`} className={isActive === 'all' || !isActive ? `search-filter-top-active` : ''}>Mọi người</Link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <Row className=\"search-container\" >\r\n          <Col span={6} style={{position:'relative'}}>\r\n            <div className=\"search-filter-sider\" style={{padding: '0 20px',position:'fixed', width: '285px'}}>\r\n              <h5>Kết quả tìm kiếm cho: <p>\"{value}\"</p></h5>\r\n            </div>\r\n          </Col>\r\n          <Col span={12} style={{ paddingRight: '10px', position:'relative'}}>\r\n          <Switch>\r\n            <Route path=\"/search/:value/all\"><FilterAll value={value} /></Route>\r\n            <Route path=\"/search/:value/post\" component={FilterPost}/>\r\n            <Route path=\"/search/:value/image\" component={FilterImage}/>\r\n            <Route path=\"/search/:value/people\" component={FilterPeople}/>\r\n            <Route path=\"/search/:value/video\" component={FilterVideo}/>\r\n            <Route  component={FilterAll}/>\r\n          </Switch>\r\n          </Col>\r\n          <Col span={6} style={{ position:'relative'}}>\r\n            <div className=\"box-footer\" style={{ marginTop: '0', position:'fixed', width: '285px'}}>\r\n                <ul>\r\n                    <li><GoPrimitiveDot />\r\n                        <Link to=\"privacy\">Quyền riêng tư</Link>\r\n                    </li>\r\n                    <li><GoPrimitiveDot />\r\n                        <Link to=\"rules-mohi\">Điều khoản</Link>\r\n                    </li>\r\n                    <li><GoPrimitiveDot />\r\n                        <Link to=\"privacy-policy\">Chính sách bảo mật</Link>\r\n                    </li>\r\n                    <li><GoPrimitiveDot />\r\n                        <Link to=\"help\">Trợ giúp</Link>\r\n                    </li>\r\n                </ul>\r\n                <div className=\"brand-app\">Mohi &copy; {yearNow}</div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SearchNavigation;\r\n"]},"metadata":{},"sourceType":"module"}