{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\ModalPost\\\\index.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport './index.css';\nimport { Link, useHistory, useParams } from \"react-router-dom\";\nimport { AiFillCloseCircle, AiFillLike, AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { FaRegCommentAlt, FaUserLock, FaUserAlt } from \"react-icons/fa\";\nimport { MdPublic } from \"react-icons/md\";\nimport moment from 'moment';\n\nfunction ModalPost() {\n  const history = useHistory();\n  const {\n    index\n  } = useParams();\n  const postData = history.location.state;\n  console.log(postData);\n  const images = postData.images_post;\n  const [indexCurrent, setIndexCurrent] = useState(index);\n  const lastIndex = images.length - 1;\n  const [currentPhoto, setCurrentPhoto] = useState(images[index].post_images_Url);\n  moment.updateLocale('en', {\n    relativeTime: {\n      future: \"%s\",\n      past: \"%s trước\",\n      s: 'vài giây',\n      ss: '%d phút',\n      m: \"1 phút trước\",\n      mm: \"%d phút\",\n      h: \"an giờ\",\n      hh: \"%d giờ\",\n      d: \"một ngày\",\n      dd: \"%d ngày\",\n      w: \"một tuần\",\n      ww: \"%d tuần\",\n      M: \"một tháng\",\n      MM: \"%d tháng\",\n      y: \"một năm\",\n      yy: \"%d năm\"\n    }\n  });\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyUp, false);\n    return () => document.removeEventListener(\"keydown\", handleKeyUp, false);\n  });\n\n  const backToHistory = () => {\n    history.goBack();\n  };\n\n  const handleKeyUp = e => {\n    if (e.keyCode === 27) {\n      backToHistory();\n    }\n  };\n\n  const prePostImage = () => {\n    if (Number(indexCurrent) === 0) {\n      setIndexCurrent(lastIndex);\n      setCurrentPhoto(images[lastIndex].post_images_Url);\n    } else {\n      let _preImage = Number(indexCurrent) - 1;\n\n      setCurrentPhoto(images[_preImage].post_images_Url);\n      setIndexCurrent(_preImage);\n    }\n  };\n\n  const nextPostImage = () => {\n    if (Number(indexCurrent) === images.length - 1) {\n      setIndexCurrent(0);\n      setCurrentPhoto(images[0].post_images_Url);\n    } else {\n      let _nextImage = Number(indexCurrent) + 1;\n\n      setCurrentPhoto(images[_nextImage].post_images_Url);\n      setIndexCurrent(_nextImage);\n    }\n  };\n\n  const PrivacyPost = () => {\n    switch (postData.post_Privacy) {\n      case \"public\":\n        return /*#__PURE__*/React.createElement(MdPublic, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 18\n          }\n        });\n        break;\n\n      case \"onlyme\":\n        return /*#__PURE__*/React.createElement(FaUserLock, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 18\n          }\n        });\n        break;\n\n      case \"friend\":\n        return /*#__PURE__*/React.createElement(FaUserAlt, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 18\n          }\n        });\n        break;\n\n      default:\n        return null;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCloseCircle, {\n    onClick: backToHistory,\n    className: \"close-modal-post-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-background\",\n    style: {\n      filter: 'blur(10px)',\n      backgroundImage: `url(${currentPhoto})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-carousel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-carousel-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, images.length > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-pre-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: prePostImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCaretLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 46\n    }\n  }))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-curent-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, images[indexCurrent].post_images_Type === 'image' ? /*#__PURE__*/React.createElement(\"img\", {\n    src: currentPhoto,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"video\", {\n    src: currentPhoto,\n    autoPlay: true,\n    preload: \"metadata\",\n    controls: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })), images.length > 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-next-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: nextPostImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCaretRight, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 47\n    }\n  }))) : null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-info-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-info-user-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: postData.user_admin_post.user_avatar,\n    alt: postData.user_admin_post.user_first_name + ' ' + postData.user_admin_post.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-info-user-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/' + postData.user_admin_post.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 18\n    }\n  }, postData.user_admin_post.user_first_name + ' ' + postData.user_admin_post.user_last_name)), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, moment(postData.created_at, \"YYYYMMDD\\h:m:s\").fromNow(), \" \", /*#__PURE__*/React.createElement(PrivacyPost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 79\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-info-user-option\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BsThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, postData.post_Content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-reaction\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }, postData.actions_post.length ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 45\n    }\n  }, postData.actions_post.length, \" c\\u1EA3m x\\xFAc\") : null, postData.comment_post.length ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 45\n    }\n  }, postData.comment_post.length, \" c\\u1EA3m x\\xFAc\") : null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"Chia s\\u1EBB\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-post-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AiFillLike, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 19\n    }\n  }), \" Th\\xEDch\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaRegCommentAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 19\n    }\n  }), \" B\\xECnh lu\\u1EADn\")))));\n}\n\nexport default ModalPost;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/ModalPost/index.jsx"],"names":["React","useEffect","useState","Link","useHistory","useParams","AiFillCloseCircle","AiFillLike","AiFillCaretLeft","AiFillCaretRight","BsThreeDots","FaRegCommentAlt","FaUserLock","FaUserAlt","MdPublic","moment","ModalPost","history","index","postData","location","state","console","log","images","images_post","indexCurrent","setIndexCurrent","lastIndex","length","currentPhoto","setCurrentPhoto","post_images_Url","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","document","addEventListener","handleKeyUp","removeEventListener","backToHistory","goBack","e","keyCode","prePostImage","Number","_preImage","nextPostImage","_nextImage","PrivacyPost","post_Privacy","filter","backgroundImage","post_images_Type","user_admin_post","user_avatar","user_first_name","user_last_name","user_username","created_at","fromNow","post_Content","actions_post","comment_post"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './index.css';\r\nimport { Link, useHistory, useParams } from \"react-router-dom\";\r\nimport { AiFillCloseCircle, AiFillLike, AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { FaRegCommentAlt, FaUserLock, FaUserAlt } from \"react-icons/fa\";\r\nimport { MdPublic } from \"react-icons/md\";\r\nimport moment from 'moment';\r\n\r\nfunction ModalPost(){\r\n  const history = useHistory();\r\n  const { index } = useParams();\r\n  const postData = history.location.state;\r\n  console.log(postData);\r\n\r\n  const images = postData.images_post;\r\n  const [indexCurrent, setIndexCurrent] = useState(index);\r\n  const lastIndex = images.length - 1;\r\n  const [currentPhoto, setCurrentPhoto] = useState(images[index].post_images_Url);\r\n\r\n  moment.updateLocale('en', {\r\n    relativeTime : {\r\n        future: \"%s\",\r\n        past:   \"%s trước\",\r\n        s  : 'vài giây',\r\n        ss : '%d phút',\r\n        m:  \"1 phút trước\",\r\n        mm: \"%d phút\",\r\n        h:  \"an giờ\",\r\n        hh: \"%d giờ\",\r\n        d:  \"một ngày\",\r\n        dd: \"%d ngày\",\r\n        w:  \"một tuần\",\r\n        ww: \"%d tuần\",\r\n        M:  \"một tháng\",\r\n        MM: \"%d tháng\",\r\n        y:  \"một năm\",\r\n        yy: \"%d năm\"\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyUp, false);\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleKeyUp, false);\r\n  })\r\n\r\n  const backToHistory = () => {\r\n    history.goBack()\r\n  }\r\n  const handleKeyUp = (e) => {\r\n    if (e.keyCode === 27) {\r\n        backToHistory()\r\n    }\r\n  }\r\n\r\n  const prePostImage = () => {\r\n    if(Number(indexCurrent) === 0){\r\n      setIndexCurrent(lastIndex)\r\n      setCurrentPhoto(images[lastIndex].post_images_Url)\r\n    }else {\r\n      let _preImage = Number(indexCurrent) - 1;\r\n      setCurrentPhoto(images[_preImage].post_images_Url)\r\n      setIndexCurrent(_preImage)\r\n    }\r\n  }\r\n\r\n  const nextPostImage = () => {\r\n    if(Number(indexCurrent) === images.length - 1){\r\n      setIndexCurrent(0)\r\n      setCurrentPhoto(images[0].post_images_Url)\r\n    }else {\r\n      let _nextImage = Number(indexCurrent) + 1;\r\n      setCurrentPhoto(images[_nextImage].post_images_Url)\r\n      setIndexCurrent(_nextImage)\r\n    }\r\n  }\r\n\r\n  const PrivacyPost = () => {\r\n    switch (postData.post_Privacy) {\r\n      case \"public\":\r\n          return <MdPublic />\r\n        break;\r\n      case \"onlyme\":\r\n          return <FaUserLock />\r\n        break;\r\n      case \"friend\":\r\n          return <FaUserAlt />\r\n        break;\r\n      default: return null\r\n\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className=\"modal-post\">\r\n      <div className=\"modal-post-container\">\r\n        <AiFillCloseCircle onClick={backToHistory}  className=\"close-modal-post-image\" />\r\n        <div className=\"modal-post-background\" style={{ filter: 'blur(10px)',backgroundImage: `url(${currentPhoto})`}}></div>\r\n        <div className=\"modal-post-carousel\" >\r\n          <div className=\"modal-post-carousel-container\" >\r\n          {images.length > 1 ?\r\n            <div className=\"modal-post-pre-image\">\r\n              <button onClick={prePostImage}><AiFillCaretLeft /></button>\r\n            </div> : null}\r\n            <div className=\"modal-post-curent-image\">\r\n              {images[indexCurrent].post_images_Type === 'image' ?\r\n                <img src={currentPhoto} alt=\"\" />\r\n                :\r\n                <video src={currentPhoto} autoPlay preload=\"metadata\" controls></video>\r\n              }\r\n            </div>\r\n            {images.length > 1 ?\r\n            <div className=\"modal-post-next-image\">\r\n              <button onClick={nextPostImage}><AiFillCaretRight /></button>\r\n            </div> : null}\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-post-info\">\r\n          <div className=\"modal-post-info-user\">\r\n            <div className=\"modal-post-info-user-avatar\">\r\n              <img src={postData.user_admin_post.user_avatar} alt={postData.user_admin_post.user_first_name + ' ' + postData.user_admin_post.user_last_name}/>\r\n            </div>\r\n            <div className=\"modal-post-info-user-name\">\r\n              <p><Link to={'/' + postData.user_admin_post.user_username}>{postData.user_admin_post.user_first_name + ' ' + postData.user_admin_post.user_last_name}</Link></p>\r\n              <span>{moment(postData.created_at, \"YYYYMMDD\\h:m:s\").fromNow()} <PrivacyPost /></span>\r\n            </div>\r\n            <div className=\"modal-post-info-user-option\">\r\n              <BsThreeDots />\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-post-content\">\r\n            {postData.post_Content}\r\n          </div>\r\n          <div className=\"modal-post-reaction\">\r\n            {postData.actions_post.length ? <span>{postData.actions_post.length} cảm xúc</span> : null}\r\n            {postData.comment_post.length ? <span>{postData.comment_post.length} cảm xúc</span> : null}\r\n            <span>Chia sẻ</span>\r\n          </div>\r\n          <div className=\"modal-post-action\">\r\n            <span><AiFillLike /> Thích</span>\r\n            <span><FaRegCommentAlt /> Bình luận</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalPost;\r\n"]},"metadata":{},"sourceType":"module"}