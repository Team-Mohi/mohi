{"ast":null,"code":"import React from'react';import{Link}from'react-router-dom';import{MdDone}from'react-icons/md';import{FaDotCircle}from'react-icons/fa';import'./MessengerMenu.css';import{useSelector}from'react-redux';import moment from'moment';import{Spin}from'antd';import{Image,Transformation}from'cloudinary-react';function MenuMessenger(_ref){var message=_ref.message;var _useSelector=useSelector(function(state){return state.message;}),list=_useSelector.list,loading=_useSelector.loading;moment.updateLocale('en',{relativeTime:{future:\"%s\",past:\"%s\",s:'vài giây',ss:'%d phút',m:\"1 phút\",mm:\"%d phút\",h:\"%d giờ\",hh:\"%d giờ\",d:\"một ngày\",dd:\"%d ngày\",w:\"một tuần\",ww:\"%d tuần\",M:\"một tháng\",MM:\"%d tháng\",y:\"một năm\",yy:\"%d năm\"}});if(loading&&!list.length){return/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-title\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Tin nh\\u1EAFn\"),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-title-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"friend-may-know-container\",style:{minHeight:'80px',display:'flex',alignItems:'center',justifyContent:'center'}},/*#__PURE__*/React.createElement(Spin,null))));}if(!loading&&!list.length){return/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-title\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Tin nh\\u1EAFn\"),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-title-control\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"friend-may-know-container\",style:{minHeight:'80px',display:'flex',alignItems:'center',justifyContent:'center'}},\"B\\u1EA1n ch\\u01B0a c\\xF3 tin nh\\u1EAFn\")));}return/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-container\"},\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-title\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Tin nh\\u1EAFn\")),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-dropdown-scroll\"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-dropdown-scroll-thumb\"},list.map(function(message,index){return/*#__PURE__*/React.createElement(Link,{to:\"/messenger/\"+message.id,key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-messenger-content \"},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-content-avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:message.user_avatar,alt:message.user_first_name+' '+message.user_last_name}),message.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:message.user_avatar,alt:message.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:message.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:message.user_avatar_cropH,width:message.user_avatar_cropW,x:message.user_avatar_cropX,y:message.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-messenger-content-title\"},/*#__PURE__*/React.createElement(\"h6\",null,message.user_first_name+' '+message.user_last_name),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-content-button\"},/*#__PURE__*/React.createElement(\"p\",null,message.pivot.messages_Message))),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-messenger-content-right\"},/*#__PURE__*/React.createElement(\"p\",null,moment(message.pivot.created_at,\"YYYYMMDD\\h:m:s\").fromNow()),!message.pivot.messages_ReadAt&&/*#__PURE__*/React.createElement(FaDotCircle,null))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"menu-noti-footer\"},/*#__PURE__*/React.createElement(Link,{to:\"/messenger\"},\"Xem t\\u1EA5t c\\u1EA3 tin nh\\u1EAFn\"))));}export default MenuMessenger;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Messenger/MessengerMenu.jsx"],"names":["React","Link","MdDone","FaDotCircle","useSelector","moment","Spin","Image","Transformation","MenuMessenger","message","state","list","loading","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","length","minHeight","display","alignItems","justifyContent","map","index","id","user_avatar","user_first_name","user_last_name","user_avatar_cropX","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","pivot","messages_Message","created_at","fromNow","messages_ReadAt"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {MdDone} from 'react-icons/md';\r\nimport {FaDotCircle} from 'react-icons/fa';\r\nimport './MessengerMenu.css';\r\nimport { useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nimport {Spin} from 'antd';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction MenuMessenger({ message }) {\r\n  const {list, loading} = useSelector(state => state.message);\r\n\r\n  moment.updateLocale('en', {\r\n    relativeTime : {\r\n        future: \"%s\",\r\n        past:   \"%s\",\r\n        s  : 'vài giây',\r\n        ss : '%d phút',\r\n        m:  \"1 phút\",\r\n        mm: \"%d phút\",\r\n        h:  \"%d giờ\",\r\n        hh: \"%d giờ\",\r\n        d:  \"một ngày\",\r\n        dd: \"%d ngày\",\r\n        w:  \"một tuần\",\r\n        ww: \"%d tuần\",\r\n        M:  \"một tháng\",\r\n        MM: \"%d tháng\",\r\n        y:  \"một năm\",\r\n        yy: \"%d năm\"\r\n    }\r\n  });\r\n\r\n  if(loading && !list.length){\r\n    return(\r\n      <div className = \"menu-noti-container\">\r\n        <div className=\"menu-noti-main\">\r\n          <div className=\"menu-noti-title\">\r\n            <h5>Tin nhắn</h5>\r\n            <div className=\"menu-noti-title-control\">\r\n            </div>\r\n          </div>\r\n          <div className=\"friend-may-know-container\"\r\n            style={{\r\n              minHeight: '80px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}\r\n          >\r\n            <Spin />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if(!loading && !list.length){\r\n    return(\r\n      <div className = \"menu-noti-container\">\r\n        <div className=\"menu-noti-main\">\r\n          <div className=\"menu-noti-title\">\r\n            <h5>Tin nhắn</h5>\r\n            <div className=\"menu-noti-title-control\">\r\n            </div>\r\n          </div>\r\n          <div className=\"friend-may-know-container\"\r\n            style={{\r\n              minHeight: '80px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}\r\n          >\r\n            Bạn chưa có tin nhắn\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (<div className = \"menu-noti-container\"> <div className=\"menu-noti-main\">\r\n    <div className=\"menu-noti-title\">\r\n      <h5>Tin nhắn</h5>\r\n    </div>\r\n    <div className=\"menu-dropdown-scroll\">\r\n      <div className=\"menu-dropdown-scroll-thumb\">\r\n        {list.map((message, index) => {\r\n          return(\r\n            <Link to={\"/messenger/\" + message.id} key={index}>\r\n              <div className={`menu-messenger-content `}>\r\n                <div className=\"menu-noti-content-avatar\">\r\n                  <img src={message.user_avatar} alt={message.user_first_name + ' ' + message.user_last_name}/>\r\n                  {message.user_avatar_cropX === null ?\r\n                    <img src={message.user_avatar} alt={message.user_last_name} />\r\n                    :\r\n                    <Image cloudName=\"mohi-vn\" publicId={message.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                      <Transformation height={message.user_avatar_cropH}  width={message.user_avatar_cropW} x={message.user_avatar_cropX} y={message.user_avatar_cropY} crop=\"crop\" />\r\n                    </Image>\r\n                  }\r\n                </div>\r\n                <div className=\"menu-messenger-content-title\">\r\n                  <h6>{message.user_first_name + ' ' + message.user_last_name}</h6>\r\n                  <div className=\"menu-noti-content-button\">\r\n                    <p>{message.pivot.messages_Message}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menu-messenger-content-right\">\r\n                  <p>{moment(message.pivot.created_at, \"YYYYMMDD\\h:m:s\").fromNow()}</p>\r\n                    {!message.pivot.messages_ReadAt && <FaDotCircle/>}\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"menu-noti-footer\">\r\n      <Link to=\"/messenger\">Xem tất cả tin nhắn</Link>\r\n    </div>\r\n  </div>\r\n</div>);\r\n}\r\nexport default MenuMessenger;\r\n"]},"metadata":{},"sourceType":"module"}