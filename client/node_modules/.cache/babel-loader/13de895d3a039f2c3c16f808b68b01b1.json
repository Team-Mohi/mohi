{"ast":null,"code":"import React from'react';import'./Story.css';import{AiOutlinePlus}from'react-icons/ai';import Slider from\"react-slick\";import\"slick-carousel/slick/slick.css\";import\"slick-carousel/slick/slick-theme.css\";import{useSelector}from'react-redux';import{skeleTonStory}from'./../Skeleton/index.jsx';import{Spin}from'antd';import{Image,Transformation}from'cloudinary-react';function Story(_ref){var stories=_ref.stories;var stateStore=useSelector(function(state){return state.stories;});var listStory=stateStore.listStory;var loading=stateStore.loading;var loadingNewStory=stateStore.loadingNewStory;var settings={dots:false,infinite:true,speed:500,slidesToShow:listStory.length<4?listStory.length:4,slidesToScroll:1};if(loading){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"story-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-title\"},\"Tin\"),skeleTonStory));}if(!loading&&!listStory.length){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"story-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-title\"},\"Tin\"),/*#__PURE__*/React.createElement(\"div\",null,\"Mohi h\\xF4m nay hi\\u1EC7n ch\\u01B0a c\\xF3 tin\")));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"story-wrap\"},/*#__PURE__*/React.createElement(\"div\",{className:\"story-title\"},\"Tin\"),/*#__PURE__*/React.createElement(Slider,settings,listStory.map(function(story,index){var story_image=story.list_story;return/*#__PURE__*/React.createElement(\"div\",{className:\"story-item\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"story-item-image\"},story_image[0].story_ImageUrl&&/*#__PURE__*/React.createElement(\"img\",{src:story_image[0].story_ImageUrl,alt:story.user_first_name+' '+story.user_last_name}),!story_image[0].story_ImageUrl&&/*#__PURE__*/React.createElement(\"div\",{className:\"story-content-no-image\"},\" \",/*#__PURE__*/React.createElement(\"p\",null,story_image[0].story_Content)),loadingNewStory&&story.id===JSON.parse(localStorage.getItem('ustk')).info.id&&/*#__PURE__*/React.createElement(\"div\",{className:\"story-content-loading-image\"},\" \",/*#__PURE__*/React.createElement(Spin,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"story-item-name\"},/*#__PURE__*/React.createElement(\"p\",null,story.id===JSON.parse(localStorage.getItem('ustk')).info.id?'Tin của bạn':story.user_first_name+' '+story.user_last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"story-item-avatar\"},story.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:story.user_avatar,alt:story.user_first_name+' '+story.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:story.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:story.user_avatar_cropH,width:story.user_avatar_cropW,x:story.user_avatar_cropX,y:story.user_avatar_cropY,crop:\"crop\"}))));}))));}export default Story;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/NewFeed/Story.jsx"],"names":["React","AiOutlinePlus","Slider","useSelector","skeleTonStory","Spin","Image","Transformation","Story","stories","stateStore","state","listStory","loading","loadingNewStory","settings","dots","infinite","speed","slidesToShow","length","slidesToScroll","map","story","index","story_image","list_story","story_ImageUrl","user_first_name","user_last_name","story_Content","id","JSON","parse","localStorage","getItem","info","user_avatar_cropX","user_avatar","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Story.css';\r\nimport {AiOutlinePlus} from 'react-icons/ai';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport {  useSelector} from 'react-redux';\r\nimport {skeleTonStory} from './../Skeleton/index.jsx';\r\nimport {Spin} from 'antd';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction Story({stories}){\r\n\r\n  const stateStore = useSelector(state => state.stories);\r\n  const listStory = stateStore.listStory;\r\n  const loading = stateStore.loading;\r\n  const loadingNewStory = stateStore.loadingNewStory;\r\n  var settings = {\r\n      dots: false,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: listStory.length < 4 ? listStory.length : 4,\r\n      slidesToScroll: 1\r\n  };\r\n\r\n  if(loading){\r\n    return(\r\n      <React.Fragment>\r\n        <div className=\"story-wrap\">\r\n          <div className=\"story-title\">Tin</div>\r\n          {skeleTonStory}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  if(!loading && !listStory.length){\r\n    return(\r\n      <React.Fragment>\r\n        <div className=\"story-wrap\">\r\n          <div className=\"story-title\">Tin</div>\r\n          <div>Mohi hôm nay hiện chưa có tin</div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"story-wrap\">\r\n        <div className=\"story-title\">Tin</div>\r\n            <Slider {...settings}>\r\n            {listStory.map((story, index) => {\r\n              let story_image = story.list_story;\r\n              return(\r\n                <div className=\"story-item\" key={index}>\r\n                  <div className=\"story-item-image\">\r\n                    {story_image[0].story_ImageUrl && <img src={story_image[0].story_ImageUrl} alt={story.user_first_name + ' ' + story.user_last_name}/>}\r\n                    {!story_image[0].story_ImageUrl && <div className=\"story-content-no-image\"> <p>{story_image[0].story_Content}</p></div>}\r\n                    {loadingNewStory && story.id ===  JSON.parse(localStorage.getItem('ustk')).info.id && <div className=\"story-content-loading-image\"> <Spin /></div>}\r\n                  </div>\r\n                  <div className=\"story-item-name\">\r\n                    <p>{story.id === JSON.parse(localStorage.getItem('ustk')).info.id ? 'Tin của bạn': story.user_first_name + ' ' + story.user_last_name}</p>\r\n                  </div>\r\n                  <div className=\"story-item-avatar\">\r\n                    {story.user_avatar_cropX === null ?\r\n                      <img src={story.user_avatar} alt={story.user_first_name + ' ' + story.user_last_name} />\r\n                      :\r\n                      <Image cloudName=\"mohi-vn\" publicId={story.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                        <Transformation height={story.user_avatar_cropH}  width={story.user_avatar_cropW} x={story.user_avatar_cropX} y={story.user_avatar_cropY} crop=\"crop\" />\r\n                      </Image>\r\n                    }\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </Slider>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Story;\r\n"]},"metadata":{},"sourceType":"module"}