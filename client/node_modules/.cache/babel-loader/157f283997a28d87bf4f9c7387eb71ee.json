{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\Upload\\\\UploadMuti.jsx\";\nimport React, { useState } from 'react';\nimport './UploadMuti.css';\nimport { FiPlus } from \"react-icons/fi\";\nimport { AiOutlineClose } from \"react-icons/ai\";\nimport axios from 'axios';\nimport { Spin } from 'antd';\n\nfunction UploadMuti(props) {\n  const [files, setFiles] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const onChange = e => {\n    //\n    const fileArr = Array.from(e.target.files).map(async (file, index) => {\n      const formData = new FormData();\n      formData.append('upload_preset', 'mohi_video');\n      formData.append('file', e.target.files[0]);\n      setLoading(true);\n      await axios.post('https://api.cloudinary.com/v1_1/mohi-vn/image/upload', formData).then(res => {\n        console.log(res.data.secure_url);\n        setFiles([...files, res.data.secure_url]);\n        setLoading(false);\n      }).catch(e => {\n        console.log(e);\n      });\n    });\n  };\n\n  console.log(loading);\n\n  const deleteFile = index => {\n    const newFile = [...files];\n    newFile.splice(index, 1);\n    setFiles(newFile);\n  };\n\n  const renderFile = source => {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }\n    }, source.map((photo, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-preview-item\",\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"list-preview-item-presential \" + index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(AiOutlineClose, {\n        onClick: () => deleteFile(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 68\n        }\n      })));\n    }), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-preview-next-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 18\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    })) : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"list-preview-next-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"create_post_upload_image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FiPlus, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 51\n      }\n    }))));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-preview-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, props.showModalCreatePost ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-preview-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-preview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, renderFile(files))) : null, /*#__PURE__*/React.createElement(\"input\", {\n    id: \"create_post_upload_image\",\n    type: \"file\",\n    multiple: true,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default UploadMuti;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Upload/UploadMuti.jsx"],"names":["React","useState","FiPlus","AiOutlineClose","axios","Spin","UploadMuti","props","files","setFiles","loading","setLoading","onChange","e","fileArr","Array","from","target","map","file","index","formData","FormData","append","post","then","res","console","log","data","secure_url","catch","deleteFile","newFile","splice","renderFile","source","photo","showModalCreatePost"],"mappings":"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","sourcesContent":["import React, { useState} from 'react';\r\nimport './UploadMuti.css';\r\nimport { FiPlus } from \"react-icons/fi\";\r\nimport { AiOutlineClose } from \"react-icons/ai\";\r\nimport axios from 'axios';\r\nimport { Spin } from 'antd';\r\n\r\nfunction UploadMuti(props){\r\n  const [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onChange = (e) => {\r\n\r\n      //\r\n      const fileArr = Array.from(e.target.files).map( async (file, index) => {\r\n        const formData = new FormData();\r\n        formData.append('upload_preset', 'mohi_video');\r\n        formData.append('file', e.target.files[0]);\r\n        setLoading(true);\r\n\r\n        await axios.post('https://api.cloudinary.com/v1_1/mohi-vn/image/upload', formData)\r\n        .then((res) => {\r\n          console.log(res.data.secure_url);\r\n          setFiles([...files, res.data.secure_url])\r\n          setLoading(false);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n        })\r\n      })\r\n\r\n  }\r\n  console.log(loading);\r\n\r\n  const deleteFile = (index) => {\r\n    const newFile = [...files]\r\n    newFile.splice(index, 1)\r\n    setFiles(newFile)\r\n  }\r\n\r\n  const renderFile = source => {\r\n    return(\r\n    <React.Fragment>\r\n      {source.map((photo, index) => {\r\n        return (\r\n            <div className=\"list-preview-item\" key={index}>\r\n              <img src={photo} />\r\n            <div className={\"list-preview-item-presential \"+index}><AiOutlineClose onClick={() => deleteFile(index)}/></div>\r\n            </div>\r\n        )\r\n      })}\r\n      {loading ? <div className=\"list-preview-next-item\" >\r\n        <Spin />\r\n      </div> : null}\r\n      <div className=\"list-preview-next-item\" >\r\n        <label htmlFor=\"create_post_upload_image\"><FiPlus/></label>\r\n      </div>\r\n    </React.Fragment>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <div className=\"list-preview-container\">\r\n      { props.showModalCreatePost ?\r\n      <div className=\"list-preview-wrap\">\r\n        <div className=\"list-preview\" >\r\n          {renderFile(files)}\r\n        </div>\r\n      </div>\r\n      : null}\r\n        <input id=\"create_post_upload_image\" type=\"file\" multiple onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UploadMuti;\r\n"]},"metadata":{},"sourceType":"module"}