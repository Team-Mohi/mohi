{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./Setting.css';import{FiSettings}from\"react-icons/fi\";import{MdSecurity}from\"react-icons/md\";import{TiInfoLarge}from\"react-icons/ti\";import{Link,Route,Switch,useLocation}from'react-router-dom';import{Descriptions,Collapse,message,Space}from'antd';import{useForm}from\"react-hook-form\";import{responseUpdateProfile}from'./../../Actions/index.jsx';import{toggleStatusPresentialModal}from'./../../Actions/index.jsx';import{requestUpdateProfile}from'./../../Actions/index.jsx';import editInfo from'./../../axios/axiosEditInfoProfile.jsx';import{WaveLoading}from'react-loadingg';import{useDispatch}from'react-redux';import{requestInfoProfile}from'./../../Actions/index.jsx';import{responseInfoProfile}from'./../../Actions/index.jsx';import axios from'axios';import{RiErrorWarningLine}from\"react-icons/ri\";import{Tooltip}from'antd';var Panel=Collapse.Panel;var General=function General(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),styleInputAddContact=_useState2[0],setStyleInputAddContact=_useState2[1];var onSubmitUpdateName=function onSubmitUpdateName(data){props.onSubmitUpdateName(data);};var onSubmitUpdateUserName=function onSubmitUpdateUserName(data){props.onSubmitUpdateUserName(data);};return/*#__PURE__*/React.createElement(\"div\",{className:\"general-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"general-title\"},/*#__PURE__*/React.createElement(\"h5\",null,\" C\\xE0i \\u0111\\u1EB7t t\\xE0i kho\\u1EA3n chung\")),/*#__PURE__*/React.createElement(\"div\",{className:\"general-content\"},/*#__PURE__*/React.createElement(Collapse,{defaultActiveKey:['0'],accordion:true},/*#__PURE__*/React.createElement(Panel,{header:/*#__PURE__*/React.createElement(SettingGeneralName,{ustk:props.ustk}),key:\"1\"},/*#__PURE__*/React.createElement(PanelName,{onSubmitUpdateName:onSubmitUpdateName,loadingUpdateName:props.loadingUpdateName,ustk:props.ustk})),/*#__PURE__*/React.createElement(Panel,{header:/*#__PURE__*/React.createElement(SettingGeneralNameUser,{ustk:props.ustk}),key:\"2\"},/*#__PURE__*/React.createElement(PanelUserName,{erruserName:props.erruserName,onSubmitUpdateUserName:onSubmitUpdateUserName,loadingUpdateUsername:props.loadingUpdateUsername,ustk:props.ustk})))));};var PanelName=function PanelName(props){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.errors;var onSubmit=function onSubmit(data){if(data.user_first_name!==props.ustk.user_first_name||data.user_last_name!==props.ustk.user_last_name){props.onSubmitUpdateName(data);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"setting-general-name\"},/*#__PURE__*/React.createElement(\"b\",null,\"T\\xEAn c\\u1EE7a b\\u1EA1n s\\u1EBD thay \\u0111\\u1ED5i tr\\xEAn Mohi\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"H\\u1ECD\"),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:props.ustk.user_first_name,name:\"user_first_name\",ref:register({required:true}),style:errors.user_first_name?{border:'1px solid red'}:null}),errors.user_first_name&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"bottom\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},\" Vui l\\xF2ng nh\\u1EADp h\\u1ECD c\\u1EE7a b\\u1EA1n\")},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex err_setting\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"T\\xEAn\"),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:props.ustk.user_last_name,name:\"user_last_name\",ref:register({required:true}),style:errors.user_last_name?{border:'1px solid red'}:null}),errors.user_last_name&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"bottom\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},\" Vui l\\xF2ng nh\\u1EADp t\\xEAn c\\u1EE7a b\\u1EA1n\")},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex err_setting\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"X\\xE1c nh\\u1EADn thay \\u0111\\u1ED5i\"))),props.loadingUpdateName&&/*#__PURE__*/React.createElement(\"div\",{style:{background:'rgba(255,255,255,0.7)',position:'absolute',width:'100%',height:'100%',top:0,left:0}},/*#__PURE__*/React.createElement(WaveLoading,null)));};var PanelUserName=function PanelUserName(props){var _useForm2=useForm(),register=_useForm2.register,handleSubmit=_useForm2.handleSubmit,watch=_useForm2.watch,errors=_useForm2.errors,setError=_useForm2.setError;var _useState3=useState('Tên người dùng phải là chữ thường không dấu và không chứa kí tự đặc biệt'),_useState4=_slicedToArray(_useState3,2),errUserName=_useState4[0],setErruserName=_useState4[1];var _useState5=useState(props.ustk.user_username),_useState6=_slicedToArray(_useState5,2),valueUserName=_useState6[0],setValueUserName=_useState6[1];useEffect(function(){if(props.erruserName){setError(\"user_username\",{type:\"manual\",message:\"Tên người dùng đã tồn tại\"});setErruserName('Tên người dùng đã tồn tại');}},[props.erruserName]);var validateInputUserName=function validateInputUserName(value){/* lowcase character Test */if(value!==value.toLowerCase()){return false;}/* lowcase character Test */var filter1=/[ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]/;if(filter1.test(value)){return false;}/* Special character Test */var filter=/[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,<>\\/?]/;if(filter.test(value)){return false;}return true;};var onChange=function onChange(e){setValueUserName(e.target.value);};var onSubmit=function onSubmit(data){if(valueUserName!==props.ustk.user_username){props.onSubmitUpdateUserName({user_username:valueUserName});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"setting-general-name\"},/*#__PURE__*/React.createElement(\"b\",null,\"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng c\\xF4ng khai c\\u1EE7a b\\u1EA1n gi\\u1ED1ng v\\u1EDBi t\\xEAn trong \\u0111\\u1ECBa ch\\u1EC9 d\\xF2ng th\\u1EDDi gian c\\u1EE7a b\\u1EA1n\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\"),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-input\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",defaultValue:valueUserName,onChange:onChange,name:\"user_username\",ref:register({validate:function validate(value){return validateInputUserName(value);}}),style:errors.user_username?{border:'1px solid red'}:null}),errors.user_username&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"bottom\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},errUserName)},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex err_setting\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"X\\xE1c nh\\u1EADn thay \\u0111\\u1ED5i\"))),props.loadingUpdateUsername&&/*#__PURE__*/React.createElement(\"div\",{style:{background:'rgba(255,255,255,0.7)',position:'absolute',width:'100%',height:'100%',top:0,left:0}},/*#__PURE__*/React.createElement(WaveLoading,null)));};var SettingGeneralName=function SettingGeneralName(props){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Descriptions,{className:\"general-information\"},/*#__PURE__*/React.createElement(Descriptions.Item,{className:\"general-item\"},\"T\\xEAn\"),/*#__PURE__*/React.createElement(Descriptions.Item,null,/*#__PURE__*/React.createElement(\"p\",null,props.ustk.user_first_name+' '+props.ustk.user_last_name)),/*#__PURE__*/React.createElement(Descriptions.Item,{className:\"setting-general-button\"},/*#__PURE__*/React.createElement(\"button\",_defineProperty({type:\"submit\"},\"type\",\"info\"),\"Ch\\u1EC9nh s\\u1EEDa\")),/*#__PURE__*/React.createElement(SettingGeneralName,null)));};var SettingGeneralNameUser=function SettingGeneralNameUser(props){return/*#__PURE__*/React.createElement(Descriptions,{className:\"general-information\"},/*#__PURE__*/React.createElement(Descriptions.Item,{className:\"general-item\"},\"T\\xEAn ng\\u01B0\\u1EDDi d\\xF9ng\"),/*#__PURE__*/React.createElement(Descriptions.Item,null,\"https://www.mohi.vn/profile/\",props.ustk.user_username),/*#__PURE__*/React.createElement(Descriptions.Item,{className:\"setting-general-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Ch\\u1EC9nh s\\u1EEDa\")));};var Password=function Password(){var _useForm3=useForm(),register=_useForm3.register,handleSubmit=_useForm3.handleSubmit,watch=_useForm3.watch,errors=_useForm3.errors,setError=_useForm3.setError,setValue=_useForm3.setValue;var dispatch=useDispatch();var _useState7=useState('Vui lòng nhập lại mật khẩu'),_useState8=_slicedToArray(_useState7,2),errorConfirmPass=_useState8[0],setErrorConfirmPass=_useState8[1];var _useState9=useState('Vui lòng nhập mật khẩu cũ'),_useState10=_slicedToArray(_useState9,2),errorPass=_useState10[0],setErrorPass=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loadingPass=_useState12[0],setLoadingPass=_useState12[1];var openPopupChangePasswordFunc=function openPopupChangePasswordFunc(){dispatch(toggleStatusPresentialModal('modal_forgot_pass'));// dispatch(toggleStatusPresentialModal('modal_forgot_pass_verification'));\n};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(data.user_new_password!==data.user_confirm_password)){_context.next=5;break;}setError(\"user_confirm_password\",{type:\"manual\",message:\"Nhập lại mật khẩu không đúng\"});setErrorConfirmPass('Nhập lại mật khẩu không đúng');_context.next=9;break;case 5:setLoadingPass(true);setErrorConfirmPass('');// call api change password\n_context.next=9;return axios.post(\"https://www.api.mohi.vn/api/auth/setting-password\",{old_password:data.user_password,new_password:data.user_new_password}).then(function(res){setValue('user_password','');setValue('user_new_password','');setValue('user_confirm_password','');setLoadingPass(false);message.success('Đổi mật khẩu thành công');}).catch(function(e){setLoadingPass(false);if(e.response.status===402){setError(\"user_password\",{type:\"manual\",message:\"Mật khẩu cũ không đúng\"});setErrorPass('Mật khẩu cũ không đúng');}else{message.error('Đã xảy ra lỗi không mong muốn vui lòng thử lại');}});case 9:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"general-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"general-title\"},/*#__PURE__*/React.createElement(\"h5\",null,\" \\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\")),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-password\"},/*#__PURE__*/React.createElement(\"h6\",null,\" B\\u1EA1n n\\xEAn s\\u1EED d\\u1EE5ng m\\u1EADt kh\\u1EA9u m\\u1EA1nh m\\xE0 m\\xECnh ch\\u01B0a s\\u1EED d\\u1EE5ng \\u1EDF \\u0111\\xE2u kh\\xE1c\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-password\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"M\\u1EADt kh\\u1EA9u hi\\u1EC7n t\\u1EA1i\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",ref:register({required:true}),name:\"user_password\",style:errors.user_password?{border:'1px solid red'}:null}),errors.user_password&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"right\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},errorPass)},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex error_code\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-password\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",ref:register({required:true}),name:\"user_new_password\",style:errors.user_new_password?{border:'1px solid red'}:null}),errors.user_new_password&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"right\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},\"Vui l\\xF2ng nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\")},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex error_code\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-password\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u m\\u1EDBi\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",ref:register({required:true}),name:\"user_confirm_password\",style:errors.user_confirm_password?{border:'1px solid red'}:null}),errors.user_confirm_password&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"right\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},errorConfirmPass)},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex error_code\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-form-edit-name-button\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"X\\xE1c nh\\u1EADn thay \\u0111\\u1ED5i\"))),loadingPass&&/*#__PURE__*/React.createElement(\"div\",{style:{background:'rgba(255,255,255,0.7)',position:'absolute',width:'100%',height:'100%',top:0,left:0}},/*#__PURE__*/React.createElement(WaveLoading,null)))));};function Setting(){var path=useLocation().pathname.split('/');var isActive=path[2];var _useState13=useState(JSON.parse(localStorage.getItem('ustk')).info),_useState14=_slicedToArray(_useState13,2),ustk=_useState14[0],setUstk=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loadingUpdateUsername=_useState16[0],setLoadingUpdateUsername=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),loadingUpdateName=_useState18[0],setLoadingUpdateName=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),erruserName=_useState20[0],setErruserName=_useState20[1];var dispatch=useDispatch();useEffect(function(){fetchInfoProfile();},[]);var fetchInfoProfile=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(requestInfoProfile());_context2.next=3;return axios.get('https://www.api.mohi.vn/api/auth/get-info-profile/'+ustk.user_username).then(function(res){dispatch(responseInfoProfile(res.data));}).catch(function(e){dispatch(responseInfoProfile(''));});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchInfoProfile(){return _ref2.apply(this,arguments);};}();var onSubmitUpdateUserName=function onSubmitUpdateUserName(data){dispatch(requestUpdateProfile());setLoadingUpdateUsername(true);editInfo({type:'user_username',value:data.user_username}).then(function(res){var newUstk=JSON.parse(localStorage.getItem('ustk'));newUstk.info.user_username=data.user_username;localStorage.setItem('ustk',JSON.stringify(newUstk));setUstk(JSON.parse(localStorage.getItem('ustk')).info);dispatch(responseUpdateProfile({type:'user_username',value:data.user_username}));setLoadingUpdateUsername(false);setErruserName();message.success('Bạn đã đổi tên người dùng thành công');}).catch(function(e){if(e.response.status===400){setLoadingUpdateUsername(false);setErruserName(Math.random());}});};var onSubmitUpdateName=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(data){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(requestUpdateProfile());setLoadingUpdateName(true);_context3.next=4;return axios.post('https://www.api.mohi.vn/api/auth/update-info-profile',{user_first_name:data.user_first_name,user_last_name:data.user_last_name}).then(function(res){var newUstk=JSON.parse(localStorage.getItem('ustk'));newUstk.info.user_first_name=data.user_first_name;newUstk.info.user_last_name=data.user_last_name;localStorage.setItem('ustk',JSON.stringify(newUstk));setUstk(JSON.parse(localStorage.getItem('ustk')).info);dispatch(responseUpdateProfile({type:'user_first_name',value:data.user_last_name}));dispatch(responseUpdateProfile({type:'user_last_name',value:data.user_last_name}));setLoadingUpdateName(false);message.success('Bạn đã đổi tên thành công');});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function onSubmitUpdateName(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"setting-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"setting-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"setting-content-left\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(Link,{to:\"/setting/general\"},/*#__PURE__*/React.createElement(\"li\",{className:isActive==='general'||!isActive?'active':''},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FiSettings,null),\" C\\xE0i \\u0111\\u1EB7t chung\"))),/*#__PURE__*/React.createElement(Link,{to:\"/setting/password\"},/*#__PURE__*/React.createElement(\"li\",{className:isActive==='password'?'active':''},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(MdSecurity,null),\" \\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"))))),/*#__PURE__*/React.createElement(\"div\",{className:\"setting-content-right\"},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/setting/general\"},/*#__PURE__*/React.createElement(General,{ustk:ustk,erruserName:erruserName,onSubmitUpdateName:onSubmitUpdateName,onSubmitUpdateUserName:onSubmitUpdateUserName,loadingUpdateUsername:loadingUpdateUsername,loadingUpdateName:loadingUpdateName})),/*#__PURE__*/React.createElement(Route,{path:\"/setting/password\"},/*#__PURE__*/React.createElement(Password,{ustk:ustk})),/*#__PURE__*/React.createElement(Route,{component:General},/*#__PURE__*/React.createElement(General,{ustk:ustk,erruserName:erruserName,onSubmitUpdateName:onSubmitUpdateName,onSubmitUpdateUserName:onSubmitUpdateUserName,loadingUpdateUsername:loadingUpdateUsername,loadingUpdateName:loadingUpdateName}))))));}export default Setting;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Setting/Setting.jsx"],"names":["React","useState","useEffect","FiSettings","MdSecurity","TiInfoLarge","Link","Route","Switch","useLocation","Descriptions","Collapse","message","Space","useForm","responseUpdateProfile","toggleStatusPresentialModal","requestUpdateProfile","editInfo","WaveLoading","useDispatch","requestInfoProfile","responseInfoProfile","axios","RiErrorWarningLine","Tooltip","Panel","General","props","styleInputAddContact","setStyleInputAddContact","onSubmitUpdateName","data","onSubmitUpdateUserName","ustk","loadingUpdateName","erruserName","loadingUpdateUsername","PanelName","register","handleSubmit","watch","errors","onSubmit","user_first_name","user_last_name","required","border","background","position","width","height","top","left","PanelUserName","setError","errUserName","setErruserName","user_username","valueUserName","setValueUserName","type","validateInputUserName","value","toLowerCase","filter1","test","filter","onChange","e","target","validate","SettingGeneralName","SettingGeneralNameUser","Password","setValue","dispatch","errorConfirmPass","setErrorConfirmPass","errorPass","setErrorPass","loadingPass","setLoadingPass","openPopupChangePasswordFunc","user_new_password","user_confirm_password","post","old_password","user_password","new_password","then","res","success","catch","response","status","error","Setting","path","pathname","split","isActive","JSON","parse","localStorage","getItem","info","setUstk","setLoadingUpdateUsername","setLoadingUpdateName","fetchInfoProfile","get","newUstk","setItem","stringify","Math","random"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Setting.css';\r\nimport { FiSettings } from \"react-icons/fi\";\r\nimport { MdSecurity } from \"react-icons/md\";\r\nimport { TiInfoLarge } from \"react-icons/ti\";\r\nimport { Link, Route, Switch, useLocation } from 'react-router-dom';\r\nimport { Descriptions, Collapse, message, Space } from 'antd';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { responseUpdateProfile } from './../../Actions/index.jsx';\r\nimport { toggleStatusPresentialModal } from './../../Actions/index.jsx';\r\nimport { requestUpdateProfile } from './../../Actions/index.jsx';\r\nimport editInfo from './../../axios/axiosEditInfoProfile.jsx';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport { useDispatch } from 'react-redux';\r\nimport { requestInfoProfile } from './../../Actions/index.jsx';\r\nimport { responseInfoProfile } from './../../Actions/index.jsx';\r\nimport axios from 'axios';\r\nimport {RiErrorWarningLine} from \"react-icons/ri\";\r\nimport {Tooltip} from 'antd';\r\n\r\nconst { Panel } = Collapse;\r\n\r\nconst General = (props) => {\r\n  const [styleInputAddContact, setStyleInputAddContact] = useState();\r\n\r\n  const onSubmitUpdateName = (data) => {\r\n    props.onSubmitUpdateName(data)\r\n  }\r\n\r\n  const onSubmitUpdateUserName = (data) => {\r\n    props.onSubmitUpdateUserName(data)\r\n  }\r\n\r\n  return (\r\n    <div className=\"general-container\">\r\n      <div className=\"general-title\">\r\n        <h5> Cài đặt tài khoản chung</h5>\r\n      </div>\r\n      <div className=\"general-content\">\r\n        <Collapse defaultActiveKey={['0']} accordion>\r\n          <Panel header={<SettingGeneralName ustk={props.ustk}/>} key=\"1\">\r\n            <PanelName onSubmitUpdateName={onSubmitUpdateName} loadingUpdateName={props.loadingUpdateName} ustk={props.ustk}/>\r\n          </Panel>\r\n          <Panel header={<SettingGeneralNameUser ustk={props.ustk}/>} key=\"2\">\r\n            <PanelUserName erruserName={props.erruserName} onSubmitUpdateUserName={onSubmitUpdateUserName} loadingUpdateUsername={props.loadingUpdateUsername} ustk={props.ustk}/>\r\n          </Panel>\r\n      </Collapse>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PanelName = (props) => {\r\n  const { register, handleSubmit, watch, errors } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    if(data.user_first_name !== props.ustk.user_first_name || data.user_last_name !== props.ustk.user_last_name){\r\n      props.onSubmitUpdateName(data)\r\n    }\r\n  }\r\n  return(\r\n      <div className=\"setting-general-name\">\r\n        <b>Tên của bạn sẽ thay đổi trên Mohi</b>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"setting-form-edit-name\">\r\n            <label htmlFor=\"\">Họ</label>\r\n            <div className=\"setting-form-input\">\r\n            <input type=\"text\" defaultValue={props.ustk.user_first_name }  name=\"user_first_name\" ref={register({required: true})} style={errors.user_first_name\r\n                ? {\r\n                  border: '1px solid red'\r\n                }\r\n                : null}/>\r\n              {errors.user_first_name && <Tooltip placement=\"bottom\" title={<p className = \"error_sex_tooltip\" > Vui lòng nhập họ của bạn</p>}><RiErrorWarningLine className=\"error_sex err_setting\"/></Tooltip>}\r\n            </div>\r\n          </div>\r\n          <div className=\"setting-form-edit-name\">\r\n            <label htmlFor=\"\">Tên</label>\r\n            <div className=\"setting-form-input\">\r\n            <input type=\"text\" defaultValue={props.ustk.user_last_name } name=\"user_last_name\" ref={register({required: true})} style={errors.user_last_name\r\n                ? {\r\n                  border: '1px solid red'\r\n                }\r\n                : null}/>\r\n              {errors.user_last_name && <Tooltip placement=\"bottom\" title={<p className = \"error_sex_tooltip\" > Vui lòng nhập tên của bạn</p>}><RiErrorWarningLine className=\"error_sex err_setting\"/></Tooltip>}\r\n            </div>\r\n          </div>\r\n          <div className=\"setting-form-edit-name-button\">\r\n            <button type=\"submit\">Xác nhận thay đổi</button>\r\n          </div>\r\n        </form>\r\n        { props.loadingUpdateName && <div style={{background: 'rgba(255,255,255,0.7)', position: 'absolute', width: '100%', height: '100%', top: 0, left: 0}}><WaveLoading /></div>}\r\n      </div>\r\n  )\r\n}\r\n\r\nconst PanelUserName = (props) => {\r\n  const { register, handleSubmit, watch, errors, setError } = useForm();\r\n  const [errUserName, setErruserName] = useState('Tên người dùng phải là chữ thường không dấu và không chứa kí tự đặc biệt');\r\n  const [valueUserName, setValueUserName] = useState(props.ustk.user_username);\r\n\r\n  useEffect(() => {\r\n    if(props.erruserName){\r\n      setError(\"user_username\", {\r\n            type: \"manual\",\r\n            message: \"Tên người dùng đã tồn tại\"\r\n      });\r\n      setErruserName('Tên người dùng đã tồn tại')\r\n    }\r\n  }, [props.erruserName])\r\n\r\n  const validateInputUserName = (value) => {\r\n    /* lowcase character Test */\r\n    if (value !== value.toLowerCase()) {\r\n      return false;\r\n    }\r\n\r\n    /* lowcase character Test */\r\n    var filter1 = /[ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]/;\r\n    if (filter1.test(value)) {\r\n      return false;\r\n    }\r\n    /* Special character Test */\r\n    var filter = /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,<>\\/?]/;\r\n    if (filter.test(value)) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    setValueUserName(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (data) => {\r\n    if(valueUserName !== props.ustk.user_username ){\r\n      props.onSubmitUpdateUserName({user_username: valueUserName})\r\n    }\r\n  }\r\n  return(\r\n      <div className=\"setting-general-name\">\r\n        <b>Tên người dùng công khai của bạn giống với tên trong địa chỉ dòng thời gian của bạn</b>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"setting-form-edit-name\">\r\n            <label htmlFor=\"\">Tên người dùng</label>\r\n            <div className=\"setting-form-input\">\r\n              <input type=\"text\" defaultValue={valueUserName} onChange={onChange} name=\"user_username\" ref={register({\r\n                  validate: value => validateInputUserName(value)\r\n                })} style={errors.user_username\r\n                ? {\r\n                  border: '1px solid red'\r\n                }\r\n                : null}/>\r\n              {errors.user_username && <Tooltip placement=\"bottom\" title={<p className = \"error_sex_tooltip\" >{errUserName}</p>}><RiErrorWarningLine className=\"error_sex err_setting\"/></Tooltip>}\r\n            </div>\r\n          </div>\r\n          <div className=\"setting-form-edit-name-button\">\r\n            <button type=\"submit\">Xác nhận thay đổi</button>\r\n          </div>\r\n        </form>\r\n        { props.loadingUpdateUsername && <div style={{background: 'rgba(255,255,255,0.7)', position: 'absolute', width: '100%', height: '100%', top: 0, left: 0}}><WaveLoading /></div>}\r\n      </div>\r\n  )\r\n}\r\nconst SettingGeneralName = (props) => {\r\n  return (\r\n    <>\r\n      <Descriptions className=\"general-information\">\r\n        <Descriptions.Item className=\"general-item\">Tên</Descriptions.Item>\r\n        <Descriptions.Item >\r\n        <p>{props.ustk.user_first_name + ' ' + props.ustk.user_last_name}</p>\r\n        </Descriptions.Item>\r\n        <Descriptions.Item className=\"setting-general-button\">\r\n          <button type=\"submit\" type=\"info\">Chỉnh sửa</button>\r\n        </Descriptions.Item>\r\n        <SettingGeneralName />\r\n      </Descriptions>\r\n    </>\r\n  );\r\n}\r\n\r\nconst SettingGeneralNameUser = (props) => {\r\n  return (\r\n    <Descriptions className=\"general-information\">\r\n      <Descriptions.Item className=\"general-item\">Tên người dùng</Descriptions.Item>\r\n      <Descriptions.Item>\r\n        https://www.mohi.vn/profile/{props.ustk.user_username}\r\n          </Descriptions.Item>\r\n      <Descriptions.Item className=\"setting-general-button\">\r\n        <button type=\"submit\">Chỉnh sửa</button>\r\n      </Descriptions.Item>\r\n    </Descriptions>\r\n  );\r\n}\r\n\r\nconst Password = () => {\r\n  const { register, handleSubmit, watch, errors, setError, setValue } = useForm();\r\n  const dispatch = useDispatch();\r\n  const [errorConfirmPass, setErrorConfirmPass] = useState('Vui lòng nhập lại mật khẩu');\r\n  const [errorPass, setErrorPass] = useState('Vui lòng nhập mật khẩu cũ');\r\n  const [loadingPass, setLoadingPass] = useState(false);\r\n\r\n  const openPopupChangePasswordFunc = () => {\r\n    dispatch(toggleStatusPresentialModal('modal_forgot_pass'));\r\n    // dispatch(toggleStatusPresentialModal('modal_forgot_pass_verification'));\r\n  }\r\n\r\n  const onSubmit = async (data) => {\r\n    if(data.user_new_password !== data.user_confirm_password){\r\n      setError(\"user_confirm_password\", {\r\n            type: \"manual\",\r\n            message: \"Nhập lại mật khẩu không đúng\"\r\n          });\r\n      setErrorConfirmPass('Nhập lại mật khẩu không đúng')\r\n    }else {\r\n      setLoadingPass(true)\r\n      setErrorConfirmPass('')\r\n      // call api change password\r\n      await axios.post(\"https://www.api.mohi.vn/api/auth/setting-password\", {old_password: data.user_password, new_password: data.user_new_password})\r\n      .then((res) => {\r\n        setValue('user_password', '')\r\n        setValue('user_new_password', '')\r\n        setValue('user_confirm_password', '')\r\n        setLoadingPass(false)\r\n        message.success('Đổi mật khẩu thành công');\r\n      })\r\n      .catch((e) => {\r\n        setLoadingPass(false)\r\n        if(e.response.status === 402){\r\n          setError(\"user_password\", {\r\n                type: \"manual\",\r\n                message: \"Mật khẩu cũ không đúng\"\r\n              });\r\n          setErrorPass('Mật khẩu cũ không đúng')\r\n        }else {\r\n          message.error('Đã xảy ra lỗi không mong muốn vui lòng thử lại');\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"general-container\">\r\n        <div className=\"general-title\">\r\n          <h5> Đổi mật khẩu</h5>\r\n        </div>\r\n\r\n        <div className=\"setting-password\">\r\n          <h6>\tBạn nên sử dụng mật khẩu mạnh mà mình chưa sử dụng ở đâu khác</h6>\r\n          <form onSubmit = {handleSubmit(onSubmit)}>\r\n            <div className=\"setting-form-edit-password\">\r\n              <label htmlFor=\"\">Mật khẩu hiện tại</label>\r\n              <input type=\"password\" ref={register({required:true})} name=\"user_password\" style={errors.user_password ? {border: '1px solid red'} : null}/>\r\n                {errors.user_password && <Tooltip placement=\"right\" title={<p className = \"error_sex_tooltip\" >{errorPass}</p>}><RiErrorWarningLine className=\"error_sex error_code\"/></Tooltip>}\r\n            </div>\r\n            <div className=\"setting-form-edit-password\">\r\n              <label htmlFor=\"\">Mật khẩu mới</label>\r\n              <input type=\"password\" ref={register({required:true})} name=\"user_new_password\" style={errors.user_new_password ? {border: '1px solid red'} : null}/>\r\n              {errors.user_new_password && <Tooltip placement=\"right\" title={<p className = \"error_sex_tooltip\" >Vui lòng nhập mật khẩu mới</p>}><RiErrorWarningLine className=\"error_sex error_code\"/></Tooltip>}\r\n            </div>\r\n            <div className=\"setting-form-edit-password\">\r\n              <label htmlFor=\"\">Nhập lại mật khẩu mới</label>\r\n              <input type=\"password\" ref={register({required:true})} name=\"user_confirm_password\" style={errors.user_confirm_password ? {border: '1px solid red'} : null}/>\r\n              {errors.user_confirm_password && <Tooltip placement=\"right\" title={<p className = \"error_sex_tooltip\" >{errorConfirmPass}</p>}><RiErrorWarningLine className=\"error_sex error_code\"/></Tooltip>}\r\n          </div>\r\n            <div className=\"setting-form-edit-name-button\">\r\n              <button type=\"submit\">Xác nhận thay đổi</button>\r\n            </div>\r\n          </form>\r\n          { loadingPass && <div style={{background: 'rgba(255,255,255,0.7)', position: 'absolute', width: '100%', height: '100%', top: 0, left: 0}}><WaveLoading /></div>}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction Setting() {\r\n  const path = useLocation().pathname.split('/');\r\n  const isActive = path[2];\r\n  const [ustk, setUstk] =  useState(JSON.parse(localStorage.getItem('ustk')).info);\r\n  const [loadingUpdateUsername, setLoadingUpdateUsername] =  useState(false);\r\n  const [loadingUpdateName, setLoadingUpdateName] =  useState(false);\r\n  const [erruserName, setErruserName] =  useState();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n      fetchInfoProfile()\r\n  }, [])\r\n\r\n  const fetchInfoProfile = async () => {\r\n    dispatch(requestInfoProfile())\r\n\r\n    await axios.get('https://www.api.mohi.vn/api/auth/get-info-profile/'+ ustk.user_username)\r\n    .then((res) => {\r\n      dispatch(responseInfoProfile(res.data))\r\n    })\r\n    .catch((e) => {\r\n      dispatch(responseInfoProfile(''))\r\n    })\r\n  }\r\n\r\n  const onSubmitUpdateUserName = (data) => {\r\n      dispatch(requestUpdateProfile())\r\n      setLoadingUpdateUsername(true)\r\n      editInfo({type: 'user_username', value: data.user_username})\r\n      .then((res) => {\r\n        let newUstk = JSON.parse(localStorage.getItem('ustk'));\r\n        newUstk.info.user_username = data.user_username;\r\n        localStorage.setItem('ustk', JSON.stringify(newUstk));\r\n        setUstk(JSON.parse(localStorage.getItem('ustk')).info)\r\n        dispatch(responseUpdateProfile({type: 'user_username', value: data.user_username}))\r\n        setLoadingUpdateUsername(false)\r\n        setErruserName()\r\n        message.success('Bạn đã đổi tên người dùng thành công');\r\n      })\r\n      .catch((e) => {\r\n        if(e.response.status === 400){\r\n          setLoadingUpdateUsername(false)\r\n          setErruserName(Math.random())\r\n        }\r\n      })\r\n  }\r\n\r\n  const onSubmitUpdateName = async (data) => {\r\n    dispatch(requestUpdateProfile())\r\n    setLoadingUpdateName(true)\r\n\r\n    await axios.post('https://www.api.mohi.vn/api/auth/update-info-profile', {user_first_name: data.user_first_name, user_last_name: data.user_last_name})\r\n    .then(res => {\r\n      let newUstk = JSON.parse(localStorage.getItem('ustk'));\r\n      newUstk.info.user_first_name = data.user_first_name;\r\n      newUstk.info.user_last_name = data.user_last_name;\r\n      localStorage.setItem('ustk', JSON.stringify(newUstk));\r\n      setUstk(JSON.parse(localStorage.getItem('ustk')).info)\r\n      dispatch(responseUpdateProfile({type: 'user_first_name', value: data.user_last_name}))\r\n      dispatch(responseUpdateProfile({type: 'user_last_name', value: data.user_last_name}))\r\n      setLoadingUpdateName(false)\r\n      message.success('Bạn đã đổi tên thành công');\r\n    })\r\n\r\n  }\r\n  return (\r\n      <div className=\"setting-container\">\r\n        <div className=\"setting-content\">\r\n          <div className=\"setting-content-left\">\r\n            <ul>\r\n              <Link to=\"/setting/general\">\r\n                <li className={isActive === 'general' || !isActive ? 'active' : ''}>\r\n                  <span><FiSettings /> Cài đặt chung</span>\r\n                </li>\r\n              </Link>\r\n              <Link to=\"/setting/password\">\r\n                <li className={isActive === 'password' ? 'active' : ''}>\r\n                  <span><MdSecurity /> Đổi mật khẩu</span>\r\n                </li>\r\n              </Link>\r\n            </ul>\r\n          </div>\r\n          <div className=\"setting-content-right\">\r\n            <Switch>\r\n              <Route path=\"/setting/general\">\r\n                <General ustk={ustk} erruserName={erruserName} onSubmitUpdateName={onSubmitUpdateName} onSubmitUpdateUserName={onSubmitUpdateUserName} loadingUpdateUsername={loadingUpdateUsername} loadingUpdateName={loadingUpdateName}/>\r\n              </Route>\r\n              <Route path=\"/setting/password\">\r\n                <Password ustk={ustk} />\r\n              </Route>\r\n              <Route component={General}>\r\n                <General ustk={ustk} erruserName={erruserName} onSubmitUpdateName={onSubmitUpdateName} onSubmitUpdateUserName={onSubmitUpdateUserName} loadingUpdateUsername={loadingUpdateUsername} loadingUpdateName={loadingUpdateName}/>\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\nexport default Setting;\r\n"]},"metadata":{},"sourceType":"module"}