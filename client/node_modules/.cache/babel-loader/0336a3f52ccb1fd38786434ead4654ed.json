{"ast":null,"code":"var _jsxFileName = \"D:\\\\mohi\\\\mohi\\\\client\\\\src\\\\Containers\\\\RegisterContainer.jsx\";\nimport React, { useState } from 'react';\nimport RegisterForm from './../app/Authen/RegisterForm.jsx';\nimport axios from 'axios';\nimport { API_VERI_CODE } from './../Constants/Api.jsx';\nimport { useDispatch } from 'react-redux';\nimport { toggleStatusSpin } from './../Actions/index.jsx';\nimport { useHistory } from 'react-router-dom';\n\nvar CryptoJS = require(\"crypto-js\");\n\nfunction RegisterContainer() {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [duplicateEmail, setDuplicateEmail] = useState();\n\n  const onSubmitRegister = async data => {\n    //load Spin\n    dispatch(toggleStatusSpin());\n    await axios.post('/api/register', data).then(response => {\n      console.log(response);\n      let code = CryptoJS.AES.encrypt(JSON.stringify(response.data.veriCode), 'code_veri').toString();\n      let user_email = response.data.email;\n      let user_password = response.data.password;\n      let id_user = response.data.idUser;\n      history.push('/register/step-2', {\n        user_email: user_email,\n        code: code,\n        id_user: id_user,\n        user_password: user_password\n      });\n    }).catch(err => {\n      setDuplicateEmail(Math.random());\n    }); //close Spin\n\n    dispatch(toggleStatusSpin());\n  };\n\n  return /*#__PURE__*/React.createElement(RegisterForm, {\n    onSubmitRegister: onSubmitRegister,\n    duplicateEmail: duplicateEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default RegisterContainer;","map":{"version":3,"sources":["D:/mohi/mohi/client/src/Containers/RegisterContainer.jsx"],"names":["React","useState","RegisterForm","axios","API_VERI_CODE","useDispatch","toggleStatusSpin","useHistory","CryptoJS","require","RegisterContainer","history","dispatch","duplicateEmail","setDuplicateEmail","onSubmitRegister","data","post","then","response","console","log","code","AES","encrypt","JSON","stringify","veriCode","toString","user_email","email","user_password","password","id_user","idUser","push","catch","err","Math","random"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,YAAP,MAAyB,kCAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,aAAR,QAA4B,wBAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AACA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAtB;;AAEA,SAASC,iBAAT,GAA4B;AAC1B,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,QAAQ,GAAGP,WAAW,EAA5B;AACA,QAAM,CAACQ,cAAD,EAAiBC,iBAAjB,IAAsCb,QAAQ,EAApD;;AACA,QAAMc,gBAAgB,GAAG,MAAOC,IAAP,IAAgB;AACvC;AACAJ,IAAAA,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;AAEA,UAAMH,KAAK,CAACc,IAAN,CAAW,eAAX,EAA4BD,IAA5B,EACLE,IADK,CACCC,QAAD,IAAc;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,UAAIG,IAAI,GAAGd,QAAQ,CAACe,GAAT,CAAaC,OAAb,CAAqBC,IAAI,CAACC,SAAL,CAAeP,QAAQ,CAACH,IAAT,CAAcW,QAA7B,CAArB,EAA6D,WAA7D,EAA0EC,QAA1E,EAAX;AACA,UAAIC,UAAU,GAAGV,QAAQ,CAACH,IAAT,CAAcc,KAA/B;AACA,UAAIC,aAAa,GAAGZ,QAAQ,CAACH,IAAT,CAAcgB,QAAlC;AACA,UAAIC,OAAO,GAAGd,QAAQ,CAACH,IAAT,CAAckB,MAA5B;AACAvB,MAAAA,OAAO,CAACwB,IAAR,CAAa,kBAAb,EAAiC;AAC/BN,QAAAA,UAAU,EAAEA,UADmB;AAE/BP,QAAAA,IAAI,EAAEA,IAFyB;AAG/BW,QAAAA,OAAO,EAAEA,OAHsB;AAI/BF,QAAAA,aAAa,EAAEA;AAJgB,OAAjC;AAMD,KAbK,EAcLK,KAdK,CAcEC,GAAD,IAAS;AACdvB,MAAAA,iBAAiB,CAACwB,IAAI,CAACC,MAAL,EAAD,CAAjB;AACD,KAhBK,CAAN,CAJuC,CAsBvC;;AACA3B,IAAAA,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;AACD,GAxBD;;AA0BA,sBACE,oBAAC,YAAD;AAAc,IAAA,gBAAgB,EAAES,gBAAhC;AAAkD,IAAA,cAAc,EAAEF,cAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAGD;;AAED,eAAeH,iBAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport RegisterForm from './../app/Authen/RegisterForm.jsx';\r\nimport axios from 'axios';\r\nimport {API_VERI_CODE} from './../Constants/Api.jsx';\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleStatusSpin } from './../Actions/index.jsx';\r\nimport {useHistory} from 'react-router-dom';\r\nvar CryptoJS = require(\"crypto-js\");\r\n\r\nfunction RegisterContainer(){\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [duplicateEmail, setDuplicateEmail] = useState()\r\n  const onSubmitRegister = async (data) => {\r\n    //load Spin\r\n    dispatch(toggleStatusSpin())\r\n\r\n    await axios.post('/api/register', data)\r\n    .then((response) => {\r\n      console.log(response);\r\n      let code = CryptoJS.AES.encrypt(JSON.stringify(response.data.veriCode), 'code_veri').toString();\r\n      let user_email = response.data.email;\r\n      let user_password = response.data.password;\r\n      let id_user = response.data.idUser;\r\n      history.push('/register/step-2', {\r\n        user_email: user_email,\r\n        code: code,\r\n        id_user: id_user,\r\n        user_password: user_password\r\n      });\r\n    })\r\n    .catch((err) => {\r\n      setDuplicateEmail(Math.random())\r\n    })\r\n\r\n    //close Spin\r\n    dispatch(toggleStatusSpin())\r\n  }\r\n\r\n  return(\r\n    <RegisterForm onSubmitRegister={onSubmitRegister} duplicateEmail={duplicateEmail}/>\r\n  )\r\n}\r\n\r\nexport default RegisterContainer;\r\n"]},"metadata":{},"sourceType":"module"}