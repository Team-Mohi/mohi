{"ast":null,"code":"var _jsxFileName = \"D:\\\\mohi\\\\mohi\\\\client\\\\src\\\\Components\\\\NewFeed\\\\CreatePost.jsx\";\nimport React, { useState, useRef } from 'react';\nimport './CreatePost.css';\nimport { Comment, Avatar, Form, Input, Upload, Modal, List, Switch, Select, Button } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { FaUserTag, FaImage, FaUserFriends, FaLock } from \"react-icons/fa\";\nimport { MdPublic } from \"react-icons/md\";\n\nfunction CreatePost() {\n  const {\n    Option\n  } = Select;\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [disabled, setDisaled] = useState(true);\n  const [previewImage, setPreviewImage] = useState();\n  const [valuePost, setValuePost] = useState();\n  const [previewTitle, setPreviewTitle] = useState();\n  const [fileList, setFileList] = useState([]);\n  const [zIndexModal, setZIndexModal] = useState();\n  const [styleOptionPost, setStyleOptionPost] = useState();\n  const [stylePresentation, setStylePresentation] = useState();\n  const uploadImageNewPost = useRef();\n\n  function getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  const handleUploadImage = () => {\n    uploadImageNewPost.current.upload.uploader.onClick();\n  };\n\n  const handleCancel = () => setPreviewVisible(false);\n\n  const handleChange = ({\n    fileList\n  }) => setFileList(fileList);\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || file.preview);\n    setPreviewVisible(true);\n    setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\n  };\n\n  function showModalCreatePost() {\n    setZIndexModal({\n      position: \"relative\",\n      zIndex: \"311\"\n    });\n    setStylePresentation({\n      bottom: \"0%\",\n      opacity: \".6\",\n      transition: \"opacity .6s\"\n    });\n    setStyleOptionPost({\n      display: \"block\"\n    });\n  }\n\n  const uploadButton = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PlusOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, \"Th\\xEAm \\u1EA3nh\"));\n\n  const onChange = e => {\n    setValuePost(e.target.value);\n\n    if (e.target.value) {\n      setDisaled(false);\n      return;\n    }\n\n    setDisaled(true);\n  };\n\n  const Editor = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    autoFocus: true,\n    style: {\n      wordWrap: \"break-word\",\n      whiteSpace: \"pre-wrap\",\n      outline: 'none',\n      userSelect: 'text',\n      overflowWrap: 'break-word'\n    },\n    className: \"input-create-post\",\n    onChange: onChange,\n    placeholder: \"B\\u1EA1n \\u0111ang ngh\\u0129 d\\xEC?\",\n    value: valuePost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }))));\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"presentation\",\n    onClick: () => {\n      setStylePresentation();\n      setZIndexModal();\n      setStyleOptionPost();\n    },\n    style: stylePresentation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-post p-3 mb-2\",\n    style: zIndexModal,\n    onClick: () => showModalCreatePost(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Comment, {\n    avatar: /*#__PURE__*/React.createElement(Avatar, {\n      src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n      alt: \"Han Solo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 25\n      }\n    }),\n    content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Editor, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex upload-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Upload, {\n      className: \" d-flex upload-image-new-post\",\n      ref: uploadImageNewPost,\n      multiple: true,\n      action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n      listType: \"picture-card\",\n      fileList: fileList,\n      onPreview: handlePreview,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }\n    }, fileList.length > 0 ? uploadButton : null), /*#__PURE__*/React.createElement(Modal, {\n      visible: previewVisible,\n      title: previewTitle,\n      footer: null,\n      onCancel: handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"example\",\n      style: {\n        width: '100%'\n      },\n      src: previewImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 37\n      }\n    })))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex action-new-post\",\n    style: {\n      justifyContent: \"space-around\",\n      fontSize: \"14px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: handleUploadImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaImage, {\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, \" \\u1EA2nh/Video\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaUserTag, {\n    style: {\n      fontSize: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, \"G\\u1EAFn th\\u1EBB b\\u1EA1n b\\xE8\"))), /*#__PURE__*/React.createElement(List, {\n    className: \"option-post\",\n    style: styleOptionPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(List.Item, {\n    className: \"privacy-new-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"place-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, \"Tin c\\u1EE7a b\\u1EA1n\")), /*#__PURE__*/React.createElement(Select, {\n    className: \"select-privacy\",\n    defaultValue: \"public\",\n    style: {\n      width: 140\n    },\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MdPublic, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 52\n    }\n  }), \" C\\xF4ng khai\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"friend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaUserFriends, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 52\n    }\n  }), \" B\\u1EA1n b\\xE8\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"onlyme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaLock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 52\n    }\n  }), \" Ch\\u1EC9 m\\xECnh t\\xF4i\"))), /*#__PURE__*/React.createElement(List.Item, {\n    className: \"privacy-new-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    defaultChecked: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"place-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, \"B\\u1EA3ng tin\")), /*#__PURE__*/React.createElement(Select, {\n    className: \"select-privacy\",\n    defaultValue: \"public\",\n    style: {\n      width: 140\n    },\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MdPublic, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 52\n    }\n  }), \" C\\xF4ng khai\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"friend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaUserFriends, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 52\n    }\n  }), \" B\\u1EA1n b\\xE8\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"onlyme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaLock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 52\n    }\n  }), \" Ch\\u1EC9 m\\xECnh t\\xF4i\"))), /*#__PURE__*/React.createElement(Button, {\n    className: \"submit-create-post\",\n    onClick: () => setLoading(true),\n    type: \"primary\",\n    block: true,\n    loading: loading,\n    disabled: disabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, \"\\u0110\\u0103ng\"))));\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["D:/mohi/mohi/client/src/Components/NewFeed/CreatePost.jsx"],"names":["React","useState","useRef","Comment","Avatar","Form","Input","Upload","Modal","List","Switch","Select","Button","PlusOutlined","FaUserTag","FaImage","FaUserFriends","FaLock","MdPublic","CreatePost","Option","previewVisible","setPreviewVisible","loading","setLoading","disabled","setDisaled","previewImage","setPreviewImage","valuePost","setValuePost","previewTitle","setPreviewTitle","fileList","setFileList","zIndexModal","setZIndexModal","styleOptionPost","setStyleOptionPost","stylePresentation","setStylePresentation","uploadImageNewPost","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","handleUploadImage","current","upload","uploader","onClick","handleCancel","handleChange","handlePreview","url","preview","originFileObj","name","substring","lastIndexOf","showModalCreatePost","position","zIndex","bottom","opacity","transition","display","uploadButton","onChange","e","target","value","Editor","wordWrap","whiteSpace","outline","userSelect","overflowWrap","length","width","justifyContent","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport './CreatePost.css';\r\nimport { Comment, Avatar, Form, Input, Upload, Modal, List, Switch, Select, Button } from 'antd';\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport { FaUserTag, FaImage, FaUserFriends, FaLock } from \"react-icons/fa\";\r\nimport { MdPublic } from \"react-icons/md\";\r\n\r\nfunction CreatePost() {\r\n    const { Option } = Select;\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [disabled, setDisaled] = useState(true);\r\n    const [previewImage, setPreviewImage] = useState();\r\n    const [valuePost, setValuePost] = useState();\r\n    const [previewTitle, setPreviewTitle] = useState();\r\n    const [fileList, setFileList] = useState([]);\r\n    const [zIndexModal, setZIndexModal] = useState();\r\n    const [styleOptionPost, setStyleOptionPost] = useState();\r\n    const [stylePresentation, setStylePresentation] = useState();\r\n    const uploadImageNewPost = useRef();\r\n\r\n    function getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n    const handleUploadImage = () => {\r\n        uploadImageNewPost.current.upload.uploader.onClick()\r\n    }\r\n    const handleCancel = () => setPreviewVisible(false);\r\n    const handleChange = ({ fileList }) => setFileList(fileList);\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewImage(file.url || file.preview)\r\n        setPreviewVisible(true)\r\n        setPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1))\r\n    };\r\n    function showModalCreatePost() {\r\n        setZIndexModal({ position: \"relative\", zIndex: \"311\" })\r\n        setStylePresentation({ bottom: \"0%\", opacity: \".6\", transition: \"opacity .6s\" })\r\n        setStyleOptionPost({ display: \"block\" })\r\n    }\r\n    const uploadButton = (\r\n        <div>\r\n            <PlusOutlined />\r\n            <div className=\"ant-upload-text\" >Thêm ảnh</div>\r\n        </div>\r\n    );\r\n    const onChange = (e) => {\r\n        setValuePost(e.target.value)\r\n        if (e.target.value) {\r\n            setDisaled(false)\r\n            return\r\n        }\r\n        setDisaled(true)\r\n    }\r\n    const Editor = () => (\r\n        <>\r\n            <Form >\r\n                <Form.Item>\r\n                    <Input\r\n                        autoFocus\r\n                        style={{ wordWrap: \"break-word\", whiteSpace: \"pre-wrap\", outline: 'none', userSelect: 'text', overflowWrap: 'break-word' }}\r\n                        className=\"input-create-post\"\r\n                        onChange={onChange}\r\n                        placeholder=\"Bạn đang nghĩ dì?\"\r\n                        value={valuePost}\r\n                    />\r\n\r\n                </Form.Item>\r\n            </Form>\r\n        </>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className=\"presentation\"\r\n                onClick={() => {\r\n                    setStylePresentation(); setZIndexModal(); setStyleOptionPost()\r\n                }}\r\n                style={stylePresentation}\r\n            ></div>\r\n            <div\r\n                className=\"create-post p-3 mb-2\"\r\n                style={zIndexModal}\r\n                onClick={() => showModalCreatePost()}\r\n            >\r\n                <Comment\r\n                    avatar={\r\n                        <Avatar\r\n                            src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n                            alt=\"Han Solo\"\r\n                        />\r\n                    }\r\n                    content={\r\n                        <>\r\n                            <Editor\r\n                            />\r\n                            <div className=\"d-flex upload-image\"\r\n                            >\r\n                                <Upload\r\n                                    className=\" d-flex upload-image-new-post\"\r\n                                    ref={uploadImageNewPost}\r\n                                    multiple\r\n                                    action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                                    listType=\"picture-card\"\r\n                                    fileList={fileList}\r\n                                    onPreview={handlePreview}\r\n                                    onChange={handleChange}\r\n                                >\r\n                                    {fileList.length > 0 ? uploadButton : null}\r\n                                </Upload>\r\n                                <Modal\r\n                                    visible={previewVisible}\r\n                                    title={previewTitle}\r\n                                    footer={null}\r\n                                    onCancel={handleCancel}\r\n                                >\r\n                                    <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n                                </Modal>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                />\r\n                <hr />\r\n                <div\r\n                    className=\"d-flex action-new-post\"\r\n                    style={{ justifyContent: \"space-around\", fontSize: \"14px\" }}\r\n                >\r\n                    <div\r\n                        onClick={handleUploadImage}\r\n                    >\r\n                        <FaImage style={{ fontSize: \"20px\" }} />\r\n                        <span> Ảnh/Video</span>\r\n                    </div>\r\n                    <div>\r\n                        <FaUserTag style={{ fontSize: \"20px\" }} />\r\n                        <span>Gắn thẻ bạn bè</span>\r\n                    </div>\r\n                </div>\r\n                <List\r\n                    className=\"option-post\"\r\n                    style={styleOptionPost}\r\n                >\r\n                    <List.Item className=\"privacy-new-post\">\r\n                        <div>\r\n                            <Switch></Switch>\r\n                            <span className=\"place-post\">Tin của bạn</span>\r\n                        </div>\r\n                        <Select className=\"select-privacy\" defaultValue=\"public\" style={{ width: 140 }} loading>\r\n                            <Option value=\"public\"><MdPublic /> Công khai</Option>\r\n                            <Option value=\"friend\"><FaUserFriends /> Bạn bè</Option>\r\n                            <Option value=\"onlyme\"><FaLock /> Chỉ mình tôi</Option>\r\n                        </Select>\r\n                    </List.Item>\r\n                    <List.Item className=\"privacy-new-post\">\r\n                        <div>\r\n                            <Switch defaultChecked></Switch>\r\n                            <span className=\"place-post\">Bảng tin</span>\r\n                        </div>\r\n                        <Select className=\"select-privacy\" defaultValue=\"public\" style={{ width: 140 }} loading>\r\n                            <Option value=\"public\"><MdPublic /> Công khai</Option>\r\n                            <Option value=\"friend\"><FaUserFriends /> Bạn bè</Option>\r\n                            <Option value=\"onlyme\"><FaLock /> Chỉ mình tôi</Option>\r\n                        </Select>\r\n                    </List.Item>\r\n                    <Button\r\n                        className=\"submit-create-post\"\r\n                        onClick={() => setLoading(true)}\r\n                        type=\"primary\"\r\n                        block loading={loading}\r\n                        disabled={disabled}\r\n                    >\r\n                        Đăng\r\n                    </Button>\r\n                </List>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreatePost;\r\n"]},"metadata":{},"sourceType":"module"}