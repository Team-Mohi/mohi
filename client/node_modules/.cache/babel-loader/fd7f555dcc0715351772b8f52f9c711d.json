{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef,useCallback,useContext}from'react';import{FaSmile}from'react-icons/fa';import{GiPhone}from'react-icons/gi';import{MdRadioButtonUnchecked}from'react-icons/md';import{AiOutlineCheckCircle}from'react-icons/ai';import{Image,Transformation}from'cloudinary-react';import{BsSearch,BsFillCameraVideoFill,BsThreeDotsVertical,BsImage,BsPencilSquare}from'react-icons/bs';import{AiTwotoneSetting,AiTwotoneLike,AiFillFile,AiFillCamera,AiFillCloseCircle}from'react-icons/ai';import{Row,Spin}from'antd';import useWindowSize from\"./useWindowSize.jsx\";import EditorEmoji from\"./EditorEmoji.jsx\";import{useSelector,useDispatch}from'react-redux';import{useParams,useHistory}from'react-router-dom';import{setCurrentOneMessage}from'./../../Actions/index.jsx';import{addNewMessageOflist}from'./../../Actions/index.jsx';import{addNewMessage}from'./../../Actions/index.jsx';import{WaveLoading}from'react-loadingg';import axios from'axios';import SocketContext from'./../Socket/index.jsx';import moment from'moment';import'moment/locale/vi';import{readMessage}from'./../../Actions/index.jsx';import{readMessageOfList}from'./../../Actions/index.jsx';import{readMyMessage}from'./../../Actions/index.jsx';import{typingMess}from'./../../Actions/index.jsx';export var ContentMessenger=function ContentMessenger(props,_ref){var oneMessage=_ref.oneMessage;var _useParams=useParams(),idUser=_useParams.idUser;var observer=useRef();var inputImageRef=useRef();var keepScrollToBottom=useRef();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.oneMessage;}),list=_useSelector.list,infoUser=_useSelector.infoUser,loading=_useSelector.loading,hasMore=_useSelector.hasMore,loadingMore=_useSelector.loadingMore,typing=_useSelector.typing;var socket=useContext(SocketContext);var heightContent=window.innerHeight-134;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),setupFakeName=_useState2[0],setSetupFakeName=_useState2[1];var _useState3=useState({height:heightContent}),_useState4=_slicedToArray(_useState3,2),heightContentBody=_useState4[0],setHeightContentBody=_useState4[1];var windowSize=useWindowSize();var _useState5=useState({height:heightContent-56}),_useState6=_slicedToArray(_useState5,2),heightRoom=_useState6[0],setHeightRoom=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showSearchRoomChat=_useState8[0],setShowSearchRoomChat=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),newImageMess=_useState10[0],setNewImageMess=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),newVideoMess=_useState12[0],setNewVideoMess=_useState12[1];var currentUser=JSON.parse(localStorage.getItem('ustk')).info;var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),listNewMess=_useState14[0],setListNewMess=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),listOnline=_useState16[0],setListOnline=_useState16[1];var history=useHistory();useEffect(function(){socket.on('private-chat',function(data){dispatch(addNewMessage(data.message));if(keepScrollToBottom.current){keepScrollToBottom.current.scrollTop=keepScrollToBottom.current.scrollHeight;}});socket.on('read-message',function(data){dispatch(readMessage({id:data.idUser,clientId:data.clientId}));});socket.on('typing-mess',function(data){dispatch(typingMess({from:data.from.id,status:data.status}));if(keepScrollToBottom.current){keepScrollToBottom.current.scrollTop=keepScrollToBottom.current.scrollHeight;}});socket.on('register',function(data){setListOnline(data);});if(history.location.state){dispatch(readMessageOfList({id:currentUser.id,clientId:history.location.state.id}));}},[]);useEffect(function(){props.getMessageOneUser(idUser);},[idUser]);useEffect(function(){if(keepScrollToBottom.current){keepScrollToBottom.current.scrollTop=keepScrollToBottom.current.scrollHeight;}},[loading]);useEffect(function(){setHeightContentBody({height:heightContent});setHeightRoom({height:heightContent-56});},[windowSize]);var IsOnline=function IsOnline(props){var result='';if(listOnline){Object.keys(listOnline).forEach(function(key){if(listOnline[key]===props.username){result=/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-info-status\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"),\" \",/*#__PURE__*/React.createElement(\"p\",null));}});};return result;};var isTypingMess=function isTypingMess(status){socket.emit('typing-mess',{from:currentUser,to:infoUser,status:status});};var readMess=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"https://www.api.mohi.vn/api/auth/read-message\",{id:infoUser.id}).then(function(res){dispatch(readMessageOfList({id:currentUser.id,clientId:infoUser.id}));socket.emit('read-message',{user_username:infoUser.user_username,idUser:infoUser.id,clientId:currentUser.id});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function readMess(){return _ref2.apply(this,arguments);};}();var onSubmitMess=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value){var newMsg;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:newMsg={id:currentUser.id,avtatar:currentUser.user_avatar,name:currentUser.user_first_name+' '+currentUser.user_last_name,message:value,time:new Date()};setListNewMess([].concat(_toConsumableArray(listNewMess),[newMsg]));keepScrollToBottom.current.scrollTop=keepScrollToBottom.current.scrollHeight;_context2.next=5;return axios.post(\"https://www.api.mohi.vn/api/auth/send-message\",{messages_Message:value,id:infoUser.id}).then(function(res){dispatch(addNewMessage(res.data));dispatch(addNewMessageOflist({type:'send',to:res.data[0].user_receive,message:res.data}));setListNewMess([]);socket.emit('private-chat',{from:currentUser,to:res.data[0].user_receive,message:res.data});});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function onSubmitMess(_x){return _ref3.apply(this,arguments);};}();var lastMessage=useCallback(function(node){if(loadingMore)return;if(observer.current)observer.current.disconnect();observer.current=new IntersectionObserver(function(entries){if(entries[0].isIntersecting&&hasMore){dispatch(setCurrentOneMessage());keepScrollToBottom.current.scrollTop=500;}});if(node)observer.current.observe(node);},[loadingMore,hasMore]);function setupFakeNameFunc(){setSetupFakeName(true);}function saveFakeNameFunc(){setSetupFakeName(false);}function showSearchRoomChatFunc(){setShowSearchRoomChat(true);}function hideSearchRoomChatFunc(){setShowSearchRoomChat(false);}var onChangeSendImage=function onChangeSendImage(e){var file=e.target.files[0];var blobUrl=URL.createObjectURL(file);URL.revokeObjectURL(file);if(file.type==='video/ogg'||file.type==='video/mp4'){setNewVideoMess(blobUrl);setNewImageMess();}if(file.type==='image/png'||file.type==='image/jpg'||file.type==='image/jpeg'){setNewImageMess(blobUrl);setNewVideoMess();}};var deleteImageMess=function deleteImageMess(){setNewImageMess();setNewVideoMess();};if(loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-container\",style:{position:'relative',display:'flex',alignItems:'center',justifyContent:'center'}},/*#__PURE__*/React.createElement(WaveLoading,null));}return/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-info-avatar\"},infoUser.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:infoUser.user_avatar,alt:infoUser.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:infoUser.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:infoUser.user_avatar_cropH,width:infoUser.user_avatar_cropW,x:infoUser.user_avatar_cropX,y:infoUser.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-info-name\"},infoUser.user_first_name+' '+infoUser.user_last_name),/*#__PURE__*/React.createElement(IsOnline,{username:infoUser.user_username}))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-option\"},/*#__PURE__*/React.createElement(GiPhone,null),/*#__PURE__*/React.createElement(BsFillCameraVideoFill,null),/*#__PURE__*/React.createElement(BsThreeDotsVertical,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body\",style:heightContentBody},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-room\",style:heightRoom,ref:keepScrollToBottom},loadingMore&&/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',background:'rgba(0,128,128,0.3)',marginBottom:'10px',borderRadius:'3px',padding:'3px'}},\"\\u0110ang t\\u1EA3i th\\xEAm tin nh\\u1EAFn vui l\\xF2ng \\u0111\\u1EE3i...\"),list.map(function(mess,index){if(mess.messages_From===currentUser.id){return/*#__PURE__*/React.createElement(React.Fragment,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat\",ref:index===0?lastMessage:null},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',fontSize:'11px',fontWeight:'600',color:'rgba(0,0,0,0.7)'}},index>0&&new Date(mess.created_at).getTime()-new Date(list[index-1].created_at).getTime()>600000&&moment(mess.created_at).format(\"\\h:m, DD-MM-YYYY\")),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat-content\"},/*#__PURE__*/React.createElement(\"p\",null,mess.messages_Message),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat-content-status\"},index<list.length-1&&list[index+1].messages_ReadAt===null&&/*#__PURE__*/React.createElement(React.Fragment,null,mess.messages_ReadAt!==null?/*#__PURE__*/React.createElement(React.Fragment,null,mess.user_receive.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:mess.user_receive.user_avatar,alt:mess.user_receive.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:mess.user_receive.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:mess.user_receive.user_avatar_cropH,width:mess.user_receive.user_avatar_cropW,x:mess.user_receive.user_avatar_cropX,y:mess.user_receive.user_avatar_cropY,crop:\"crop\"}))):/*#__PURE__*/React.createElement(AiOutlineCheckCircle,null)),index===list.length-1&&/*#__PURE__*/React.createElement(React.Fragment,null,mess.messages_ReadAt!==null?/*#__PURE__*/React.createElement(React.Fragment,null,mess.user_receive.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:mess.user_receive.user_avatar,alt:mess.user_receive.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:mess.user_receive.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:mess.user_receive.user_avatar_cropH,width:mess.user_receive.user_avatar_cropW,x:mess.user_receive.user_avatar_cropX,y:mess.user_receive.user_avatar_cropY,crop:\"crop\"}))):/*#__PURE__*/React.createElement(AiOutlineCheckCircle,null))))),/*#__PURE__*/React.createElement(\"div\",{className:\"clear\"}));}else{return/*#__PURE__*/React.createElement(React.Fragment,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-user-chat\",ref:index===0?lastMessage:null},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:'center',fontSize:'11px',fontWeight:'600',color:'rgba(0,0,0,0.7)'}},index>0&&new Date(mess.created_at).getTime()-new Date(list[index-1].created_at).getTime()>600000&&moment(mess.created_at).format(\"\\h:m, DD-MM-YYYY\")),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-user-chat-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-user-chat-content-avatar\"},index+1<=list.length-1&&mess.messages_From!==list[index+1].messages_From&&/*#__PURE__*/React.createElement(React.Fragment,null,mess.user_send.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:mess.user_send.user_avatar,alt:mess.user_send.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:mess.user_send.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:mess.user_send.user_avatar_cropH,width:mess.user_send.user_avatar_cropW,x:mess.user_send.user_avatar_cropX,y:mess.user_send.user_avatar_cropY,crop:\"crop\"}))),index===list.length-1&&/*#__PURE__*/React.createElement(React.Fragment,null,mess.user_send.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:mess.user_send.user_avatar,alt:mess.user_send.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:mess.user_send.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:mess.user_send.user_avatar_cropH,width:mess.user_send.user_avatar_cropW,x:mess.user_send.user_avatar_cropX,y:mess.user_send.user_avatar_cropY,crop:\"crop\"})))),/*#__PURE__*/React.createElement(\"p\",null,mess.messages_Message))),/*#__PURE__*/React.createElement(\"div\",{className:\"clear\"}));}}),listNewMess.map(function(msg,index){return/*#__PURE__*/React.createElement(React.Fragment,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat-content\"},/*#__PURE__*/React.createElement(\"p\",null,msg.message),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-my-chat-content-status\"},/*#__PURE__*/React.createElement(MdRadioButtonUnchecked,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"clear\"}));}),typing&&/*#__PURE__*/React.createElement(\"div\",null,infoUser.user_first_name+' '+infoUser.user_last_name,\" \\u0111ang nh\\u1EADp tin nh\\u1EAFn...\")),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-input\"},/*#__PURE__*/React.createElement(\"div\",{className:\"preview-image-send\",style:newImageMess||newVideoMess?{opacity:1}:null},/*#__PURE__*/React.createElement(\"div\",{className:\"preview-image-send-img\"},/*#__PURE__*/React.createElement(AiFillCloseCircle,{onClick:deleteImageMess}),newImageMess&&/*#__PURE__*/React.createElement(\"img\",{src:newImageMess,alt:\"Tin nh\\u1EAFn h\\xECnh \\u1EA3nh\"}),newVideoMess&&/*#__PURE__*/React.createElement(\"video\",null,/*#__PURE__*/React.createElement(\"source\",{src:newVideoMess}),\"Your browser does not support HTML5 video.\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-input-text\"},/*#__PURE__*/React.createElement(EditorEmoji,{onSubmitMess:onSubmitMess,isTypingMess:isTypingMess,readMess:readMess})))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-head\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-head-avatar\"},infoUser.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:infoUser.user_avatar,alt:infoUser.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:infoUser.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:infoUser.user_avatar_cropH,width:infoUser.user_avatar_cropW,x:infoUser.user_avatar_cropX,y:infoUser.user_avatar_cropY,crop:\"crop\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-head-name\"},infoUser.user_first_name+' '+infoUser.user_last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-support\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-support-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"content-messenger-body-right-list-iamge-share\"}))))));};","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Messenger/ContentMessenger.jsx"],"names":["React","useState","useEffect","useRef","useCallback","useContext","FaSmile","GiPhone","MdRadioButtonUnchecked","AiOutlineCheckCircle","Image","Transformation","BsSearch","BsFillCameraVideoFill","BsThreeDotsVertical","BsImage","BsPencilSquare","AiTwotoneSetting","AiTwotoneLike","AiFillFile","AiFillCamera","AiFillCloseCircle","Row","Spin","useWindowSize","EditorEmoji","useSelector","useDispatch","useParams","useHistory","setCurrentOneMessage","addNewMessageOflist","addNewMessage","WaveLoading","axios","SocketContext","moment","readMessage","readMessageOfList","readMyMessage","typingMess","ContentMessenger","props","oneMessage","idUser","observer","inputImageRef","keepScrollToBottom","dispatch","state","list","infoUser","loading","hasMore","loadingMore","typing","socket","heightContent","window","innerHeight","setupFakeName","setSetupFakeName","height","heightContentBody","setHeightContentBody","windowSize","heightRoom","setHeightRoom","showSearchRoomChat","setShowSearchRoomChat","newImageMess","setNewImageMess","newVideoMess","setNewVideoMess","currentUser","JSON","parse","localStorage","getItem","info","listNewMess","setListNewMess","listOnline","setListOnline","history","on","data","message","current","scrollTop","scrollHeight","id","clientId","from","status","location","getMessageOneUser","IsOnline","result","Object","keys","forEach","key","username","isTypingMess","emit","to","readMess","post","then","res","user_username","onSubmitMess","value","newMsg","avtatar","user_avatar","name","user_first_name","user_last_name","time","Date","messages_Message","type","user_receive","lastMessage","node","disconnect","IntersectionObserver","entries","isIntersecting","observe","setupFakeNameFunc","saveFakeNameFunc","showSearchRoomChatFunc","hideSearchRoomChatFunc","onChangeSendImage","e","file","target","files","blobUrl","URL","createObjectURL","revokeObjectURL","deleteImageMess","position","display","alignItems","justifyContent","user_avatar_cropX","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","textAlign","background","marginBottom","borderRadius","padding","map","mess","index","messages_From","fontSize","fontWeight","color","created_at","getTime","format","length","messages_ReadAt","user_send","msg","opacity"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef, useCallback, useContext} from 'react';\r\nimport {FaSmile} from 'react-icons/fa';\r\nimport {GiPhone} from 'react-icons/gi';\r\nimport {MdRadioButtonUnchecked} from 'react-icons/md';\r\nimport {AiOutlineCheckCircle} from 'react-icons/ai';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\nimport {BsSearch, BsFillCameraVideoFill, BsThreeDotsVertical, BsImage, BsPencilSquare} from 'react-icons/bs';\r\nimport {AiTwotoneSetting, AiTwotoneLike, AiFillFile, AiFillCamera, AiFillCloseCircle} from 'react-icons/ai';\r\nimport {Row, Spin} from 'antd';\r\nimport useWindowSize from \"./useWindowSize.jsx\";\r\nimport EditorEmoji from \"./EditorEmoji.jsx\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport {setCurrentOneMessage} from './../../Actions/index.jsx';\r\nimport {addNewMessageOflist} from './../../Actions/index.jsx';\r\nimport {addNewMessage} from './../../Actions/index.jsx';\r\nimport { WaveLoading } from 'react-loadingg';\r\nimport axios from 'axios';\r\nimport SocketContext from './../Socket/index.jsx';\r\nimport moment from 'moment';\r\nimport 'moment/locale/vi';\r\nimport {readMessage} from './../../Actions/index.jsx';\r\nimport {readMessageOfList} from './../../Actions/index.jsx';\r\nimport {readMyMessage} from './../../Actions/index.jsx';\r\nimport {typingMess} from './../../Actions/index.jsx';\r\n\r\nexport const ContentMessenger = (props, {oneMessage}) => {\r\n  const {idUser} = useParams();\r\n  const observer = useRef();\r\n  const inputImageRef = useRef();\r\n  const keepScrollToBottom = useRef();\r\n  const dispatch = useDispatch();\r\n  var {list, infoUser, loading, hasMore, loadingMore, typing} = useSelector(state => state.oneMessage);\r\n  const socket = useContext(SocketContext);\r\n  const heightContent = window.innerHeight - 134;\r\n  const [setupFakeName, setSetupFakeName] = useState(false)\r\n  const [heightContentBody, setHeightContentBody] = useState({height: heightContent})\r\n  const windowSize = useWindowSize();\r\n  const [heightRoom, setHeightRoom] = useState({height: heightContent - 56})\r\n  const [showSearchRoomChat, setShowSearchRoomChat] = useState(false)\r\n  const [newImageMess, setNewImageMess] = useState();\r\n  const [newVideoMess, setNewVideoMess] = useState();\r\n  var currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n  const [listNewMess, setListNewMess] = useState([]);\r\n  const [listOnline, setListOnline] = useState();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    socket.on('private-chat', function(data){\r\n        dispatch(addNewMessage(data.message))\r\n        if(keepScrollToBottom.current) {\r\n          keepScrollToBottom.current.scrollTop = keepScrollToBottom.current.scrollHeight;\r\n        }\r\n    });\r\n    socket.on('read-message', function(data){\r\n      dispatch(readMessage({id: data.idUser, clientId: data.clientId}))\r\n    });\r\n    socket.on('typing-mess', function(data){\r\n      dispatch(typingMess({from: data.from.id, status: data.status}));\r\n      if(keepScrollToBottom.current) {\r\n        keepScrollToBottom.current.scrollTop = keepScrollToBottom.current.scrollHeight;\r\n      }\r\n    });\r\n    socket.on('register', function(data){\r\n      setListOnline(data)\r\n    });\r\n\r\n    if(history.location.state){\r\n      dispatch(readMessageOfList({id: currentUser.id, clientId: history.location.state.id}))\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    props.getMessageOneUser(idUser)\r\n  }, [idUser])\r\n\r\n  useEffect(() => {\r\n    if(keepScrollToBottom.current) {\r\n        keepScrollToBottom.current.scrollTop = keepScrollToBottom.current.scrollHeight;\r\n    }\r\n  }, [loading])\r\n\r\n  useEffect(() => {\r\n    setHeightContentBody({height: heightContent})\r\n    setHeightRoom({height: heightContent - 56})\r\n  },[windowSize])\r\n\r\n  const IsOnline = (props) => {\r\n    let result = '';\r\n    if(listOnline){\r\n      Object.keys(listOnline).forEach(key => {\r\n          if(listOnline[key] === props.username){\r\n            result = <div className=\"content-messenger-info-status\"><span>Đang hoạt động</span> <p></p></div>;\r\n          }\r\n      });\r\n    };\r\n\r\n    return result;\r\n  }\r\n\r\n  const isTypingMess = (status) => {\r\n    socket.emit('typing-mess', {from : currentUser, to : infoUser, status: status})\r\n  }\r\n\r\n  const readMess = async () => {\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/read-message\", {id: infoUser.id}).then((res) => {\r\n      dispatch(readMessageOfList({id: currentUser.id, clientId: infoUser.id}))\r\n      socket.emit('read-message', {user_username: infoUser.user_username, idUser: infoUser.id, clientId: currentUser.id})\r\n    })\r\n  }\r\n\r\n  const onSubmitMess = async (value) => {\r\n\r\n    var newMsg = {\r\n      id: currentUser.id,\r\n      avtatar: currentUser.user_avatar,\r\n      name: currentUser.user_first_name + ' ' + currentUser.user_last_name,\r\n      message: value,\r\n      time: new Date()\r\n    }\r\n\r\n    setListNewMess([...listNewMess, newMsg]);\r\n    keepScrollToBottom.current.scrollTop = keepScrollToBottom.current.scrollHeight;\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/send-message\", {\r\n      messages_Message: value,\r\n      id: infoUser.id\r\n    })\r\n    .then((res) => {\r\n      dispatch(addNewMessage(res.data))\r\n      dispatch(addNewMessageOflist({type: 'send', to : res.data[0].user_receive, message: res.data}))\r\n      setListNewMess([]);\r\n      socket.emit('private-chat', {from : currentUser, to : res.data[0].user_receive, message: res.data})\r\n    })\r\n\r\n  }\r\n\r\n  const lastMessage = useCallback(node => {\r\n    if(loadingMore) return\r\n      if(observer.current) observer.current.disconnect()\r\n      observer.current = new IntersectionObserver(entries => {\r\n        if(entries[0].isIntersecting && hasMore){\r\n          dispatch(setCurrentOneMessage())\r\n          keepScrollToBottom.current.scrollTop = 500;\r\n        }\r\n      })\r\n    if(node) observer.current.observe(node)\r\n  }, [loadingMore, hasMore])\r\n\r\n  function setupFakeNameFunc(){\r\n    setSetupFakeName(true)\r\n  }\r\n\r\n  function saveFakeNameFunc(){\r\n    setSetupFakeName(false)\r\n  }\r\n\r\n  function showSearchRoomChatFunc(){\r\n    setShowSearchRoomChat(true)\r\n  }\r\n\r\n  function hideSearchRoomChatFunc(){\r\n    setShowSearchRoomChat(false)\r\n  }\r\n\r\n  const onChangeSendImage = (e) => {\r\n\r\n      let file = e.target.files[0];\r\n      let blobUrl = URL.createObjectURL(file)\r\n      URL.revokeObjectURL(file)\r\n\r\n      if(file.type === 'video/ogg' || file.type === 'video/mp4'){\r\n        setNewVideoMess(blobUrl)\r\n        setNewImageMess()\r\n      }\r\n      if(file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg'){\r\n        setNewImageMess(blobUrl)\r\n        setNewVideoMess()\r\n      }\r\n\r\n  }\r\n\r\n  const deleteImageMess = () => {\r\n    setNewImageMess()\r\n    setNewVideoMess()\r\n\r\n  }\r\n\r\n    if(loading){\r\n      return(\r\n        <div className=\"content-messenger-container\" style={{position: 'relative', display: 'flex', alignItems:'center', justifyContent: 'center'}}>\r\n          <WaveLoading />\r\n        </div>\r\n      )\r\n    }\r\n\r\n      return(\r\n        <div className=\"content-messenger-container\">\r\n          <div className=\"content-messenger-head\">\r\n            <div className=\"content-messenger-info\">\r\n              <div className=\"content-messenger-info-avatar\">\r\n                {infoUser.user_avatar_cropX === null ?\r\n                  <img src={infoUser.user_avatar} alt={infoUser.user_last_name} />\r\n                  :\r\n                  <Image cloudName=\"mohi-vn\" publicId={infoUser.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                    <Transformation height={infoUser.user_avatar_cropH}  width={infoUser.user_avatar_cropW} x={infoUser.user_avatar_cropX} y={infoUser.user_avatar_cropY} crop=\"crop\" />\r\n                  </Image>\r\n                }\r\n              </div>\r\n              <div>\r\n                <div className=\"content-messenger-info-name\">{infoUser.user_first_name + ' ' + infoUser.user_last_name}</div>\r\n                <IsOnline username={infoUser.user_username} />\r\n              </div>\r\n            </div>\r\n            <div className=\"content-messenger-option\">\r\n              <GiPhone />\r\n              <BsFillCameraVideoFill />\r\n              <BsThreeDotsVertical />\r\n            </div>\r\n          </div>\r\n          <div className=\"content-messenger-body\" style={heightContentBody}>\r\n            <div className=\"content-messenger-body-left\" >\r\n              <div className=\"content-messenger-room\" style={heightRoom} ref={keepScrollToBottom}>\r\n                {loadingMore && <div style={{textAlign: 'center', background: 'rgba(0,128,128,0.3)', marginBottom: '10px', borderRadius: '3px', padding: '3px' }}>Đang tải thêm tin nhắn vui lòng đợi...</div>}\r\n                {list.map((mess, index) => {\r\n                  if(mess.messages_From === currentUser.id){\r\n                    return(\r\n                      <React.Fragment key={index}>\r\n                        <div className=\"content-messenger-my-chat\" ref={index === 0 ? lastMessage : null}>\r\n                          <div style={{textAlign: 'center', fontSize: '11px', fontWeight: '600', color: 'rgba(0,0,0,0.7)'}}>\r\n                            {index > 0 && new Date(mess.created_at).getTime() - new Date(list[index - 1].created_at).getTime() > 600000 && moment(mess.created_at).format(\"\\h:m, DD-MM-YYYY\")}\r\n                          </div>\r\n                          <div className=\"content-messenger-my-chat-content\">\r\n                            <p>{mess.messages_Message}</p>\r\n                            <div className=\"content-messenger-my-chat-content-status\">\r\n                              {index < list.length - 1 && list[index + 1].messages_ReadAt === null &&\r\n                                <React.Fragment>\r\n                                  {mess.messages_ReadAt !== null ?\r\n                                    <React.Fragment>\r\n                                      {mess.user_receive.user_avatar_cropX === null ?\r\n                                        <img src={mess.user_receive.user_avatar} alt={mess.user_receive.user_last_name} />\r\n                                        :\r\n                                        <Image cloudName=\"mohi-vn\" publicId={mess.user_receive.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                                          <Transformation height={mess.user_receive.user_avatar_cropH}  width={mess.user_receive.user_avatar_cropW} x={mess.user_receive.user_avatar_cropX} y={mess.user_receive.user_avatar_cropY} crop=\"crop\" />\r\n                                        </Image>\r\n                                      }\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    <AiOutlineCheckCircle />\r\n                                  }\r\n                                </React.Fragment>\r\n                              }\r\n                              {index === list.length - 1 &&\r\n                                <React.Fragment>\r\n                                  {mess.messages_ReadAt !== null ?\r\n                                    <React.Fragment>\r\n                                      {mess.user_receive.user_avatar_cropX === null ?\r\n                                        <img src={mess.user_receive.user_avatar} alt={mess.user_receive.user_last_name} />\r\n                                        :\r\n                                        <Image cloudName=\"mohi-vn\" publicId={mess.user_receive.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                                          <Transformation height={mess.user_receive.user_avatar_cropH}  width={mess.user_receive.user_avatar_cropW} x={mess.user_receive.user_avatar_cropX} y={mess.user_receive.user_avatar_cropY} crop=\"crop\" />\r\n                                        </Image>\r\n                                      }\r\n                                    </React.Fragment>\r\n                                    :\r\n                                    <AiOutlineCheckCircle />\r\n                                  }\r\n                                </React.Fragment>\r\n                              }\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"clear\"></div>\r\n                      </React.Fragment>\r\n                    )\r\n                  }else {\r\n                    return(\r\n                      <React.Fragment key={index}>\r\n                        <div className=\"content-messenger-user-chat\" ref={index === 0 ? lastMessage : null}>\r\n                          <div style={{textAlign: 'center', fontSize: '11px', fontWeight: '600', color: 'rgba(0,0,0,0.7)'}}>\r\n                            {index > 0 && new Date(mess.created_at).getTime() - new Date(list[index - 1].created_at).getTime() > 600000 && moment(mess.created_at).format(\"\\h:m, DD-MM-YYYY\")}\r\n                          </div>\r\n                          <div className=\"content-messenger-user-chat-content\">\r\n                            <div className=\"content-messenger-user-chat-content-avatar\">\r\n                              {index + 1 <= list.length -1 && mess.messages_From !== list[index + 1].messages_From &&\r\n                                <React.Fragment>\r\n                                  {mess.user_send.user_avatar_cropX === null ?\r\n                                    <img src={mess.user_send.user_avatar} alt={mess.user_send.user_last_name} />\r\n                                    :\r\n                                    <Image cloudName=\"mohi-vn\" publicId={mess.user_send.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                                      <Transformation height={mess.user_send.user_avatar_cropH}  width={mess.user_send.user_avatar_cropW} x={mess.user_send.user_avatar_cropX} y={mess.user_send.user_avatar_cropY} crop=\"crop\" />\r\n                                    </Image>\r\n                                  }\r\n                                </React.Fragment>\r\n                              }\r\n                              {index === list.length - 1 &&\r\n                                <React.Fragment>\r\n                                  {mess.user_send.user_avatar_cropX === null ?\r\n                                    <img src={mess.user_send.user_avatar} alt={mess.user_send.user_last_name} />\r\n                                    :\r\n                                    <Image cloudName=\"mohi-vn\" publicId={mess.user_send.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                                      <Transformation height={mess.user_send.user_avatar_cropH}  width={mess.user_send.user_avatar_cropW} x={mess.user_send.user_avatar_cropX} y={mess.user_send.user_avatar_cropY} crop=\"crop\" />\r\n                                    </Image>\r\n                                  }\r\n                                </React.Fragment>\r\n                              }\r\n                            </div>\r\n                            <p>{mess.messages_Message}</p>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"clear\"></div>\r\n                      </React.Fragment>\r\n                    )\r\n                  }\r\n                })}\r\n                {listNewMess.map((msg, index) => {\r\n                  return(\r\n                    <React.Fragment key={index}>\r\n                      <div className=\"content-messenger-my-chat\">\r\n                        <div className=\"content-messenger-my-chat-content\">\r\n                          <p>{msg.message}</p>\r\n                          <div className=\"content-messenger-my-chat-content-status\">\r\n                          <MdRadioButtonUnchecked />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"clear\"></div>\r\n                    </React.Fragment>\r\n                  )\r\n                })}\r\n                {typing && <div>{infoUser.user_first_name + ' ' + infoUser.user_last_name} đang nhập tin nhắn...</div>}\r\n              </div>\r\n              <div className=\"content-messenger-input\">\r\n                  <div className=\"preview-image-send\" style={newImageMess || newVideoMess ? {opacity: 1} : null}>\r\n                    <div className=\"preview-image-send-img\">\r\n                      <AiFillCloseCircle onClick={deleteImageMess}/>\r\n                      {newImageMess &&\r\n                        <img src={newImageMess} alt=\"Tin nhắn hình ảnh\" />\r\n                      }\r\n                      {newVideoMess &&\r\n                        <video>\r\n                          <source src={newVideoMess} />\r\n                          Your browser does not support HTML5 video.\r\n                        </video>\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                <div className=\"content-messenger-input-text\">\r\n                  <EditorEmoji onSubmitMess={onSubmitMess} isTypingMess={isTypingMess} readMess={readMess}/>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"content-messenger-body-right\">\r\n              <div className=\"content-messenger-body-right-title\">\r\n                <div className=\"content-messenger-body-right-head\">\r\n                  <div className=\"content-messenger-body-right-head-avatar\">\r\n                    {infoUser.user_avatar_cropX === null ?\r\n                      <img src={infoUser.user_avatar} alt={infoUser.user_last_name} />\r\n                      :\r\n                      <Image cloudName=\"mohi-vn\" publicId={infoUser.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                        <Transformation height={infoUser.user_avatar_cropH}  width={infoUser.user_avatar_cropW} x={infoUser.user_avatar_cropX} y={infoUser.user_avatar_cropY} crop=\"crop\" />\r\n                      </Image>\r\n                    }\r\n                  </div>\r\n                </div>\r\n                <div className=\"content-messenger-body-right-head-name\">\r\n                  {infoUser.user_first_name + ' ' + infoUser.user_last_name}\r\n                </div>\r\n              </div>\r\n              <div className=\"content-messenger-body-right-support\">\r\n                <div className=\"content-messenger-body-right-support-item\">\r\n                  <div className=\"content-messenger-body-right-list-iamge-share\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}