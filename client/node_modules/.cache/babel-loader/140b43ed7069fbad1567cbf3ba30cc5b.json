{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\NewFeed\\\\PostNewFeed.jsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport PostImage from './PostImage.jsx';\nimport CommentEditor from './CommentEditor.jsx';\nimport CommentParent from './CommentParent.jsx';\nimport { Link } from 'react-router-dom';\nimport { MdPublic, MdNotificationsOff } from \"react-icons/md\";\nimport { AiOutlineLike, AiOutlineIssuesClose } from \"react-icons/ai\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { FaRegCommentAlt, FaRegWindowClose, FaUserLock, FaUserAlt } from \"react-icons/fa\";\nimport { IoIosShareAlt } from \"react-icons/io\";\nimport { GoEyeClosed } from \"react-icons/go\";\nimport { List, Tooltip } from 'antd';\nimport moment from 'moment';\nimport { PUBLIC_URL } from './../../Constants/public.jsx';\nimport { AiOutlineCaretRight } from \"react-icons/ai\";\nexport const PostNewFeed = React.forwardRef((props, ref) => {\n  moment.updateLocale('en', {\n    relativeTime: {\n      future: \"%s\",\n      past: \"%s trước\",\n      s: 'vài giây',\n      ss: '%d phút',\n      m: \"1 phút trước\",\n      mm: \"%d phút\",\n      h: \"an giờ\",\n      hh: \"%d giờ\",\n      d: \"một ngày\",\n      dd: \"%d ngày\",\n      w: \"một tuần\",\n      ww: \"%d tuần\",\n      M: \"một tháng\",\n      MM: \"%d tháng\",\n      y: \"một năm\",\n      yy: \"%d năm\"\n    }\n  });\n  const inputCommentRef = useRef();\n  const [listParentComment, setListParentComment] = useState([]);\n  const [listChildComment, setListChildComment] = useState([]);\n  const [iconReaction, setIconReaction] = useState();\n  const [styleListSendReaction, setStyleListSendReaction] = useState();\n  const totalReactionPost = props.post.actions_post;\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\n  const [delayHandler, setDelayHandler] = useState(null);\n\n  function removeOrFilterNationality(objectOfNationality) {\n    return Array.from(new Set(objectOfNationality.map(tempObject => tempObject.pivot.actions_action)));\n  }\n\n  function focusInputComment() {\n    let inputRef = inputCommentRef.current;\n    inputRef.focusCommentInput();\n  }\n\n  useEffect(() => {\n    let _commentParent = [];\n    let _commentChild = [];\n    props.post.comment_post.map((comment, index) => {\n      if (comment.pivot.comment_Type === 'parent') {\n        _commentParent.push(comment);\n\n        setListParentComment(_commentParent);\n      }\n\n      if (comment.pivot.comment_Type === 'child') {\n        _commentChild.push(comment);\n\n        setListChildComment(_commentChild);\n      }\n    });\n  }, []);\n\n  const leaveListSendReaction = () => {\n    setDelayHandler(setTimeout(() => {\n      setStyleListSendReaction({\n        top: '-10px',\n        opacity: 0,\n        visibility: 'hidden'\n      });\n    }, 700));\n    clearTimeout(delayHandler);\n  };\n\n  const enterListSendReaction = () => {\n    setDelayHandler(setTimeout(() => {\n      setStyleListSendReaction({\n        top: '-56px',\n        opacity: 1,\n        visibility: 'visible'\n      });\n    }, 500));\n    clearTimeout(delayHandler);\n  };\n\n  const loadingSendRequest = type => {\n    console.log(type);\n  };\n\n  const settingPost = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"setting-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List.Item, {\n    onClick: loadingSendRequest('hidePost'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(GoEyeClosed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 69\n    }\n  }), \" \\u1EA8n b\\xE0i vi\\u1EBFt\"), /*#__PURE__*/React.createElement(List.Item, {\n    onClick: loadingSendRequest('unFollow'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineIssuesClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 69\n    }\n  }), \" B\\u1ECF theo d\\xF5i \", props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name), /*#__PURE__*/React.createElement(List.Item, {\n    onClick: loadingSendRequest('unNotification'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MdNotificationsOff, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 75\n    }\n  }), \"T\\u1EAFt th\\xF4ng b\\xE1o t\\u1EEB b\\xE0i vi\\u1EBFt\"), /*#__PURE__*/React.createElement(List.Item, {\n    onClick: loadingSendRequest('hideAllPost'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FaRegWindowClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 72\n    }\n  }), \" \\u1EA8n b\\xE0i vi\\u1EBFt t\\u1EEB \", props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name)));\n\n  const listReactionPost = () => {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"post-reaction-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, totalReactionPost.slice(0, 21).map((reaction, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/' + reaction.user_username,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 19\n        }\n      }, reaction.user_first_name + ' ' + reaction.user_last_name));\n    }), totalReactionPost.length - 21 > 0 && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, \"v\\xE0 \", totalReactionPost.length - 21, \" ng\\u01B0\\u1EDDi kh\\xE1c\"));\n  };\n\n  const listIconReactionPost = (reaction, index) => {\n    switch (reaction) {\n      case 'like':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/like.png',\n          alt: \"Th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'haha':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/haha.png',\n          alt: \"C\\u01B0\\u1EDDi\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'wow':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/wow.png',\n          alt: \"Ng\\u1EA1c nhi\\xEAn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'sad':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/sad.png',\n          alt: \"Bu\\u1ED3n\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'angry':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/angry.png',\n          alt: \"Gi\\u1EADn d\\u1EEF\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'love':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/heart.png',\n          alt: \"Y\\xEAu th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      default:\n        return /*#__PURE__*/React.createElement(AiOutlineLike, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }\n        });\n    }\n  };\n\n  const ListTagUserPost = () => {\n    const twoItemTags = props.post.tag_users_post.slice(0, 2);\n    const itemToLast = props.post.tag_users_post.slice(2);\n    const lastItem = props.post.tag_users_post.length + 1;\n\n    if (props.post.tag_users_post.length && props.post.tag_users_post.length <= 2) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, \"c\\xF9ng v\\u1EDBi\", twoItemTags.map((tag, index) => {\n        return /*#__PURE__*/React.createElement(Link, {\n          to: '/' + tag.user_username,\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 19\n          }\n        }, lastItem !== index ? 'và' : null, tag.user_first_name + ' ' + tag.user_last_name);\n      }));\n    }\n\n    if (props.post.tag_users_post.length > 2) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }\n      }, \"c\\xF9ng v\\u1EDBi\", twoItemTags.map((tag, index) => {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 19\n          }\n        }, \" \", /*#__PURE__*/React.createElement(Link, {\n          to: '/' + tag.user_username,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 38\n          }\n        }, tag.user_first_name + ' ' + tag.user_last_name), \" v\\xE0 \");\n      }), /*#__PURE__*/React.createElement(Tooltip, {\n        placement: \"bottom\",\n        className: \"tag-more-user\",\n        title: /*#__PURE__*/React.createElement(\"ul\", {\n          className: \"tag-more-user-list\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 19\n          }\n        }, itemToLast.map((tag, index) => {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: index,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: '/' + tag.user_username,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 41\n            }\n          }, tag.user_first_name + ' ' + tag.user_last_name));\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      }, itemToLast.length, \" ng\\u01B0\\u1EDDi kh\\xE1c\"));\n    }\n\n    return null;\n  };\n\n  const PrivacyPost = () => {\n    switch (props.post.post_Privacy) {\n      case \"public\":\n        return /*#__PURE__*/React.createElement(MdPublic, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case \"onlyme\":\n        return /*#__PURE__*/React.createElement(FaUserLock, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case \"friend\":\n        return /*#__PURE__*/React.createElement(FaUserAlt, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      default:\n        return null;\n    }\n  };\n\n  const iconReactionPost = (reaction, index) => {\n    switch (reaction.pivot.actions_action) {\n      case 'like':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/like.png',\n          alt: \"Th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      case 'haha':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/haha.png',\n          alt: \"C\\u01B0\\u1EDDi\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      case 'wow':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/wow.png',\n          alt: \"Ng\\u1EA1c nhi\\xEAn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      case 'sad':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/sad.png',\n          alt: \"Bu\\u1ED3n\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      case 'angry':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/angry.png',\n          alt: \"Gi\\u1EADn d\\u1EEF\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      case 'love':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          key: index,\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/heart.png',\n          alt: \"Y\\xEAu th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 22\n          }\n        });\n        break;\n\n      default:\n        return /*#__PURE__*/React.createElement(AiOutlineLike, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 27\n          }\n        });\n    }\n  };\n\n  const PagePost = () => {\n    if (props.post.post_PageId) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(AiOutlineCaretRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }), \" \", /*#__PURE__*/React.createElement(Link, {\n        to: '/pages/' + props.post.page_admin_post.page_FakeId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 40\n        }\n      }, props.post.page_admin_post.page_Name));\n    }\n\n    return null;\n  };\n\n  const GroupPost = () => {\n    if (props.post.post_GroupId) {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(AiOutlineCaretRight, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }\n      }), \" \", /*#__PURE__*/React.createElement(Link, {\n        to: '/groups/' + props.post.group_admin_post.group_FakeId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 40\n        }\n      }, props.post.group_admin_post.group_Name));\n    }\n\n    return null;\n  };\n\n  const sendReactionPost = (reaction, postId) => {\n    props.sendReactionPost(reaction, postId);\n\n    switch (reaction) {\n      case 'like':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/like.png',\n          alt: \"Th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }\n        }));\n        break;\n\n      case 'haha':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/haha.png',\n          alt: \"C\\u01B0\\u1EDDi\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 29\n          }\n        }));\n        break;\n\n      case 'wow':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/wow.png',\n          alt: \"Ng\\u1EA1c nhi\\xEAn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 29\n          }\n        }));\n        break;\n\n      case 'sad':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/sad.png',\n          alt: \"Bu\\u1ED3n\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 29\n          }\n        }));\n        break;\n\n      case 'angry':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/angry.png',\n          alt: \"Gi\\u1EADn d\\u1EEF\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 29\n          }\n        }));\n        break;\n\n      case 'love':\n        setIconReaction( /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/heart.png',\n          alt: \"Y\\xEAu th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }\n        }));\n        break;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/' + props.post.user_admin_post.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.post.user_admin_post.user_avatar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-boss\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/' + props.post.user_admin_post.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 37\n    }\n  }, props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name, \" \"), /*#__PURE__*/React.createElement(ListTagUserPost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(PagePost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(GroupPost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"post-time-created\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 33\n    }\n  }, moment(props.post.created_at, \"YYYYMMDD\\h:m:s\").fromNow(), \" \", /*#__PURE__*/React.createElement(PrivacyPost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 126\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-setting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    trigger: 'click',\n    placement: \"bottom\",\n    title: settingPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(BsThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 25\n    }\n  }, props.post.post_Content), /*#__PURE__*/React.createElement(PostImage, {\n    post: props.post,\n    images: props.post.images_post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-total-action\",\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 27\n    }\n  }, totalReactionPost.length ? /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    title: listReactionPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 33\n    }\n  }, removeOrFilterNationality(totalReactionPost).slice(0, 3).map((reaction, index) => listIconReactionPost(reaction, index)), ' ' + totalReactionPost.length, \" ng\\u01B0\\u1EDDi \\u0111\\xE3 b\\xE0y t\\u1ECF c\\u1EA3m x\\xFAc\")) : null, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 29\n    }\n  }, props.post.comment_post.length ? props.post.comment_post.length + ' bình luận' : null, \" \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item send-reaction\",\n    onMouseEnter: enterListSendReaction,\n    onMouseLeave: leaveListSendReaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 29\n    }\n  }, iconReaction ? iconReaction : totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).length ? totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).map((reaction, index) => iconReactionPost(reaction, index)) : /*#__PURE__*/React.createElement(AiOutlineLike, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-icon-send-reaction\",\n    style: styleListSendReaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('like', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/like.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('love', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/love.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('haha', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/haha.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('wow', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/wow.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('sad', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/sad.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => sendReactionPost('angry', props.post.id),\n    className: \"icon-like-48\",\n    src: PUBLIC_URL + 'icon/angry.gif',\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item\",\n    onClick: () => focusInputComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaRegCommentAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IoIosShareAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-current-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: currentUser.user_avatar,\n    alt: currentUser.user_first_name + ' ' + currentUser.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CommentEditor, {\n    ref: inputCommentRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 29\n    }\n  }))), listParentComment.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 31\n    }\n  }, listParentComment.map((comment, index) => {\n    return /*#__PURE__*/React.createElement(CommentParent, {\n      key: index,\n      listChildComment: listChildComment,\n      comment: comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 49\n      }\n    });\n  })) : null)));\n});","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/NewFeed/PostNewFeed.jsx"],"names":["React","useEffect","useState","useRef","PostImage","CommentEditor","CommentParent","Link","MdPublic","MdNotificationsOff","AiOutlineLike","AiOutlineIssuesClose","BsThreeDots","FaRegCommentAlt","FaRegWindowClose","FaUserLock","FaUserAlt","IoIosShareAlt","GoEyeClosed","List","Tooltip","moment","PUBLIC_URL","AiOutlineCaretRight","PostNewFeed","forwardRef","props","ref","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","inputCommentRef","listParentComment","setListParentComment","listChildComment","setListChildComment","iconReaction","setIconReaction","styleListSendReaction","setStyleListSendReaction","totalReactionPost","post","actions_post","currentUser","JSON","parse","localStorage","getItem","info","delayHandler","setDelayHandler","removeOrFilterNationality","objectOfNationality","Array","from","Set","map","tempObject","pivot","actions_action","focusInputComment","inputRef","current","focusCommentInput","_commentParent","_commentChild","comment_post","comment","index","comment_Type","push","leaveListSendReaction","setTimeout","top","opacity","visibility","clearTimeout","enterListSendReaction","loadingSendRequest","type","console","log","settingPost","user_admin_post","user_first_name","user_last_name","listReactionPost","slice","reaction","user_username","length","listIconReactionPost","ListTagUserPost","twoItemTags","tag_users_post","itemToLast","lastItem","tag","PrivacyPost","post_Privacy","iconReactionPost","PagePost","post_PageId","page_admin_post","page_FakeId","page_Name","GroupPost","post_GroupId","group_admin_post","group_FakeId","group_Name","sendReactionPost","postId","user_avatar","created_at","fromNow","post_Content","images_post","display","justifyContent","filter","actions_UserId","id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport PostImage from './PostImage.jsx';\r\nimport CommentEditor from './CommentEditor.jsx';\r\nimport CommentParent from './CommentParent.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdPublic, MdNotificationsOff } from \"react-icons/md\";\r\nimport { AiOutlineLike, AiOutlineIssuesClose } from \"react-icons/ai\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { FaRegCommentAlt, FaRegWindowClose, FaUserLock, FaUserAlt  } from \"react-icons/fa\";\r\nimport { IoIosShareAlt } from \"react-icons/io\";\r\nimport { GoEyeClosed } from \"react-icons/go\";\r\nimport { List, Tooltip } from 'antd';\r\nimport moment from 'moment';\r\nimport {PUBLIC_URL} from './../../Constants/public.jsx';\r\nimport { AiOutlineCaretRight } from \"react-icons/ai\";\r\n\r\nexport const PostNewFeed = React.forwardRef((props, ref) =>  {\r\n    moment.updateLocale('en', {\r\n      relativeTime : {\r\n          future: \"%s\",\r\n          past:   \"%s trước\",\r\n          s  : 'vài giây',\r\n          ss : '%d phút',\r\n          m:  \"1 phút trước\",\r\n          mm: \"%d phút\",\r\n          h:  \"an giờ\",\r\n          hh: \"%d giờ\",\r\n          d:  \"một ngày\",\r\n          dd: \"%d ngày\",\r\n          w:  \"một tuần\",\r\n          ww: \"%d tuần\",\r\n          M:  \"một tháng\",\r\n          MM: \"%d tháng\",\r\n          y:  \"một năm\",\r\n          yy: \"%d năm\"\r\n      }\r\n    });\r\n    const inputCommentRef = useRef();\r\n    const [listParentComment, setListParentComment] = useState([]);\r\n    const [listChildComment, setListChildComment] = useState([]);\r\n    const [iconReaction, setIconReaction] = useState();\r\n    const [styleListSendReaction, setStyleListSendReaction] = useState();\r\n    const totalReactionPost = props.post.actions_post;\r\n    const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n    const [delayHandler, setDelayHandler] = useState(null)\r\n\r\n    function removeOrFilterNationality(objectOfNationality) {\r\n       return Array.from(new Set(objectOfNationality.map(tempObject => tempObject.pivot.actions_action)));\r\n    }\r\n\r\n    function focusInputComment() {\r\n        let inputRef = inputCommentRef.current;\r\n        inputRef.focusCommentInput();\r\n    }\r\n\r\n    useEffect(() => {\r\n        let _commentParent = []\r\n        let _commentChild = []\r\n\r\n        props.post.comment_post.map((comment, index) => {\r\n            if (comment.pivot.comment_Type === 'parent') {\r\n                _commentParent.push(comment)\r\n                setListParentComment(_commentParent)\r\n            }\r\n            if (comment.pivot.comment_Type === 'child') {\r\n                _commentChild.push(comment)\r\n                setListChildComment(_commentChild)\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    const leaveListSendReaction = () => {\r\n      setDelayHandler(setTimeout(() => {\r\n         setStyleListSendReaction({\r\n          top: '-10px',\r\n          opacity:0,\r\n          visibility: 'hidden'\r\n        })\r\n      }, 700))\r\n      clearTimeout(delayHandler)\r\n    }\r\n\r\n    const enterListSendReaction = () => {\r\n      setDelayHandler(setTimeout(() => {\r\n            setStyleListSendReaction({\r\n              top: '-56px',\r\n              opacity:1,\r\n              visibility: 'visible'\r\n            })\r\n      }, 500))\r\n      clearTimeout(delayHandler)\r\n    }\r\n\r\n    const loadingSendRequest = (type) => {\r\n      console.log(type);\r\n    }\r\n\r\n    const settingPost = (\r\n        <React.Fragment>\r\n            <List className=\"setting-post\">\r\n                <List.Item onClick={loadingSendRequest('hidePost')}><GoEyeClosed /> Ẩn bài viết</List.Item>\r\n                <List.Item onClick={loadingSendRequest('unFollow')}><AiOutlineIssuesClose /> Bỏ theo dõi {props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name}</List.Item>\r\n                <List.Item onClick={loadingSendRequest('unNotification')}><MdNotificationsOff />Tắt thông báo từ bài viết</List.Item>\r\n                <List.Item onClick={loadingSendRequest('hideAllPost')}><FaRegWindowClose /> Ẩn bài viết từ {props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name}</List.Item>\r\n            </List>\r\n        </React.Fragment>\r\n    );\r\n\r\n    const listReactionPost = () => {\r\n      return(\r\n        <ul className=\"post-reaction-list\">\r\n          {totalReactionPost.slice(0, 21).map((reaction, index) => {\r\n            return(\r\n                <li key={index}>\r\n                  <Link to={'/' + reaction.user_username}>{reaction.user_first_name + ' ' + reaction.user_last_name}</Link>\r\n                </li>\r\n            )\r\n          })}\r\n          { totalReactionPost.length - 21 > 0 &&\r\n          <li>\r\n            và {totalReactionPost.length - 21} người khác\r\n          </li>\r\n          }\r\n        </ul>\r\n      )\r\n    }\r\n\r\n    const listIconReactionPost = (reaction, index) => {\r\n      switch (reaction) {\r\n        case 'like':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/like.png'} alt=\"Thích\"/>\r\n          break;\r\n        case 'haha':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/haha.png'} alt=\"Cười\"/>\r\n          break;\r\n        case 'wow':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/wow.png'} alt=\"Ngạc nhiên\"/>\r\n          break;\r\n        case 'sad':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/sad.png'} alt=\"Buồn\"/>\r\n          break;\r\n        case 'angry':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/angry.png'} alt=\"Giận dữ\"/>\r\n          break;\r\n        case 'love':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/heart.png'} alt=\"Yêu thích\"/>\r\n          break;\r\n        default: return <AiOutlineLike/>\r\n      }\r\n    }\r\n\r\n    const ListTagUserPost = () => {\r\n        const twoItemTags = props.post.tag_users_post.slice(0, 2);\r\n        const itemToLast =  props.post.tag_users_post.slice(2);\r\n        const lastItem = props.post.tag_users_post.length + 1;\r\n\r\n        if(props.post.tag_users_post.length && props.post.tag_users_post.length <= 2){\r\n          return(\r\n            <React.Fragment>\r\n              cùng với\r\n              {twoItemTags.map((tag, index) => {\r\n                return(\r\n                  <Link to={'/' + tag.user_username} key={index}>\r\n                    {lastItem !== index ? 'và' : null}\r\n                    {tag.user_first_name + ' ' + tag.user_last_name}\r\n                  </Link>\r\n                )\r\n              })}\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        if(props.post.tag_users_post.length > 2){\r\n          return(\r\n            <React.Fragment>\r\n              cùng với\r\n              {twoItemTags.map((tag, index) => {\r\n                return(\r\n                  <span key={index}> <Link to={'/' + tag.user_username} >{tag.user_first_name + ' ' + tag.user_last_name}</Link> và </span>\r\n                )\r\n              })}\r\n              <Tooltip\r\n                placement=\"bottom\"\r\n                className=\"tag-more-user\"\r\n                title={\r\n                  <ul className=\"tag-more-user-list\">\r\n                    {itemToLast.map((tag, index) => {\r\n                      return(\r\n                        <li key={index}><Link to={'/' + tag.user_username} >{tag.user_first_name + ' ' + tag.user_last_name}</Link></li>\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                }\r\n              >\r\n                {itemToLast.length} người khác\r\n              </Tooltip>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        return null\r\n\r\n    }\r\n\r\n    const PrivacyPost = () => {\r\n      switch ( props.post.post_Privacy) {\r\n        case \"public\":\r\n            return <MdPublic />\r\n          break;\r\n        case \"onlyme\":\r\n            return <FaUserLock />\r\n          break;\r\n        case \"friend\":\r\n            return <FaUserAlt />\r\n          break;\r\n        default: return null\r\n\r\n      }\r\n    }\r\n\r\n    const iconReactionPost = (reaction, index) => {\r\n        switch (reaction.pivot.actions_action) {\r\n          case 'like':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/like.png'} alt=\"Thích\"/>\r\n            break;\r\n          case 'haha':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/haha.png'} alt=\"Cười\"/>\r\n            break;\r\n          case 'wow':\r\n              return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/wow.png'} alt=\"Ngạc nhiên\"/>\r\n            break;\r\n          case 'sad':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/sad.png'} alt=\"Buồn\"/>\r\n            break;\r\n          case 'angry':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/angry.png'} alt=\"Giận dữ\"/>\r\n            break;\r\n          case 'love':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/heart.png'} alt=\"Yêu thích\"/>\r\n            break;\r\n          default: return <AiOutlineLike />\r\n        }\r\n    }\r\n\r\n    const PagePost = () => {\r\n      if(props.post.post_PageId){\r\n        return(\r\n          <span><AiOutlineCaretRight/> <Link to={'/pages/' + props.post.page_admin_post.page_FakeId}>{props.post.page_admin_post.page_Name}</Link></span>\r\n        )\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    const GroupPost = () => {\r\n      if(props.post.post_GroupId){\r\n        return(\r\n          <span><AiOutlineCaretRight/> <Link to={'/groups/' + props.post.group_admin_post.group_FakeId}>{props.post.group_admin_post.group_Name}</Link></span>\r\n        )\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    const sendReactionPost = (reaction, postId) => {\r\n      props.sendReactionPost(reaction, postId)\r\n      switch (reaction) {\r\n        case 'like':\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/like.png'} alt='Thích'/>)\r\n          break;\r\n        case 'haha':\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/haha.png'} alt='Cười'/>)\r\n          break;\r\n        case 'wow':\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/wow.png'} alt='Ngạc nhiên'/>)\r\n          break;\r\n        case 'sad':\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/sad.png'} alt='Buồn'/>)\r\n          break;\r\n        case 'angry':\r\n            setIconReaction(<img  className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/angry.png'} alt='Giận dữ'/>)\r\n          break;\r\n        case 'love':\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/heart.png'} alt='Yêu thích'/>)\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"post\" ref={ref}>\r\n                <div className=\"post-container\">\r\n                    <div className=\"post-header\">\r\n                        <div className=\"post-info\">\r\n                            <div className=\"post-avatar\">\r\n                                <Link to={'/' + props.post.user_admin_post.user_username}>\r\n                                    <img src={props.post.user_admin_post.user_avatar} alt=\"\" />\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"post-boss\">\r\n                                <p>\r\n                                    <Link to={'/' + props.post.user_admin_post.user_username}>{props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name} </Link>\r\n                                    <ListTagUserPost />\r\n                                    <PagePost />\r\n                                    <GroupPost />\r\n                                </p>\r\n                                <p className=\"post-time-created\">{moment(props.post.created_at, \"YYYYMMDD\\h:m:s\").fromNow()} <PrivacyPost /></p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"post-setting\">\r\n                          <Tooltip trigger={'click'} placement=\"bottom\" title={settingPost}>\r\n                            <BsThreeDots />\r\n                          </Tooltip>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-body\">\r\n                        <div className=\"post-content\">\r\n                            {props.post.post_Content}\r\n                        </div>\r\n                        <PostImage post={props.post} images={props.post.images_post} />\r\n                    </div>\r\n                    <div className=\"post-footer\">\r\n                          <div className=\"post-total-action\" style={{display:'flex', justifyContent: 'space-between'}}>\r\n                            { totalReactionPost.length ?\r\n                              <Tooltip placement=\"top\" title={listReactionPost}>\r\n                                <span>\r\n                                  {removeOrFilterNationality(totalReactionPost).slice(0, 3).map((reaction, index) => listIconReactionPost(reaction, index))}\r\n                                  {' '+ totalReactionPost.length} người đã bày tỏ cảm xúc</span>\r\n                              </Tooltip>\r\n                            : null}\r\n                            <span>{props.post.comment_post.length ? props.post.comment_post.length+ ' bình luận' : null} </span>\r\n                          </div>\r\n                        <div className=\"post-action\" >\r\n                            <div className=\"post-action-item send-reaction\" onMouseEnter={enterListSendReaction} onMouseLeave={leaveListSendReaction}>\r\n                              { iconReaction\r\n                                ?\r\n                                iconReaction\r\n                                :\r\n                                (totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).length\r\n                                ?\r\n                                totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).map((reaction, index) => iconReactionPost(reaction, index))\r\n                                :\r\n                                <AiOutlineLike />)\r\n                              }\r\n                              <div className=\"list-icon-send-reaction\" style={styleListSendReaction}>\r\n                                <img onClick={() => sendReactionPost('like', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/like.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('love', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/love.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('haha', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/haha.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('wow', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/wow.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('sad', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/sad.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('angry', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/angry.gif'} alt=\"\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"post-action-item\" onClick={() => focusInputComment()}>\r\n                                <FaRegCommentAlt />\r\n                            </div>\r\n                            <div className=\"post-action-item\">\r\n                                <IoIosShareAlt />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-comment\">\r\n                        <div className=\"post-comment-current-user\">\r\n                            <img src={currentUser.user_avatar} alt={currentUser.user_first_name + ' ' + currentUser.user_last_name} />\r\n                        </div>\r\n                        <div className=\"post-comment-input\">\r\n                            <CommentEditor ref={inputCommentRef} />\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        listParentComment.length > 0\r\n                            ? <div className=\"post-comment-container\">\r\n                                {\r\n                                    listParentComment.map((comment, index) => {\r\n                                        return (<CommentParent key={index} listChildComment={listChildComment} comment={comment} />)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n})\r\n"]},"metadata":{},"sourceType":"module"}