{"ast":null,"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * \r\n * @emails oncall+draft_js\r\n */\n'use strict';\n\nvar UnicodeBidiService = require(\"fbjs/lib/UnicodeBidiService\");\n\nvar Immutable = require(\"immutable\");\n\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\n\nvar OrderedMap = Immutable.OrderedMap;\nvar bidiService;\nvar EditorBidiService = {\n  getDirectionMap: function getDirectionMap(content, prevBidiMap) {\n    if (!bidiService) {\n      bidiService = new UnicodeBidiService();\n    } else {\n      bidiService.reset();\n    }\n\n    var blockMap = content.getBlockMap();\n    var nextBidi = blockMap.valueSeq().map(function (block) {\n      return nullthrows(bidiService).getDirection(block.getText());\n    });\n    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));\n\n    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {\n      return prevBidiMap;\n    }\n\n    return bidiMap;\n  }\n};\nmodule.exports = EditorBidiService;","map":{"version":3,"sources":["D:/Web/mohi/client/node_modules/draft-js/lib/EditorBidiService.js"],"names":["UnicodeBidiService","require","Immutable","nullthrows","OrderedMap","bidiService","EditorBidiService","getDirectionMap","content","prevBidiMap","reset","blockMap","getBlockMap","nextBidi","valueSeq","map","block","getDirection","getText","bidiMap","keySeq","zip","is","module","exports"],"mappings":"AAAA;;;;;;;;;;AAUA;;AAEA,IAAIA,kBAAkB,GAAGC,OAAO,CAAC,6BAAD,CAAhC;;AAEA,IAAIC,SAAS,GAAGD,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAIE,UAAU,GAAGF,OAAO,CAAC,qBAAD,CAAxB;;AAEA,IAAIG,UAAU,GAAGF,SAAS,CAACE,UAA3B;AACA,IAAIC,WAAJ;AACA,IAAIC,iBAAiB,GAAG;AACtBC,EAAAA,eAAe,EAAE,SAASA,eAAT,CAAyBC,OAAzB,EAAkCC,WAAlC,EAA+C;AAC9D,QAAI,CAACJ,WAAL,EAAkB;AAChBA,MAAAA,WAAW,GAAG,IAAIL,kBAAJ,EAAd;AACD,KAFD,MAEO;AACLK,MAAAA,WAAW,CAACK,KAAZ;AACD;;AAED,QAAIC,QAAQ,GAAGH,OAAO,CAACI,WAAR,EAAf;AACA,QAAIC,QAAQ,GAAGF,QAAQ,CAACG,QAAT,GAAoBC,GAApB,CAAwB,UAAUC,KAAV,EAAiB;AACtD,aAAOb,UAAU,CAACE,WAAD,CAAV,CAAwBY,YAAxB,CAAqCD,KAAK,CAACE,OAAN,EAArC,CAAP;AACD,KAFc,CAAf;AAGA,QAAIC,OAAO,GAAGf,UAAU,CAACO,QAAQ,CAACS,MAAT,GAAkBC,GAAlB,CAAsBR,QAAtB,CAAD,CAAxB;;AAEA,QAAIJ,WAAW,IAAI,IAAf,IAAuBP,SAAS,CAACoB,EAAV,CAAab,WAAb,EAA0BU,OAA1B,CAA3B,EAA+D;AAC7D,aAAOV,WAAP;AACD;;AAED,WAAOU,OAAP;AACD;AAnBqB,CAAxB;AAqBAI,MAAM,CAACC,OAAP,GAAiBlB,iBAAjB","sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * \r\n * @emails oncall+draft_js\r\n */\r\n'use strict';\r\n\r\nvar UnicodeBidiService = require(\"fbjs/lib/UnicodeBidiService\");\r\n\r\nvar Immutable = require(\"immutable\");\r\n\r\nvar nullthrows = require(\"fbjs/lib/nullthrows\");\r\n\r\nvar OrderedMap = Immutable.OrderedMap;\r\nvar bidiService;\r\nvar EditorBidiService = {\r\n  getDirectionMap: function getDirectionMap(content, prevBidiMap) {\r\n    if (!bidiService) {\r\n      bidiService = new UnicodeBidiService();\r\n    } else {\r\n      bidiService.reset();\r\n    }\r\n\r\n    var blockMap = content.getBlockMap();\r\n    var nextBidi = blockMap.valueSeq().map(function (block) {\r\n      return nullthrows(bidiService).getDirection(block.getText());\r\n    });\r\n    var bidiMap = OrderedMap(blockMap.keySeq().zip(nextBidi));\r\n\r\n    if (prevBidiMap != null && Immutable.is(prevBidiMap, bidiMap)) {\r\n      return prevBidiMap;\r\n    }\r\n\r\n    return bidiMap;\r\n  }\r\n};\r\nmodule.exports = EditorBidiService;"]},"metadata":{},"sourceType":"script"}