{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport EnterOutlined from '@ant-design/icons/EnterOutlined';\nimport TextArea from '../input/TextArea';\n\nvar Editable = /*#__PURE__*/function (_React$Component) {\n  _inherits(Editable, _React$Component);\n\n  var _super = _createSuper(Editable);\n\n  function Editable() {\n    var _this;\n\n    _classCallCheck(this, Editable);\n\n    _this = _super.apply(this, arguments);\n    _this.inComposition = false;\n    _this.state = {\n      current: ''\n    };\n\n    _this.onChange = function (_ref) {\n      var value = _ref.target.value;\n\n      _this.setState({\n        current: value.replace(/[\\n\\r]/g, '')\n      });\n    };\n\n    _this.onCompositionStart = function () {\n      _this.inComposition = true;\n    };\n\n    _this.onCompositionEnd = function () {\n      _this.inComposition = false;\n    };\n\n    _this.onKeyDown = function (_ref2) {\n      var keyCode = _ref2.keyCode; // We don't record keyCode when IME is using\n\n      if (_this.inComposition) return;\n      _this.lastKeyCode = keyCode;\n    };\n\n    _this.onKeyUp = function (_ref3) {\n      var keyCode = _ref3.keyCode,\n          ctrlKey = _ref3.ctrlKey,\n          altKey = _ref3.altKey,\n          metaKey = _ref3.metaKey,\n          shiftKey = _ref3.shiftKey;\n      var onCancel = _this.props.onCancel; // Check if it's a real key\n\n      if (_this.lastKeyCode === keyCode && !_this.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\n        if (keyCode === KeyCode.ENTER) {\n          _this.confirmChange();\n        } else if (keyCode === KeyCode.ESC) {\n          onCancel();\n        }\n      }\n    };\n\n    _this.onBlur = function () {\n      _this.confirmChange();\n    };\n\n    _this.confirmChange = function () {\n      var current = _this.state.current;\n      var onSave = _this.props.onSave;\n      onSave(current.trim());\n    };\n\n    _this.setTextarea = function (textarea) {\n      _this.textarea = textarea;\n    };\n\n    return _this;\n  }\n\n  _createClass(Editable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.textarea && this.textarea.resizableTextArea) {\n        var textArea = this.textarea.resizableTextArea.textArea;\n        textArea.focus();\n        var length = textArea.value.length;\n        textArea.setSelectionRange(length, length);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var current = this.state.current;\n      var _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          ariaLabel = _this$props['aria-label'],\n          className = _this$props.className,\n          style = _this$props.style,\n          direction = _this$props.direction;\n      var textAreaClassName = classNames(prefixCls, className, \"\".concat(prefixCls, \"-edit-content\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: textAreaClassName,\n        style: style\n      }, /*#__PURE__*/React.createElement(TextArea, {\n        ref: this.setTextarea,\n        value: current,\n        onChange: this.onChange,\n        onKeyDown: this.onKeyDown,\n        onKeyUp: this.onKeyUp,\n        onCompositionStart: this.onCompositionStart,\n        onCompositionEnd: this.onCompositionEnd,\n        onBlur: this.onBlur,\n        \"aria-label\": ariaLabel,\n        autoSize: true\n      }), /*#__PURE__*/React.createElement(EnterOutlined, {\n        className: \"\".concat(prefixCls, \"-edit-content-confirm\")\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevValue = prevState.prevValue;\n      var value = nextProps.value;\n      var newState = {\n        prevValue: value\n      };\n\n      if (prevValue !== value) {\n        newState.current = value;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Editable;\n}(React.Component);\n\nexport default Editable;","map":{"version":3,"sources":["D:/Web/DoAn/client/node_modules/antd/es/typography/Editable.js"],"names":["_defineProperty","_classCallCheck","_createClass","_inherits","_createSuper","React","classNames","KeyCode","EnterOutlined","TextArea","Editable","_React$Component","_super","_this","apply","arguments","inComposition","state","current","onChange","_ref","value","target","setState","replace","onCompositionStart","onCompositionEnd","onKeyDown","_ref2","keyCode","lastKeyCode","onKeyUp","_ref3","ctrlKey","altKey","metaKey","shiftKey","onCancel","props","ENTER","confirmChange","ESC","onBlur","onSave","trim","setTextarea","textarea","key","componentDidMount","resizableTextArea","textArea","focus","length","setSelectionRange","render","_this$props","prefixCls","ariaLabel","className","style","direction","textAreaClassName","concat","createElement","ref","autoSize","getDerivedStateFromProps","nextProps","prevState","prevValue","newState","Component"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\r\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\r\nimport _createClass from \"@babel/runtime/helpers/createClass\";\r\nimport _inherits from \"@babel/runtime/helpers/inherits\";\r\nimport _createSuper from \"@babel/runtime/helpers/createSuper\";\r\nimport * as React from 'react';\r\nimport classNames from 'classnames';\r\nimport KeyCode from \"rc-util/es/KeyCode\";\r\nimport EnterOutlined from '@ant-design/icons/EnterOutlined';\r\nimport TextArea from '../input/TextArea';\r\n\r\nvar Editable = /*#__PURE__*/function (_React$Component) {\r\n  _inherits(Editable, _React$Component);\r\n\r\n  var _super = _createSuper(Editable);\r\n\r\n  function Editable() {\r\n    var _this;\r\n\r\n    _classCallCheck(this, Editable);\r\n\r\n    _this = _super.apply(this, arguments);\r\n    _this.inComposition = false;\r\n    _this.state = {\r\n      current: ''\r\n    };\r\n\r\n    _this.onChange = function (_ref) {\r\n      var value = _ref.target.value;\r\n\r\n      _this.setState({\r\n        current: value.replace(/[\\n\\r]/g, '')\r\n      });\r\n    };\r\n\r\n    _this.onCompositionStart = function () {\r\n      _this.inComposition = true;\r\n    };\r\n\r\n    _this.onCompositionEnd = function () {\r\n      _this.inComposition = false;\r\n    };\r\n\r\n    _this.onKeyDown = function (_ref2) {\r\n      var keyCode = _ref2.keyCode;\r\n      // We don't record keyCode when IME is using\r\n      if (_this.inComposition) return;\r\n      _this.lastKeyCode = keyCode;\r\n    };\r\n\r\n    _this.onKeyUp = function (_ref3) {\r\n      var keyCode = _ref3.keyCode,\r\n          ctrlKey = _ref3.ctrlKey,\r\n          altKey = _ref3.altKey,\r\n          metaKey = _ref3.metaKey,\r\n          shiftKey = _ref3.shiftKey;\r\n      var onCancel = _this.props.onCancel; // Check if it's a real key\r\n\r\n      if (_this.lastKeyCode === keyCode && !_this.inComposition && !ctrlKey && !altKey && !metaKey && !shiftKey) {\r\n        if (keyCode === KeyCode.ENTER) {\r\n          _this.confirmChange();\r\n        } else if (keyCode === KeyCode.ESC) {\r\n          onCancel();\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.onBlur = function () {\r\n      _this.confirmChange();\r\n    };\r\n\r\n    _this.confirmChange = function () {\r\n      var current = _this.state.current;\r\n      var onSave = _this.props.onSave;\r\n      onSave(current.trim());\r\n    };\r\n\r\n    _this.setTextarea = function (textarea) {\r\n      _this.textarea = textarea;\r\n    };\r\n\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Editable, [{\r\n    key: \"componentDidMount\",\r\n    value: function componentDidMount() {\r\n      if (this.textarea && this.textarea.resizableTextArea) {\r\n        var textArea = this.textarea.resizableTextArea.textArea;\r\n        textArea.focus();\r\n        var length = textArea.value.length;\r\n        textArea.setSelectionRange(length, length);\r\n      }\r\n    }\r\n  }, {\r\n    key: \"render\",\r\n    value: function render() {\r\n      var current = this.state.current;\r\n      var _this$props = this.props,\r\n          prefixCls = _this$props.prefixCls,\r\n          ariaLabel = _this$props['aria-label'],\r\n          className = _this$props.className,\r\n          style = _this$props.style,\r\n          direction = _this$props.direction;\r\n      var textAreaClassName = classNames(prefixCls, className, \"\".concat(prefixCls, \"-edit-content\"), _defineProperty({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'));\r\n      return /*#__PURE__*/React.createElement(\"div\", {\r\n        className: textAreaClassName,\r\n        style: style\r\n      }, /*#__PURE__*/React.createElement(TextArea, {\r\n        ref: this.setTextarea,\r\n        value: current,\r\n        onChange: this.onChange,\r\n        onKeyDown: this.onKeyDown,\r\n        onKeyUp: this.onKeyUp,\r\n        onCompositionStart: this.onCompositionStart,\r\n        onCompositionEnd: this.onCompositionEnd,\r\n        onBlur: this.onBlur,\r\n        \"aria-label\": ariaLabel,\r\n        autoSize: true\r\n      }), /*#__PURE__*/React.createElement(EnterOutlined, {\r\n        className: \"\".concat(prefixCls, \"-edit-content-confirm\")\r\n      }));\r\n    }\r\n  }], [{\r\n    key: \"getDerivedStateFromProps\",\r\n    value: function getDerivedStateFromProps(nextProps, prevState) {\r\n      var prevValue = prevState.prevValue;\r\n      var value = nextProps.value;\r\n      var newState = {\r\n        prevValue: value\r\n      };\r\n\r\n      if (prevValue !== value) {\r\n        newState.current = value;\r\n      }\r\n\r\n      return newState;\r\n    }\r\n  }]);\r\n\r\n  return Editable;\r\n}(React.Component);\r\n\r\nexport default Editable;"]},"metadata":{},"sourceType":"module"}