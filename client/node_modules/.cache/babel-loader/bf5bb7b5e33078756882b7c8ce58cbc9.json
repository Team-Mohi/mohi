{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Containers\\\\MessengerContainer.jsx\";\nimport React, { useEffect } from 'react';\nimport Messenger from './../Components/Messenger/index.jsx';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { requestOneMessage } from './../Actions/index.jsx';\nimport { responseOneMessage } from './../Actions/index.jsx';\nimport { requestMoreOneMessage } from './../Actions/index.jsx';\nimport { responseMoreOneMessage } from './../Actions/index.jsx';\n\nfunction MessengerContainer({\n  message\n}) {\n  const {\n    currentPage\n  } = useSelector(state => state.message);\n  const {\n    idUser\n  } = useParams();\n  console.log(currentPage);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (currentPage > 1) {\n      dispatch(requestMoreOneMessage());\n      getMoreOneMessage();\n    }\n  }, [currentPage]);\n\n  const getMoreOneMessage = async () => {\n    await axios({\n      method: 'GET',\n      url: \"/api/auth/detail-message/\" + idUser,\n      params: {\n        page: currentPage\n      }\n    }).then(res => {\n      console.log(res);\n      dispatch(responseMoreOneMessage(res.data));\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n    });\n  };\n\n  const getMessageOneUser = idUser => {\n    dispatch(requestOneMessage());\n    axios.get('/api/auth/detail-message/' + idUser).then(res => {\n      dispatch(responseOneMessage(res.data));\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Messenger, {\n    getMessageOneUser: getMessageOneUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default MessengerContainer;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Containers/MessengerContainer.jsx"],"names":["React","useEffect","Messenger","axios","useParams","useSelector","useDispatch","requestOneMessage","responseOneMessage","requestMoreOneMessage","responseMoreOneMessage","MessengerContainer","message","currentPage","state","idUser","console","log","dispatch","getMoreOneMessage","method","url","params","page","then","res","data","catch","e","isCancel","getMessageOneUser","get"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,iBAAT,QAAkC,wBAAlC;AACA,SAASC,kBAAT,QAAmC,wBAAnC;AACA,SAASC,qBAAT,QAAsC,wBAAtC;AACA,SAASC,sBAAT,QAAuC,wBAAvC;;AAEA,SAASC,kBAAT,CAA4B;AAACC,EAAAA;AAAD,CAA5B,EAAsC;AACpC,QAAM;AAAEC,IAAAA;AAAF,MAAkBR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACF,OAAhB,CAAnC;AACA,QAAM;AAACG,IAAAA;AAAD,MAAWX,SAAS,EAA1B;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAYJ,WAAZ;AAEA,QAAMK,QAAQ,GAAGZ,WAAW,EAA5B;AAEAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGY,WAAW,GAAG,CAAjB,EAAmB;AACjBK,MAAAA,QAAQ,CAACT,qBAAqB,EAAtB,CAAR;AACAU,MAAAA,iBAAiB;AAClB;AACF,GALQ,EAKN,CAACN,WAAD,CALM,CAAT;;AAOA,QAAMM,iBAAiB,GAAG,YAAY;AACpC,UAAMhB,KAAK,CAAC;AACRiB,MAAAA,MAAM,EAAE,KADA;AAERC,MAAAA,GAAG,EAAE,8BAA6BN,MAF1B;AAGRO,MAAAA,MAAM,EAAE;AAACC,QAAAA,IAAI,EAAGV;AAAR;AAHA,KAAD,CAAL,CAKHW,IALG,CAKEC,GAAG,IAAG;AACVT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,GAAZ;AACAP,MAAAA,QAAQ,CAACR,sBAAsB,CAACe,GAAG,CAACC,IAAL,CAAvB,CAAR;AACD,KARG,EASHC,KATG,CASGC,CAAC,IAAI;AACV,UAAGzB,KAAK,CAAC0B,QAAN,CAAeD,CAAf,CAAH,EAAsB;AACvB,KAXG,CAAN;AAYD,GAbD;;AAeA,QAAME,iBAAiB,GAAIf,MAAD,IAAY;AAClCG,IAAAA,QAAQ,CAACX,iBAAiB,EAAlB,CAAR;AAEAJ,IAAAA,KAAK,CAAC4B,GAAN,CAAU,8BAA6BhB,MAAvC,EACCS,IADD,CACOC,GAAD,IAAS;AACbP,MAAAA,QAAQ,CAACV,kBAAkB,CAACiB,GAAG,CAACC,IAAL,CAAnB,CAAR;AACD,KAHD,EAICC,KAJD,CAIQC,CAAD,IAAO;AACZZ,MAAAA,OAAO,CAACC,GAAR,CAAYW,CAAZ;AACD,KAND;AAOH,GAVD;;AAYA,sBACE,oBAAC,SAAD;AAAW,IAAA,iBAAiB,EAAEE,iBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAGD;;AAED,eAAenB,kBAAf","sourcesContent":["import React,{ useEffect} from 'react';\r\nimport Messenger from './../Components/Messenger/index.jsx';\r\nimport axios from 'axios';\r\nimport {useParams} from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { requestOneMessage } from './../Actions/index.jsx';\r\nimport { responseOneMessage } from './../Actions/index.jsx';\r\nimport { requestMoreOneMessage } from './../Actions/index.jsx';\r\nimport { responseMoreOneMessage } from './../Actions/index.jsx';\r\n\r\nfunction MessengerContainer({message}){\r\n  const { currentPage } = useSelector(state => state.message);\r\n  const {idUser} = useParams();\r\n  console.log(currentPage);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if(currentPage > 1){\r\n      dispatch(requestMoreOneMessage())\r\n      getMoreOneMessage();\r\n    }\r\n  }, [currentPage])\r\n\r\n  const getMoreOneMessage = async () => {\r\n    await axios({\r\n        method: 'GET',\r\n        url: \"/api/auth/detail-message/\"+ idUser,\r\n        params: {page : currentPage}\r\n      })\r\n      .then(res =>{\r\n        console.log(res);\r\n        dispatch(responseMoreOneMessage(res.data))\r\n      })\r\n      .catch(e => {\r\n        if(axios.isCancel(e)) return\r\n      })\r\n  }\r\n\r\n  const getMessageOneUser = (idUser) => {\r\n      dispatch(requestOneMessage())\r\n\r\n      axios.get('/api/auth/detail-message/'+ idUser)\r\n      .then((res) => {\r\n        dispatch(responseOneMessage(res.data))\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n  }\r\n\r\n  return(\r\n    <Messenger getMessageOneUser={getMessageOneUser}/>\r\n  )\r\n}\r\n\r\nexport default MessengerContainer;\r\n"]},"metadata":{},"sourceType":"module"}