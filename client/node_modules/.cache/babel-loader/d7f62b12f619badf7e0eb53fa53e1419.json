{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\Profiles\\\\MyProfile\\\\HeaderProfile.jsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { AiFillCamera } from \"react-icons/ai\";\nimport { FaUserPlus, FaUserCheck, FaCheck, FaUserClock } from \"react-icons/fa\";\nimport { BsThreeDots, BsPencil } from \"react-icons/bs\";\nimport { PUBLIC_URL } from \"./../../../Constants/public.jsx\";\nimport { useSelector } from 'react-redux';\n\nfunction HeaderProfile({\n  profile,\n  friends,\n  friendsRequest\n}) {\n  const refHeader = useRef();\n  const {\n    friendOfProfile,\n    list,\n    loadingfriendOfProfile\n  } = useSelector(state => state.friends);\n  const listUserRequest = useSelector(state => state.friendsRequest.list);\n  const listMyRequest = useSelector(state => state.friendsRequest.listMyRequest);\n  const [toggleSpan, setToggleSpan] = useState();\n  const [toggleTopLeft, setToggleTopLeft] = useState();\n  const [styleHeader, setStyleHeader] = useState(false);\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\n  const {\n    loading,\n    info\n  } = useSelector(state => state.profile);\n  const {\n    idProfile\n  } = useParams();\n  const mutialFriend = [];\n  friendOfProfile.map(fr => {\n    list.map(f => {\n      if (fr.id === f.id) mutialFriend.push(fr);\n    });\n  });\n\n  const uploadCover = e => {\n    console.log(e.target.files);\n  };\n\n  const uploadAvatar = e => {\n    console.log(e.target.files);\n  };\n\n  useEffect(() => {\n    document.addEventListener('scroll', fixedOptionHead, false);\n    return () => document.removeEventListener('scroll', removeFixedOptionHead, false);\n  });\n\n  const fixedOptionHead = () => {\n    let curentRef = refHeader.current;\n\n    if (curentRef) {\n      if (window.scrollY - 464 > 0) {\n        setStyleHeader(true);\n      } else {\n        setStyleHeader(false);\n      }\n    }\n  };\n\n  const removeFixedOptionHead = () => {\n    setStyleHeader(false);\n  };\n\n  function handleShow() {\n    setToggleSpan({\n      visibility: 'visible'\n    });\n    setToggleTopLeft({\n      background: 'rgba(0,0,0,0.3)',\n      border: '2px solid white ',\n      borderRadius: '3px'\n    });\n  }\n\n  function handleHide() {\n    setToggleSpan({\n      visibility: 'hidden'\n    });\n    setToggleTopLeft({\n      background: 'none',\n      border: '2px solid transparent '\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover\",\n    onMouseOver: () => handleShow(),\n    onMouseOut: () => handleHide(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, !loading && info && /*#__PURE__*/React.createElement(\"img\", {\n    src: info.user_cover,\n    alt: info.user_first_name + ' ' + info.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 38\n    }\n  }))), idProfile === currentUser.user_username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-top-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"update-cover\",\n    style: toggleTopLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: toggleSpan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"C\\u1EADp nh\\u1EADp \\u1EA3nh b\\xECa\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"update-cover\",\n    accept: \"image/*\",\n    onChange: uploadCover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-bottom-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, idProfile === currentUser.user_username ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-view-history-action-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + info.user_username + '/activity-log',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 81\n    }\n  }, /*#__PURE__*/React.createElement(BsThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 103\n    }\n  }), \" Nh\\u1EADt k\\xED ho\\u1EA1t \\u0111\\u1ED9ng\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-view-history-action-profile user-profile-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, list.filter(fr => fr.id === info.id).length ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 66\n    }\n  }, /*#__PURE__*/React.createElement(FaUserCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 88\n    }\n  }), \"B\\u1EA1n b\\xE8\") : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, listUserRequest.filter(fr => fr.id === info.id).length ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FaUserClock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 47\n    }\n  }), \" Tr\\u1EA3 l\\u1EDDi k\\u1EBFt b\\u1EA1n\") : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, listMyRequest.filter(fr => fr.id === info.id).length ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 51\n    }\n  }), \" \\u0110\\xE3 g\\u1EEDi l\\u1EDDi m\\u1EDDi\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaUserPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 51\n    }\n  }), \" Th\\xEAm b\\u1EA1n b\\xE8\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-timeline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar_\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, !loading && info && /*#__PURE__*/React.createElement(\"img\", {\n    src: info.user_avatar,\n    alt: info.user_first_name + ' ' + info.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 44\n    }\n  }))), idProfile === currentUser.user_username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-select-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"update-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"C\\u1EADp nh\\u1EADt\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"update-avatar\",\n    accept: \"image/*\",\n    onChange: uploadAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, !loading && info && /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + info.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 38\n    }\n  }, info.user_first_name + ' ' + info.user_last_name), !loading && info.user_nick_name && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 53\n    }\n  }, \"(\", info.user_nick_name, \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-timeline-container\",\n    ref: refHeader,\n    style: styleHeader ? {\n      position: 'fixed',\n      top: '64px',\n      zIndex: 1000,\n      background: 'white',\n      width: '1140px'\n    } : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"profile-header-navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/timeline',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"D\\xF2ng th\\u1EDDi gian\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/about',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, \"Gi\\u1EDBi thi\\u1EC7u\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/gallery',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 19\n    }\n  }, \"\\u1EA2nh\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/friends',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 19\n    }\n  }, \"B\\u1EA1n b\\xE8 \", info.id === currentUser.id ? /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'rgba(0,0,0,0.5)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 23\n    }\n  }, list.length && !loadingfriendOfProfile ? list.length : null) : /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'rgba(0,0,0,0.5)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 23\n    }\n  }, mutialFriend.length && !loadingfriendOfProfile ? mutialFriend.length + ` bạn chung` : null)))))))));\n}\n\nexport default HeaderProfile;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Profiles/MyProfile/HeaderProfile.jsx"],"names":["React","useState","useEffect","useRef","Link","useParams","AiFillCamera","FaUserPlus","FaUserCheck","FaCheck","FaUserClock","BsThreeDots","BsPencil","PUBLIC_URL","useSelector","HeaderProfile","profile","friends","friendsRequest","refHeader","friendOfProfile","list","loadingfriendOfProfile","state","listUserRequest","listMyRequest","toggleSpan","setToggleSpan","toggleTopLeft","setToggleTopLeft","styleHeader","setStyleHeader","currentUser","JSON","parse","localStorage","getItem","info","loading","idProfile","mutialFriend","map","fr","f","id","push","uploadCover","e","console","log","target","files","uploadAvatar","document","addEventListener","fixedOptionHead","removeEventListener","removeFixedOptionHead","curentRef","current","window","scrollY","handleShow","visibility","background","border","borderRadius","handleHide","user_cover","user_first_name","user_last_name","user_username","filter","length","user_avatar","user_nick_name","position","top","zIndex","width","color"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from  'react';\r\nimport {Link, useParams} from 'react-router-dom';\r\nimport { AiFillCamera } from \"react-icons/ai\";\r\nimport { FaUserPlus, FaUserCheck, FaCheck, FaUserClock } from \"react-icons/fa\";\r\nimport { BsThreeDots, BsPencil } from \"react-icons/bs\";\r\nimport {PUBLIC_URL} from \"./../../../Constants/public.jsx\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction HeaderProfile({ profile, friends, friendsRequest }){\r\n  const refHeader = useRef();\r\n  const {friendOfProfile, list, loadingfriendOfProfile} = useSelector(state => state.friends)\r\n  const listUserRequest = useSelector(state => state.friendsRequest.list);\r\n  const listMyRequest = useSelector(state => state.friendsRequest.listMyRequest);\r\n  const [toggleSpan, setToggleSpan] = useState();\r\n  const [toggleTopLeft, setToggleTopLeft] = useState();\r\n  const [styleHeader, setStyleHeader] = useState(false);\r\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n  const { loading, info } = useSelector(state => state.profile);\r\n  const {idProfile} = useParams();\r\n  const mutialFriend = [];\r\n\r\n  friendOfProfile.map(fr => {\r\n    list.map(f => {\r\n      if(fr.id === f.id) mutialFriend.push(fr)\r\n    })\r\n  });\r\n\r\n  const uploadCover = (e) => {\r\n    console.log(e.target.files);\r\n  }\r\n\r\n  const uploadAvatar= (e) => {\r\n    console.log(e.target.files);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    document.addEventListener('scroll', fixedOptionHead, false);\r\n\r\n    return () => document.removeEventListener('scroll', removeFixedOptionHead, false)\r\n  })\r\n\r\n  const fixedOptionHead = () => {\r\n    let curentRef = refHeader.current\r\n    if(curentRef){\r\n      if(window.scrollY - 464 > 0){\r\n        setStyleHeader(true)\r\n      }else {\r\n        setStyleHeader(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const removeFixedOptionHead = () => {\r\n     setStyleHeader(false)\r\n  }\r\n\r\n  function handleShow(){\r\n    setToggleSpan({\r\n      visibility: 'visible'\r\n    })\r\n    setToggleTopLeft({\r\n      background: 'rgba(0,0,0,0.3)',\r\n      border: '2px solid white ',\r\n      borderRadius:'3px'\r\n    })\r\n  }\r\n\r\n  function handleHide(){\r\n    setToggleSpan({\r\n      visibility: 'hidden'\r\n    })\r\n    setToggleTopLeft({\r\n        background: 'none',\r\n        border: '2px solid transparent ',\r\n    })\r\n  }\r\n  return(\r\n    <>\r\n      <div className=\"profile-header\">\r\n        <div className=\"profile-header-container\">\r\n          <div\r\n            className=\"profile-header-cover\"\r\n            onMouseOver={() => handleShow()}\r\n            onMouseOut={() => handleHide()}\r\n          >\r\n            <div className=\"profile-header-cover-container\">\r\n              <div className=\"profile-header-cover-img\">\r\n                {!loading && info && <img src={info.user_cover} alt={info.user_first_name + ' ' + info.user_last_name} />}\r\n              </div>\r\n            </div>\r\n            {idProfile === currentUser.user_username && <div className=\"profile-header-cover-top-left\">\r\n              <label htmlFor=\"update-cover\" style={toggleTopLeft}>\r\n              <AiFillCamera\r\n              />\r\n              <span style={toggleSpan}>Cập nhập ảnh bìa</span>\r\n              </label>\r\n              <input type=\"file\" id=\"update-cover\" accept=\"image/*\" onChange={uploadCover}/>\r\n            </div>}\r\n            <div className=\"profile-header-cover-bottom-right\">\r\n              {idProfile === currentUser.user_username ?\r\n                <div className=\"button-view-history-action-profile\">\r\n                  <Link to={'/profile/' + info.user_username + '/activity-log'}><button type=\"submit\"><BsThreeDots /> Nhật kí hoạt động</button></Link>\r\n                </div>\r\n              :\r\n                <div className=\"button-view-history-action-profile user-profile-button\">\r\n                  {list.filter(fr => fr.id === info.id).length ? <button type=\"submit\"><FaUserCheck />Bạn bè</button> :\r\n                    <React.Fragment>\r\n                      {listUserRequest.filter(fr => fr.id === info.id).length ?\r\n                        <button type=\"submit\"><FaUserClock /> Trả lời kết bạn</button>\r\n                        :\r\n                        <React.Fragment>\r\n                          {listMyRequest.filter(fr => fr.id === info.id).length ?\r\n                            <button type=\"submit\"><FaCheck /> Đã gửi lời mời</button>\r\n                            :\r\n                            <button type=\"submit\"><FaUserPlus /> Thêm bạn bè</button>\r\n                          }\r\n                        </React.Fragment>\r\n                      }\r\n                    </React.Fragment>\r\n                  }\r\n\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"profile-header-timeline\">\r\n            <div className=\"profile-header-avatar\">\r\n              <div className=\"profile-header-avatar_\">\r\n                <div className=\"profile-header-avatar-container\">\r\n                  <div className=\"profile-header-avatar-img\">\r\n                      {!loading && info && <img src={info.user_avatar} alt={info.user_first_name + ' ' + info.user_last_name} />}\r\n                  </div>\r\n                </div>\r\n                {idProfile === currentUser.user_username && <div className=\"profile-header-avatar-select\">\r\n                  <div className=\"profile-header-avatar-select-active\">\r\n                    <div className=\"profile-header-avatar-update\">\r\n                    <label htmlFor=\"update-avatar\">\r\n                    <AiFillCamera\r\n                    />\r\n                    <div>Cập nhật</div>\r\n                    </label>\r\n                    <input type=\"file\" id=\"update-avatar\" accept=\"image/*\" onChange={uploadAvatar}/>\r\n                    </div>\r\n                  </div>\r\n                </div>}\r\n              </div >\r\n              <div className=\"profile-header-name\">\r\n                {!loading && info && <Link to={'/profile/' + info.user_username}>{info.user_first_name + ' ' + info.user_last_name}</Link>}\r\n                {!loading && info.user_nick_name && <p>({info.user_nick_name})</p>}\r\n              </div>\r\n            </div>\r\n            <div className=\"profile-header-timeline-container\" ref={refHeader} style={styleHeader ? {position: 'fixed', top: '64px', zIndex: 1000, background: 'white', width: '1140px'} : null}>\r\n              <ul className=\"profile-header-navigation\">\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/timeline'}>Dòng thời gian</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/about'}>Giới thiệu</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/gallery'}>Ảnh</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/friends'}>\r\n                    Bạn bè {info.id === currentUser.id ?\r\n                      <small style={{color: 'rgba(0,0,0,0.5)'}}>{list.length && !loadingfriendOfProfile ? list.length : null}</small>\r\n                      :\r\n                      <small style={{color: 'rgba(0,0,0,0.5)'}}>\r\n                        {mutialFriend.length && !loadingfriendOfProfile ? mutialFriend.length + ` bạn chung` : null}\r\n                      </small>\r\n                      }\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HeaderProfile;\r\n"]},"metadata":{},"sourceType":"module"}