{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./ModalSharePost.css';import{useDispatch}from'react-redux';import moment from'moment';import{toggleStatusPresentialModal}from'./../../Actions/index.jsx';import{useForm}from\"react-hook-form\";import{useSelector}from'react-redux';import{MdPublic}from'react-icons/md';import{FaLock}from'react-icons/fa';import{Select}from'antd';import{FaRegCommentAlt,FaRegWindowClose,FaUserLock,FaUserAlt}from\"react-icons/fa\";import{Editor,EditorState}from'draft-js';import ModalSharePostImage from'./ModalSharePostImage.jsx';import CustomEmojiEditor from'./EditorEmoji.jsx';import{Image,Transformation}from'cloudinary-react';function ModalSharePost(_ref){var presentialModal=_ref.presentialModal;var _useState=useState(),_useState2=_slicedToArray(_useState,2),valueEditor=_useState2[0],setValueEditor=_useState2[1];function changeStatusButtonSubmit(value){setValueEditor(value);}var userSharePost=JSON.parse(localStorage.getItem('ustk')).info;var Option=Select.Option;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.presentialModal;}),data=_useSelector.data;console.log(data);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,watch=_useForm.watch,errors=_useForm.errors;var onSubmit=function onSubmit(data){dispatch(toggleStatusPresentialModal());};var _useState3=useState(function(){return EditorState.createEmpty();}),_useState4=_slicedToArray(_useState3,2),editorState=_useState4[0],setEditorState=_useState4[1];var PrivacyPost=function PrivacyPost(){switch(data.post_Privacy){case\"public\":return/*#__PURE__*/React.createElement(MdPublic,null);break;case\"onlyme\":return/*#__PURE__*/React.createElement(FaUserLock,null);break;case\"friend\":return/*#__PURE__*/React.createElement(FaUserAlt,null);break;default:return null;}};moment.updateLocale('en',{relativeTime:{future:\"%s\",past:\"%s trước\",s:'vài giây',ss:'%d phút',m:\"1 phút trước\",mm:\"%d phút\",h:\"an giờ\",hh:\"%d giờ\",d:\"một ngày\",dd:\"%d ngày\",w:\"một tuần\",ww:\"%d tuần\",M:\"một tháng\",MM:\"%d tháng\",y:\"một năm\",yy:\"%d năm\"}});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-custom modal-share-post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-avatar\"},userSharePost.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:userSharePost.user_avatar,alt:userSharePost.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:userSharePost.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:userSharePost.user_avatar_cropH,width:userSharePost.user_avatar_cropW,x:userSharePost.user_avatar_cropX,y:userSharePost.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-name\"},userSharePost.user_first_name+' '+userSharePost.user_last_name),/*#__PURE__*/React.createElement(Select,{style:{width:'100%'},defaultValue:\"public\"},/*#__PURE__*/React.createElement(Option,{value:\"public\"},/*#__PURE__*/React.createElement(MdPublic,null),\" C\\xF4ng khai\"),/*#__PURE__*/React.createElement(Option,{value:\"private\"},/*#__PURE__*/React.createElement(FaLock,null),\" Ri\\xEAng t\\u01B0\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-content\"},/*#__PURE__*/React.createElement(CustomEmojiEditor,{changeStatusButtonSubmit:changeStatusButtonSubmit})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-img\"},/*#__PURE__*/React.createElement(ModalSharePostImage,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-title-avatar\"},data.user_admin_post.user_avatar_cropX===null?/*#__PURE__*/React.createElement(\"img\",{src:data.user_admin_post.user_avatar,alt:data.user_admin_post.user_last_name}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:data.user_admin_post.user_avatar+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,{height:data.user_admin_post.user_avatar_cropH,width:data.user_admin_post.user_avatar_cropW,x:data.user_admin_post.user_avatar_cropX,y:data.user_admin_post.user_avatar_cropY,crop:\"crop\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-title-name-and-privacy\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-title-name\"},data.user_admin_post.user_first_name+' '+data.user_admin_post.user_last_name),/*#__PURE__*/React.createElement(\"p\",{className:\"modal-share-post-main-title-privacy\"},moment(moment.utc(data.created_at).toDate()).fromNow(),\" \",/*#__PURE__*/React.createElement(PrivacyPost,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-main-content\"},data.post_Content))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-share-post-footer\"},/*#__PURE__*/React.createElement(\"button\",null,\"\\u0110\\u0103ng\")))));}export default ModalSharePost;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/PresentialModal/ModalSharePost.jsx"],"names":["React","useState","useDispatch","moment","toggleStatusPresentialModal","useForm","useSelector","MdPublic","FaLock","Select","FaRegCommentAlt","FaRegWindowClose","FaUserLock","FaUserAlt","Editor","EditorState","ModalSharePostImage","CustomEmojiEditor","Image","Transformation","ModalSharePost","presentialModal","valueEditor","setValueEditor","changeStatusButtonSubmit","value","userSharePost","JSON","parse","localStorage","getItem","info","Option","dispatch","state","data","console","log","register","handleSubmit","watch","errors","onSubmit","createEmpty","editorState","setEditorState","PrivacyPost","post_Privacy","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","user_avatar_cropX","user_avatar","user_last_name","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","user_first_name","width","user_admin_post","utc","created_at","toDate","fromNow","post_Content"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './ModalSharePost.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport moment from 'moment';\r\nimport { toggleStatusPresentialModal } from './../../Actions/index.jsx';\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSelector } from 'react-redux';\r\nimport { MdPublic } from 'react-icons/md';\r\nimport { FaLock } from 'react-icons/fa';\r\nimport { Select } from 'antd';\r\nimport { FaRegCommentAlt, FaRegWindowClose, FaUserLock, FaUserAlt } from \"react-icons/fa\";\r\nimport { Editor, EditorState } from 'draft-js';\r\nimport ModalSharePostImage from './ModalSharePostImage.jsx'\r\nimport CustomEmojiEditor from './EditorEmoji.jsx';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction ModalSharePost({ presentialModal }) {\r\n\r\n    const [valueEditor, setValueEditor] = useState();\r\n    function changeStatusButtonSubmit(value) {\r\n        setValueEditor(value)\r\n    }\r\n    let userSharePost = JSON.parse(localStorage.getItem('ustk')).info;\r\n    const { Option } = Select;\r\n    const dispatch = useDispatch();\r\n    const { data } = useSelector(state => state.presentialModal);\r\n    console.log(data);\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const onSubmit = (data) => {\r\n        dispatch(toggleStatusPresentialModal())\r\n    }\r\n    const [editorState, setEditorState] = useState(() =>\r\n        EditorState.createEmpty(),\r\n    );\r\n    const PrivacyPost = () => {\r\n        switch (data.post_Privacy) {\r\n            case \"public\":\r\n                return <MdPublic />\r\n                break;\r\n            case \"onlyme\":\r\n                return <FaUserLock />\r\n                break;\r\n            case \"friend\":\r\n                return <FaUserAlt />\r\n                break;\r\n            default: return null\r\n\r\n        }\r\n    }\r\n    moment.updateLocale('en', {\r\n        relativeTime: {\r\n            future: \"%s\",\r\n            past: \"%s trước\",\r\n            s: 'vài giây',\r\n            ss: '%d phút',\r\n            m: \"1 phút trước\",\r\n            mm: \"%d phút\",\r\n            h: \"an giờ\",\r\n            hh: \"%d giờ\",\r\n            d: \"một ngày\",\r\n            dd: \"%d ngày\",\r\n            w: \"một tuần\",\r\n            ww: \"%d tuần\",\r\n            M: \"một tháng\",\r\n            MM: \"%d tháng\",\r\n            y: \"một năm\",\r\n            yy: \"%d năm\"\r\n        }\r\n    });\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"modal-custom modal-share-post\">\r\n                <div className=\"modal-share-post-container\">\r\n                    <div className=\"modal-share-post-header\">\r\n                        <div className=\"modal-share-post-avatar\">\r\n                          {userSharePost.user_avatar_cropX === null ?\r\n                            <img src={userSharePost.user_avatar} alt={userSharePost.user_last_name} />\r\n                            :\r\n                            <Image cloudName=\"mohi-vn\" publicId={userSharePost.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                              <Transformation height={userSharePost.user_avatar_cropH}  width={userSharePost.user_avatar_cropW} x={userSharePost.user_avatar_cropX} y={userSharePost.user_avatar_cropY} crop=\"crop\" />\r\n                            </Image>\r\n                          }\r\n                        </div>\r\n                        <div className=\"modal-share-post-title\">\r\n                            <div className=\"modal-share-post-name\">{userSharePost.user_first_name + ' ' + userSharePost.user_last_name}</div>\r\n                            <Select style={{ width: '100%' }} defaultValue=\"public\">\r\n                                <Option value=\"public\" ><MdPublic /> Công khai</Option>\r\n                                <Option value=\"private\"><FaLock /> Riêng tư</Option>\r\n                            </Select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"modal-share\">\r\n                        <div className=\"modal-share-post-content\">\r\n                            <CustomEmojiEditor changeStatusButtonSubmit={changeStatusButtonSubmit} />\r\n                        </div>\r\n                        <div className=\"modal-share-post-main\">\r\n                            <div className=\"modal-share-post-main-img\">\r\n                                <ModalSharePostImage />\r\n                            </div>\r\n                            <div className=\"modal-share-post-main-title\">\r\n                                <div className=\"modal-share-post-main-title-avatar\">\r\n                                      {data.user_admin_post.user_avatar_cropX === null ?\r\n                                        <img src={data.user_admin_post.user_avatar} alt={data.user_admin_post.user_last_name} />\r\n                                        :\r\n                                        <Image cloudName=\"mohi-vn\" publicId={data.user_admin_post.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                                          <Transformation height={data.user_admin_post.user_avatar_cropH}  width={data.user_admin_post.user_avatar_cropW} x={data.user_admin_post.user_avatar_cropX} y={data.user_admin_post.user_avatar_cropY} crop=\"crop\" />\r\n                                        </Image>\r\n                                      }\r\n                                </div>\r\n                                <div className=\"modal-share-post-main-title-name-and-privacy\">\r\n                                    <div className=\"modal-share-post-main-title-name\">{data.user_admin_post.user_first_name + ' ' + data.user_admin_post.user_last_name}</div>\r\n                                    <p className=\"modal-share-post-main-title-privacy\">{moment(moment.utc(data.created_at).toDate()).fromNow()} <PrivacyPost /></p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"modal-share-post-main-content\">{data.post_Content}</div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"modal-share-post-footer\">\r\n                        <button>Đăng</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default ModalSharePost;\r\n"]},"metadata":{},"sourceType":"module"}