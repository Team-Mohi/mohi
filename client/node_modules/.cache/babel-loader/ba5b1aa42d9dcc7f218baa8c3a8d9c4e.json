{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\Messenger\\\\SiderMessenger.jsx\";\nimport React, { useEffect, useState, useRef, Suspense } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nconst SiderMessenger = (props, {\n  friends\n}) => {\n  const dispatch = useDispatch();\n  const listFriends = useSelector(state => state.friends.list);\n  const searchKeyWords = useSelector(state => state.friends.searchKeyWords);\n  const [scrollSider, setScrollSider] = useState();\n  const sider = useRef();\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\n\n  function handleSiderScroll() {\n    const {\n      scrollTop\n    } = sider.current;\n    if (scrollTop > 0 && !scrollSider) setScrollSider({\n      boxShadow: '-4px 0.1px 3px rgba(0,0,0,0.2)'\n    });\n    if (scrollTop === 0) setScrollSider({});\n  }\n\n  const onChangeSearchFriend = e => {\n    props.onChangeSearchFriend(e);\n  };\n\n  console.log(props);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-head\",\n    style: scrollSider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-title-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, currentUser.user_avatar_cropX === null ? /*#__PURE__*/React.createElement(\"img\", {\n    src: currentUser.user_avatar,\n    alt: currentUser.user_first_name + ' ' + currentUser.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    cloudName: \"mohi-vn\",\n    publicId: currentUser.user_avatar + \".jpg\",\n    version: \"1607061343\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Transformation, {\n    height: currentUser.user_avatar_cropH,\n    width: currentUser.user_avatar_cropW,\n    x: currentUser.user_avatar_cropX,\n    y: currentUser.user_avatar_cropY,\n    crop: \"crop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Chat\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-title-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(BsSearch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"T\\xECm ki\\u1EBFm tr\\xEAn Messenger\",\n    onChange: onChangeSearchFriend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-list-user-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sider-messenger-list-user\",\n    style: showScroll,\n    onScroll: () => handleSiderScroll(),\n    ref: sider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, !list.length && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 34\n    }\n  }, \"T\\xECm ki\\u1EBFm b\\u1EA1n b\\xE8 \\u0111\\u1EC3 nh\\u1EAFn tin\"), list.map((mess, index) => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: index,\n      onClick: () => openContentChat(mess.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-user-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-user-item-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }\n    }, mess.user_avatar_cropX === null ? /*#__PURE__*/React.createElement(\"img\", {\n      src: mess.user_avatar,\n      alt: mess.user_last_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }) : /*#__PURE__*/React.createElement(Image, {\n      cloudName: \"mohi-vn\",\n      publicId: mess.user_avatar + \".jpg\",\n      version: \"1607061343\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Transformation, {\n      height: mess.user_avatar_cropH,\n      width: mess.user_avatar_cropW,\n      x: mess.user_avatar_cropX,\n      y: mess.user_avatar_cropY,\n      crop: \"crop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 31\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 27\n      }\n    }, mess.user_first_name + ' ' + mess.user_last_name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-content-nearest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 27\n      }\n    }, mess.pivot.messages_Message)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-time-send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, moment(mess.pivot.created_at, \"YYYYMMDD\\h:m:s\").fromNow())), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sider-messenger-user-item-status\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }\n    }));\n  })))));\n};\n\nexport default SiderMessenger;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Messenger/SiderMessenger.jsx"],"names":["React","useEffect","useState","useRef","Suspense","useSelector","useDispatch","SiderMessenger","props","friends","dispatch","listFriends","state","list","searchKeyWords","scrollSider","setScrollSider","sider","currentUser","JSON","parse","localStorage","getItem","info","handleSiderScroll","scrollTop","current","boxShadow","onChangeSearchFriend","e","console","log","user_avatar_cropX","user_avatar","user_first_name","user_last_name","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","showScroll","length","textAlign","map","mess","index","openContentChat","id","pivot","messages_Message","moment","created_at","fromNow"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef, Suspense} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\n\r\n  const SiderMessenger = (props, { friends }) => {\r\n    const dispatch = useDispatch();\r\n    const listFriends = useSelector(state => state.friends.list);\r\n    const searchKeyWords = useSelector(state => state.friends.searchKeyWords);\r\n    const [scrollSider, setScrollSider] = useState();\r\n    const sider = useRef();\r\n    const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n\r\n    function handleSiderScroll(){\r\n      const {scrollTop} = sider.current;\r\n      if(scrollTop > 0 && !scrollSider) setScrollSider({boxShadow: '-4px 0.1px 3px rgba(0,0,0,0.2)'})\r\n      if(scrollTop === 0) setScrollSider({})\r\n    }\r\n\r\n    const onChangeSearchFriend = (e) => {\r\n      props.onChangeSearchFriend(e)\r\n    }\r\n\r\n    console.log(props);\r\n\r\n\r\n      return(\r\n        <div className=\"sider-messenger-container\">\r\n          <div className=\"sider-messenger-head\" style={scrollSider}>\r\n            <div className=\"sider-messenger-title\">\r\n              <div className=\"sider-messenger-title-left\">\r\n                <div className=\"sider-messenger-avatar\">\r\n                  {currentUser.user_avatar_cropX === null ?\r\n                    <img src={currentUser.user_avatar} alt={currentUser.user_first_name + ' ' + currentUser.user_last_name} />\r\n                    :\r\n                    <Image cloudName=\"mohi-vn\" publicId={currentUser.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                      <Transformation height={currentUser.user_avatar_cropH}  width={currentUser.user_avatar_cropW} x={currentUser.user_avatar_cropX} y={currentUser.user_avatar_cropY} crop=\"crop\" />\r\n                    </Image>\r\n                  }\r\n                </div>\r\n                <span>Chat</span>\r\n              </div>\r\n              <div className=\"sider-messenger-title-right\">\r\n              </div>\r\n            </div>\r\n            <div className=\"sider-messenger-search\">\r\n              <BsSearch />\r\n            <input type=\"text\" placeholder=\"Tìm kiếm trên Messenger\" onChange={onChangeSearchFriend}/>\r\n            </div>\r\n          </div>\r\n          <div className=\"sider-messenger-list-user-container\" >\r\n            <div className=\"sider-messenger-list-user\" style={showScroll} onScroll={() => handleSiderScroll()} ref={sider}>\r\n              <ul>\r\n                {!list.length && <div style={{textAlign: 'center'}}>Tìm kiếm bạn bè để nhắn tin</div>}\r\n                {list.map((mess, index) => {\r\n                  return(\r\n                    <li key={index} onClick={() => openContentChat(mess.id)}>\r\n                      <div className=\"sider-messenger-user-item\">\r\n                        <div className=\"sider-messenger-user-item-avatar\">\r\n                          {mess.user_avatar_cropX === null ?\r\n                            <img src={mess.user_avatar} alt={mess.user_last_name} />\r\n                            :\r\n                            <Image cloudName=\"mohi-vn\" publicId={mess.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                              <Transformation height={mess.user_avatar_cropH}  width={mess.user_avatar_cropW} x={mess.user_avatar_cropX} y={mess.user_avatar_cropY} crop=\"crop\" />\r\n                            </Image>\r\n                          }\r\n                        </div>\r\n                        <div className=\"sider-messenger-content\">\r\n                          <div className=\"sider-messenger-username\">\r\n                            {mess.user_first_name + ' ' + mess.user_last_name}\r\n                          </div>\r\n                          <div className=\"sider-messenger-content-nearest\">\r\n                            {mess.pivot.messages_Message}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"sider-messenger-time-send\">\r\n                          {moment(mess.pivot.created_at, \"YYYYMMDD\\h:m:s\").fromNow()}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"sider-messenger-user-item-status\">\r\n                      </div>\r\n                    </li>\r\n                  )\r\n                })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n  }\r\n\r\nexport default SiderMessenger;\r\n"]},"metadata":{},"sourceType":"module"}