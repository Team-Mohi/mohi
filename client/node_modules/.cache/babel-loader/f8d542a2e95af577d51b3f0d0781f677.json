{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Containers\\\\MessengerContainer.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport Messenger from './../Components/Messenger/index.jsx';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { requestOneMessage } from './../Actions/index.jsx';\nimport { responseOneMessage } from './../Actions/index.jsx';\nimport { requestMoreOneMessage } from './../Actions/index.jsx';\nimport { responseMoreOneMessage } from './../Actions/index.jsx';\n\nfunction MessengerContainer({\n  message\n}) {\n  const {\n    currentPage\n  } = useSelector(state => state.message);\n  const [id, setId] = useState();\n  const dispatch = useDispatch();\n  console.log(currentPage);\n  useEffect(() => {\n    if (currentPage > 1) {\n      dispatch(requestMoreOneMessage());\n      getMoreOneMessage();\n    }\n  }, [currentPage]);\n\n  const getMoreOneMessage = async () => {\n    await axios({\n      method: 'GET',\n      url: \"/api/auth/detail-message/\" + id,\n      params: {\n        page: currentPage\n      }\n    }).then(res => {\n      console.log(res);\n      dispatch(responseMoreOneMessage(res.data));\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n    });\n  };\n\n  const getMessageOneUser = idUser => {\n    setId(idUser);\n    dispatch(requestOneMessage());\n    axios.get('/api/auth/detail-message/' + idUser).then(res => {\n      dispatch(responseOneMessage(res.data));\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Messenger, {\n    getMessageOneUser: getMessageOneUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  });\n}\n\nexport default MessengerContainer;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Containers/MessengerContainer.jsx"],"names":["React","useEffect","useState","Messenger","axios","useSelector","useDispatch","requestOneMessage","responseOneMessage","requestMoreOneMessage","responseMoreOneMessage","MessengerContainer","message","currentPage","state","id","setId","dispatch","console","log","getMoreOneMessage","method","url","params","page","then","res","data","catch","e","isCancel","getMessageOneUser","idUser","get"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,iBAAT,QAAkC,wBAAlC;AACA,SAASC,kBAAT,QAAmC,wBAAnC;AACA,SAASC,qBAAT,QAAsC,wBAAtC;AACA,SAASC,sBAAT,QAAuC,wBAAvC;;AAEA,SAASC,kBAAT,CAA4B;AAACC,EAAAA;AAAD,CAA5B,EAAsC;AACpC,QAAM;AAAEC,IAAAA;AAAF,MAAkBR,WAAW,CAACS,KAAK,IAAIA,KAAK,CAACF,OAAhB,CAAnC;AACA,QAAM,CAACG,EAAD,EAAKC,KAAL,IAAcd,QAAQ,EAA5B;AACA,QAAMe,QAAQ,GAAGX,WAAW,EAA5B;AACAY,EAAAA,OAAO,CAACC,GAAR,CAAYN,WAAZ;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACd,QAAGY,WAAW,GAAG,CAAjB,EAAmB;AACjBI,MAAAA,QAAQ,CAACR,qBAAqB,EAAtB,CAAR;AACAW,MAAAA,iBAAiB;AAClB;AACF,GALQ,EAKN,CAACP,WAAD,CALM,CAAT;;AAOA,QAAMO,iBAAiB,GAAG,YAAY;AACpC,UAAMhB,KAAK,CAAC;AACRiB,MAAAA,MAAM,EAAE,KADA;AAERC,MAAAA,GAAG,EAAE,8BAA6BP,EAF1B;AAGRQ,MAAAA,MAAM,EAAE;AAACC,QAAAA,IAAI,EAAGX;AAAR;AAHA,KAAD,CAAL,CAKHY,IALG,CAKEC,GAAG,IAAG;AACVR,MAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ;AACAT,MAAAA,QAAQ,CAACP,sBAAsB,CAACgB,GAAG,CAACC,IAAL,CAAvB,CAAR;AACD,KARG,EASHC,KATG,CASGC,CAAC,IAAI;AACV,UAAGzB,KAAK,CAAC0B,QAAN,CAAeD,CAAf,CAAH,EAAsB;AACvB,KAXG,CAAN;AAYD,GAbD;;AAeA,QAAME,iBAAiB,GAAIC,MAAD,IAAY;AAClChB,IAAAA,KAAK,CAACgB,MAAD,CAAL;AACAf,IAAAA,QAAQ,CAACV,iBAAiB,EAAlB,CAAR;AAEAH,IAAAA,KAAK,CAAC6B,GAAN,CAAU,8BAA6BD,MAAvC,EACCP,IADD,CACOC,GAAD,IAAS;AACbT,MAAAA,QAAQ,CAACT,kBAAkB,CAACkB,GAAG,CAACC,IAAL,CAAnB,CAAR;AACD,KAHD,EAICC,KAJD,CAIQC,CAAD,IAAO;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAYU,CAAZ;AACD,KAND;AAOH,GAXD;;AAaA,sBACE,oBAAC,SAAD;AAAW,IAAA,iBAAiB,EAAEE,iBAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAGD;;AAED,eAAepB,kBAAf","sourcesContent":["import React,{ useEffect, useState} from 'react';\r\nimport Messenger from './../Components/Messenger/index.jsx';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { requestOneMessage } from './../Actions/index.jsx';\r\nimport { responseOneMessage } from './../Actions/index.jsx';\r\nimport { requestMoreOneMessage } from './../Actions/index.jsx';\r\nimport { responseMoreOneMessage } from './../Actions/index.jsx';\r\n\r\nfunction MessengerContainer({message}){\r\n  const { currentPage } = useSelector(state => state.message);\r\n  const [id, setId] = useState();\r\n  const dispatch = useDispatch();\r\n  console.log(currentPage);\r\n  useEffect(() => {\r\n    if(currentPage > 1){\r\n      dispatch(requestMoreOneMessage())\r\n      getMoreOneMessage();\r\n    }\r\n  }, [currentPage])\r\n\r\n  const getMoreOneMessage = async () => {\r\n    await axios({\r\n        method: 'GET',\r\n        url: \"/api/auth/detail-message/\"+ id,\r\n        params: {page : currentPage}\r\n      })\r\n      .then(res =>{\r\n        console.log(res);\r\n        dispatch(responseMoreOneMessage(res.data))\r\n      })\r\n      .catch(e => {\r\n        if(axios.isCancel(e)) return\r\n      })\r\n  }\r\n\r\n  const getMessageOneUser = (idUser) => {\r\n      setId(idUser)\r\n      dispatch(requestOneMessage())\r\n\r\n      axios.get('/api/auth/detail-message/'+ idUser)\r\n      .then((res) => {\r\n        dispatch(responseOneMessage(res.data))\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n  }\r\n\r\n  return(\r\n    <Messenger getMessageOneUser={getMessageOneUser}/>\r\n  )\r\n}\r\n\r\nexport default MessengerContainer;\r\n"]},"metadata":{},"sourceType":"module"}