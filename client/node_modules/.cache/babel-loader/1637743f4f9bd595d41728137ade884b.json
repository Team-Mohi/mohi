{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\PresentialModal\\\\ModalUpdatePostProfile.jsx\";\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EditorUpdatePost from './EditorUpdatePost.jsx';\nimport './ModalUpdatePostProfile.css';\nimport { Button, Select } from 'antd';\nimport UploadMuti from './UploadMuti.jsx';\nimport axios from 'axios';\nimport { MdPublic } from \"react-icons/md\";\nimport { FaUserFriends, FaLock } from \"react-icons/fa\";\n\nfunction ModalUpdatePostProfile({\n  presentialModal\n}) {\n  const {\n    data\n  } = useSelector(state => state.presentialModal);\n  const [newContentPost, setNewContentPost] = useState(data.post_Content);\n  const [fileList, setFileList] = useState([]);\n  const [loadingUpdate, setLoadingUpdate] = useState(false);\n  const {\n    Option\n  } = Select;\n  const [privacyNewFeed, setPrivacyNewFeed] = useState('public');\n\n  const onChangePrivacyNewFeed = value => {\n    setPrivacyNewFeed(value);\n  };\n\n  const changeStatusButtonSubmit = value => {\n    setNewContentPost(value);\n  };\n\n  const uploadMuti = files => {\n    setFileList(files);\n  };\n\n  console.log(files);\n\n  const update = async () => {\n    await axios.post(\"https://www.api.mohi.vn/api/auth/update-post-profile\", {\n      id: data.id,\n      post_Content: newContentPost,\n      post_Privacy: privacyNewFeed,\n      post_images_Url: fileList\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-custom modal_update_post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"update-post-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(EditorUpdatePost, {\n    value: data.post_Content,\n    changeStatusButtonSubmit: changeStatusButtonSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"update-upload-muti-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(UploadMuti, {\n    uploadMuti: uploadMuti,\n    imagesPost: data.images_post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"update-post-select-privacy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    className: \"select-privacy select-privacy-update\",\n    defaultValue: privacyNewFeed,\n    style: {\n      width: '100%'\n    },\n    onSelect: value => onChangePrivacyNewFeed(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"public\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MdPublic, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 38\n    }\n  }), \" C\\xF4ng khai\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"friend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FaUserFriends, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 38\n    }\n  }), \" B\\u1EA1n b\\xE8\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"onlyme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(FaLock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 38\n    }\n  }), \" Ch\\u1EC9 m\\xECnh t\\xF4i\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-update-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, !loadingUpdate ? /*#__PURE__*/React.createElement(\"button\", {\n    onClick: update,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u0103ng\") : /*#__PURE__*/React.createElement(Button, {\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"\\u0110\\u0103ng\"))));\n}\n\nexport default ModalUpdatePostProfile;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/PresentialModal/ModalUpdatePostProfile.jsx"],"names":["React","useState","useDispatch","useSelector","EditorUpdatePost","Button","Select","UploadMuti","axios","MdPublic","FaUserFriends","FaLock","ModalUpdatePostProfile","presentialModal","data","state","newContentPost","setNewContentPost","post_Content","fileList","setFileList","loadingUpdate","setLoadingUpdate","Option","privacyNewFeed","setPrivacyNewFeed","onChangePrivacyNewFeed","value","changeStatusButtonSubmit","uploadMuti","files","console","log","update","post","id","post_Privacy","post_images_Url","then","res","images_post","width"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport EditorUpdatePost from './EditorUpdatePost.jsx';\r\nimport './ModalUpdatePostProfile.css';\r\nimport {Button, Select} from 'antd';\r\nimport UploadMuti from './UploadMuti.jsx';\r\nimport axios from 'axios';\r\nimport {MdPublic} from \"react-icons/md\";\r\nimport {FaUserFriends, FaLock} from \"react-icons/fa\";\r\n\r\nfunction ModalUpdatePostProfile({ presentialModal }){\r\n  const {data} = useSelector(state => state.presentialModal);\r\n  const [newContentPost, setNewContentPost] = useState(data.post_Content);\r\n  const [fileList, setFileList] = useState([]);\r\n  const [loadingUpdate, setLoadingUpdate] = useState(false);\r\n  const {Option} = Select;\r\n  const [privacyNewFeed, setPrivacyNewFeed] = useState('public');\r\n\r\n  const onChangePrivacyNewFeed = (value) => {\r\n    setPrivacyNewFeed(value)\r\n  }\r\n\r\n  const changeStatusButtonSubmit = (value) => {\r\n    setNewContentPost(value)\r\n  }\r\n\r\n  const uploadMuti = (files) => {\r\n    setFileList(files)\r\n  }\r\n\r\n  console.log(files);\r\n  const update = async () => {\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/update-post-profile\", {\r\n      id: data.id,\r\n      post_Content: newContentPost,\r\n      post_Privacy: privacyNewFeed,\r\n      post_images_Url: fileList\r\n    })\r\n    .then((res) => {\r\n      console.log(res);\r\n    })\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"modal-custom modal_update_post\">\r\n        <div className=\"update-post-content\">\r\n          <EditorUpdatePost value={data.post_Content} changeStatusButtonSubmit={changeStatusButtonSubmit}/>\r\n        </div>\r\n        <div className=\"update-upload-muti-image\">\r\n          <UploadMuti uploadMuti={uploadMuti} imagesPost={data.images_post}/>\r\n        </div>\r\n        <div className=\"update-post-select-privacy\">\r\n          <Select className=\"select-privacy select-privacy-update\" defaultValue={privacyNewFeed} style={{ width: '100%' }} onSelect={(value) => onChangePrivacyNewFeed(value)}>\r\n              <Option value=\"public\"><MdPublic /> Công khai</Option>\r\n              <Option value=\"friend\"><FaUserFriends /> Bạn bè</Option>\r\n              <Option value=\"onlyme\"><FaLock /> Chỉ mình tôi</Option>\r\n          </Select>\r\n        </div>\r\n        <div className=\"button-update-post\">\r\n          {!loadingUpdate ?\r\n          <button onClick={update}>Đăng</button>\r\n            :\r\n          <Button loading>Đăng</Button>\r\n          }\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ModalUpdatePostProfile;\r\n"]},"metadata":{},"sourceType":"module"}