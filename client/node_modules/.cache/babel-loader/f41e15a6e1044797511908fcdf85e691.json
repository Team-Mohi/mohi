{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\Notifications\\\\NotificationsMenu.jsx\";\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Image, Transformation } from 'cloudinary-react';\nimport { FaShare, FaSmileWink, FaCommentAlt } from 'react-icons/fa';\nimport { BsThreeDotsVertical } from 'react-icons/bs';\nimport './NotificationsMenu.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Spin } from 'antd';\nimport moment from 'moment';\nimport { readNoti } from './../../Actions/index.jsx';\nimport axios from 'axios';\n\nfunction MenuNoti({\n  notifycations\n}) {\n  const list = useSelector(state => state.notifycations);\n  const listNotifications = list.list;\n  const loading = list.loading;\n  const dispatch = useDispatch();\n  moment.updateLocale('en', {\n    relativeTime: {\n      future: \"%s\",\n      past: \"%s\",\n      s: 'vài giây',\n      ss: '%d phút',\n      m: \"1 phút\",\n      mm: \"%d phút\",\n      h: \"%d giờ\",\n      hh: \"%d giờ\",\n      d: \"một ngày\",\n      dd: \"%d ngày\",\n      w: \"một tuần\",\n      ww: \"%d tuần\",\n      M: \"một tháng\",\n      MM: \"%d tháng\",\n      y: \"một năm\",\n      yy: \"%d năm\"\n    }\n  });\n  useEffect(() => {\n    readNotiFunc();\n  }, []);\n\n  const readNotiFunc = async () => {\n    await axios.post(\"https://www.api.mohi.vn/api/auth/read-notification\").then(res => {\n      dispatch(readNoti());\n    });\n  };\n\n  if (loading && !listNotifications.length) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"Th\\xF4ng b\\xE1o\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-title-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"friend-may-know-container\",\n      style: {\n        minHeight: '80px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n  if (!loading && !listNotifications.length) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, \"Th\\xF4ng b\\xE1o\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-title-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"friend-may-know-container\",\n      style: {\n        minHeight: '80px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }, \"B\\u1EA1n ch\\u01B0a c\\xF3 th\\xF4ng b\\xE1o\")));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-noti-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-noti-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-noti-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \"Th\\xF4ng b\\xE1o\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-noti-title-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-dropdown-scroll\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-dropdown-scroll-thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, listNotifications.map((noti, index) => {\n    return /*#__PURE__*/React.createElement(Link, {\n      to: \"/post/\" + noti.notification_PostIdFake,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, noti.notifications_send.user_avatar_cropX === null ? /*#__PURE__*/React.createElement(\"img\", {\n      src: noti.notifications_send.user_avatar,\n      alt: noti.notifications_send.user_last_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(Image, {\n      cloudName: \"mohi-vn\",\n      publicId: noti.notifications_send.user_avatar + \".jpg\",\n      version: \"1607061343\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Transformation, {\n      height: noti.notifications_send.user_avatar_cropH,\n      width: noti.notifications_send.user_avatar_cropW,\n      x: noti.notifications_send.user_avatar_cropX,\n      y: noti.notifications_send.user_avatar_cropY,\n      crop: \"crop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content-title menu-noti-custom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, noti.notifications_send.user_first_name + ' ' + noti.notifications_send.user_last_name, \" \"), noti.notification_Content, \" \", JSON.parse(localStorage.getItem('ustk')).info.id === noti.notification_AdminPostId ? 'bạn' : noti.notifications_admin_post.user_first_name + ' ' + noti.notifications_admin_post.user_last_name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(FaCommentAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }, moment(moment.utc(noti.created_at).toDate()).fromNow()))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menu-noti-content-right-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BsThreeDotsVertical, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    })))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"menu-noti-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/notifications\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, \"Xem t\\u1EA5t c\\u1EA3 c\\xE1c th\\xF4ng b\\xE1o\"))));\n}\n\nexport default MenuNoti;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Notifications/NotificationsMenu.jsx"],"names":["React","useEffect","Link","Image","Transformation","FaShare","FaSmileWink","FaCommentAlt","BsThreeDotsVertical","useSelector","useDispatch","Spin","moment","readNoti","axios","MenuNoti","notifycations","list","state","listNotifications","loading","dispatch","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","readNotiFunc","post","then","res","length","minHeight","display","alignItems","justifyContent","map","noti","index","notification_PostIdFake","notifications_send","user_avatar_cropX","user_avatar","user_last_name","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","user_first_name","notification_Content","JSON","parse","localStorage","getItem","info","id","notification_AdminPostId","notifications_admin_post","utc","created_at","toDate","fromNow"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\nimport {FaShare, FaSmileWink, FaCommentAlt} from 'react-icons/fa';\r\nimport {BsThreeDotsVertical} from 'react-icons/bs';\r\nimport './NotificationsMenu.css';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport {readNoti} from './../../Actions/index.jsx';\r\nimport axios from 'axios';\r\n\r\nfunction MenuNoti({notifycations}) {\r\n  const list = useSelector(state => state.notifycations);\r\n  const listNotifications = list.list;\r\n  const loading = list.loading;\r\n  const dispatch = useDispatch();\r\n\r\n  moment.updateLocale('en', {\r\n    relativeTime : {\r\n        future: \"%s\",\r\n        past:   \"%s\",\r\n        s  : 'vài giây',\r\n        ss : '%d phút',\r\n        m:  \"1 phút\",\r\n        mm: \"%d phút\",\r\n        h:  \"%d giờ\",\r\n        hh: \"%d giờ\",\r\n        d:  \"một ngày\",\r\n        dd: \"%d ngày\",\r\n        w:  \"một tuần\",\r\n        ww: \"%d tuần\",\r\n        M:  \"một tháng\",\r\n        MM: \"%d tháng\",\r\n        y:  \"một năm\",\r\n        yy: \"%d năm\"\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    readNotiFunc()\r\n  }, [])\r\n\r\n  const readNotiFunc = async () => {\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/read-notification\")\r\n    .then((res) => {\r\n      dispatch(readNoti())\r\n    })\r\n  }\r\n\r\n  if(loading && !listNotifications.length){\r\n    return(\r\n      <div className = \"menu-noti-container\">\r\n        <div className=\"menu-noti-main\">\r\n          <div className=\"menu-noti-title\">\r\n            <h5>Thông báo</h5>\r\n            <div className=\"menu-noti-title-control\">\r\n            </div>\r\n          </div>\r\n          <div className=\"friend-may-know-container\"\r\n            style={{\r\n              minHeight: '80px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}\r\n          >\r\n            <Spin />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if(!loading && !listNotifications.length){\r\n    return(\r\n      <div className = \"menu-noti-container\">\r\n        <div className=\"menu-noti-main\">\r\n          <div className=\"menu-noti-title\">\r\n            <h5>Thông báo</h5>\r\n            <div className=\"menu-noti-title-control\">\r\n            </div>\r\n          </div>\r\n          <div className=\"friend-may-know-container\"\r\n            style={{\r\n              minHeight: '80px',\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center'\r\n            }}\r\n          >\r\n            Bạn chưa có thông báo\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className = \"menu-noti-container\">\r\n    <div className=\"menu-noti-main\">\r\n    <div className=\"menu-noti-title\">\r\n      <h5>Thông báo</h5>\r\n      <div className=\"menu-noti-title-control\">\r\n      </div>\r\n    </div>\r\n    <div className=\"menu-dropdown-scroll\">\r\n      <div className=\"menu-dropdown-scroll-thumb\">\r\n        {listNotifications.map((noti, index) => {\r\n          return(\r\n            <Link to={\"/post/\" + noti.notification_PostIdFake} key={index}>\r\n              <div className=\"menu-noti-content\">\r\n                <div className=\"menu-noti-content-avatar\">\r\n                  {noti.notifications_send.user_avatar_cropX === null ?\r\n                    <img src={noti.notifications_send.user_avatar} alt={noti.notifications_send.user_last_name} />\r\n                    :\r\n                    <Image cloudName=\"mohi-vn\" publicId={noti.notifications_send.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                      <Transformation height={noti.notifications_send.user_avatar_cropH}  width={noti.notifications_send.user_avatar_cropW} x={noti.notifications_send.user_avatar_cropX} y={noti.notifications_send.user_avatar_cropY} crop=\"crop\" />\r\n                    </Image>\r\n                  }\r\n                </div>\r\n                <div className=\"menu-noti-content-title menu-noti-custom\">\r\n                  <p>\r\n                    <b>{noti.notifications_send.user_first_name + ' ' + noti.notifications_send.user_last_name} </b>\r\n                  {noti.notification_Content} {JSON.parse(localStorage.getItem('ustk')).info.id === noti.notification_AdminPostId ? 'bạn' : noti.notifications_admin_post.user_first_name + ' ' + noti.notifications_admin_post.user_last_name}\r\n                  </p>\r\n                  <div className=\"menu-noti-content-button\">\r\n                    <FaCommentAlt/>\r\n                    <p>{moment(moment.utc(noti.created_at).toDate()).fromNow()}</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"menu-noti-content-right\">\r\n                  <div className=\"menu-noti-content-right-button\">\r\n                    <BsThreeDotsVertical/>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"menu-noti-footer\">\r\n      <Link to=\"/notifications\">Xem tất cả các thông báo</Link>\r\n    </div>\r\n  </div>\r\n</div>\r\n);\r\n}\r\nexport default MenuNoti;\r\n"]},"metadata":{},"sourceType":"module"}