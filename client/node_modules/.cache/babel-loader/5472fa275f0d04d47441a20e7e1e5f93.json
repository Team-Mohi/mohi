{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./ModalViewImage.css';import{useSelector}from'react-redux';import{AiFillCaretLeft,AiFillCaretRight}from\"react-icons/ai\";import{Image,Transformation}from'cloudinary-react';function ViewImage(_ref){var presentialModal=_ref.presentialModal;var _useSelector=useSelector(function(state){return state.presentialModal;}),data=_useSelector.data;var images=data.post.images_post;var _useState=useState(data.index),_useState2=_slicedToArray(_useState,2),indexCurrent=_useState2[0],setIndexCurrent=_useState2[1];var lastIndex=images.length-1;var _useState3=useState(images[indexCurrent].post_images_Url),_useState4=_slicedToArray(_useState3,2),currentPhoto=_useState4[0],setCurrentPhoto=_useState4[1];var prePostImage=function prePostImage(){if(Number(indexCurrent)===0){setIndexCurrent(lastIndex);setCurrentPhoto(images[lastIndex].post_images_Url);}else{var _preImage=Number(indexCurrent)-1;setCurrentPhoto(images[_preImage].post_images_Url);setIndexCurrent(_preImage);}};var nextPostImage=function nextPostImage(){if(Number(indexCurrent)===images.length-1){setIndexCurrent(0);setCurrentPhoto(images[0].post_images_Url);}else{var _nextImage=Number(indexCurrent)+1;setCurrentPhoto(images[_nextImage].post_images_Url);setIndexCurrent(_nextImage);}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-background\",style:{filter:'blur(10px)',backgroundImage:\"url(\".concat(currentPhoto,\")\")}}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-carousel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-carousel-container\"},images.length>1?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-pre-image\"},/*#__PURE__*/React.createElement(\"button\",{onClick:prePostImage},/*#__PURE__*/React.createElement(AiFillCaretLeft,null))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-curent-image\"},images[indexCurrent].post_images_Type==='image'?/*#__PURE__*/React.createElement(React.Fragment,null,currentPhoto.toLowerCase().indexOf('https://')!==-1?/*#__PURE__*/React.createElement(\"img\",{src:currentPhoto,alt:\"\"}):/*#__PURE__*/React.createElement(Image,{cloudName:\"mohi-vn\",publicId:currentPhoto+\".jpg\",version:\"1607061343\"},/*#__PURE__*/React.createElement(Transformation,null))):/*#__PURE__*/React.createElement(\"video\",{src:currentPhoto,autoPlay:true,preload:\"metadata\",controls:true})),images.length>1?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-next-image\"},/*#__PURE__*/React.createElement(\"button\",{onClick:nextPostImage},/*#__PURE__*/React.createElement(AiFillCaretRight,null))):null)))));}export default ViewImage;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/PresentialModal/ModalViewImage.jsx"],"names":["React","useState","useSelector","AiFillCaretLeft","AiFillCaretRight","Image","Transformation","ViewImage","presentialModal","state","data","images","post","images_post","index","indexCurrent","setIndexCurrent","lastIndex","length","post_images_Url","currentPhoto","setCurrentPhoto","prePostImage","Number","_preImage","nextPostImage","_nextImage","filter","backgroundImage","post_images_Type","toLowerCase","indexOf"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './ModalViewImage.css';\r\nimport { useSelector } from 'react-redux';\r\nimport { AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction ViewImage({ presentialModal }){\r\n  const {data} = useSelector(state => state.presentialModal);\r\n  const images = data.post.images_post;\r\n  const [indexCurrent, setIndexCurrent] = useState(data.index);\r\n  const lastIndex = images.length - 1;\r\n  const [currentPhoto, setCurrentPhoto] = useState(images[indexCurrent].post_images_Url);\r\n\r\n  const prePostImage = () => {\r\n    if(Number(indexCurrent) === 0){\r\n      setIndexCurrent(lastIndex)\r\n      setCurrentPhoto(images[lastIndex].post_images_Url)\r\n    }else {\r\n      let _preImage = Number(indexCurrent) - 1;\r\n      setCurrentPhoto(images[_preImage].post_images_Url)\r\n      setIndexCurrent(_preImage)\r\n    }\r\n  }\r\n\r\n  const nextPostImage = () => {\r\n    if(Number(indexCurrent) === images.length - 1){\r\n      setIndexCurrent(0)\r\n      setCurrentPhoto(images[0].post_images_Url)\r\n    }else {\r\n      let _nextImage = Number(indexCurrent) + 1;\r\n      setCurrentPhoto(images[_nextImage].post_images_Url)\r\n      setIndexCurrent(_nextImage)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"modal-post\">\r\n        <div className=\"modal-post-container\">\r\n          <div className=\"modal-post-background\" style={{ filter: 'blur(10px)', backgroundImage: `url(${currentPhoto})`}}></div>\r\n          <div className=\"modal-post-carousel\" >\r\n            <div className=\"modal-post-carousel-container\" >\r\n            {images.length > 1 ?\r\n              <div className=\"modal-post-pre-image\">\r\n                <button onClick={prePostImage}><AiFillCaretLeft /></button>\r\n              </div> : null}\r\n              <div className=\"modal-post-curent-image\">\r\n                {images[indexCurrent].post_images_Type === 'image' ?\r\n                    <React.Fragment>\r\n                      {currentPhoto.toLowerCase().indexOf('https://') !== -1 ?\r\n                        <img src={currentPhoto} alt=\"\"/>\r\n                        :\r\n                        <Image cloudName=\"mohi-vn\" publicId={currentPhoto+ \".jpg\"} version=\"1607061343\">\r\n                          <Transformation />\r\n                        </Image>\r\n                      }\r\n                    </React.Fragment>\r\n                  :\r\n                  <video src={currentPhoto} autoPlay preload=\"metadata\" controls></video>\r\n                }\r\n              </div>\r\n              {images.length > 1 ?\r\n              <div className=\"modal-post-next-image\">\r\n                <button onClick={nextPostImage}><AiFillCaretRight /></button>\r\n              </div> : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ViewImage;\r\n"]},"metadata":{},"sourceType":"module"}