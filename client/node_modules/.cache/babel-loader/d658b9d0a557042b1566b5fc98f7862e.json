{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\Profiles\\\\MyProfile\\\\HeaderProfile.jsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { AiFillCamera } from \"react-icons/ai\";\nimport { FaUserPlus, FaUserCheck, FaCheck, FaUserClock } from \"react-icons/fa\";\nimport { BsThreeDots, BsPencil } from \"react-icons/bs\";\nimport { PUBLIC_URL } from \"./../../../Constants/public.jsx\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Tooltip, Spin } from 'antd';\nimport axios from 'axios';\nimport { toggleStatusPresentialModal } from './../../../Actions/index.jsx';\nimport { Image, Transformation } from 'cloudinary-react';\n\nfunction HeaderProfile({\n  profile,\n  friends,\n  friendsRequest\n}) {\n  const refHeader = useRef();\n  const {\n    friendOfProfile,\n    list,\n    loadingfriendOfProfile\n  } = useSelector(state => state.friends);\n  const listUserRequest = useSelector(state => state.friendsRequest.list);\n  const listMyRequest = useSelector(state => state.friendsRequest.listMyRequest);\n  const [toggleSpan, setToggleSpan] = useState();\n  const [toggleTopLeft, setToggleTopLeft] = useState();\n  const [styleHeader, setStyleHeader] = useState(false);\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\n  const {\n    loading,\n    info\n  } = useSelector(state => state.profile);\n  const {\n    idProfile\n  } = useParams();\n  const mutialFriend = [];\n  const [statusFollow, setStatusFollow] = useState();\n  const [loadingRequest, setLoadingRequest] = useState(false);\n  const dispatch = useDispatch();\n  const [isChangeCover, setIsChangeCover] = useState(false);\n  friendOfProfile.map(fr => {\n    list.map(f => {\n      if (fr.id === f.id) mutialFriend.push(fr);\n    });\n  });\n\n  const uploadCover = e => {\n    console.log(e.target.files);\n    setIsChangeCover(true);\n  };\n\n  const uploadAvatar = e => {\n    const file = e.target.files[0];\n    dispatch(toggleStatusPresentialModal('modal_upload_avatar_profile', file));\n  };\n\n  useEffect(() => {\n    document.addEventListener('scroll', fixedOptionHead, false);\n    return () => document.removeEventListener('scroll', removeFixedOptionHead, false);\n  });\n\n  const fixedOptionHead = () => {\n    let curentRef = refHeader.current;\n\n    if (curentRef) {\n      if (window.scrollY - 464 > 0) {\n        setStyleHeader(true);\n      } else {\n        setStyleHeader(false);\n      }\n    }\n  };\n\n  const removeFixedOptionHead = () => {\n    setStyleHeader(false);\n  };\n\n  function handleShow() {\n    setToggleSpan({\n      visibility: 'visible'\n    });\n    setToggleTopLeft({\n      background: 'rgba(0,0,0,0.3)',\n      border: '2px solid white ',\n      borderRadius: '3px'\n    });\n  }\n\n  function handleHide() {\n    setToggleSpan({\n      visibility: 'hidden'\n    });\n    setToggleTopLeft({\n      background: 'none',\n      border: '2px solid transparent '\n    });\n  }\n\n  const addFriendFunc = async idUser => {\n    setLoadingRequest(true);\n    await axios.post(\"https://www.api.mohi.vn/api/auth/add-friend\", {\n      follow_users_ReceivedUser: idUser\n    }).then(res => {\n      setLoadingRequest(false);\n      setStatusFollow('send_request');\n    });\n  };\n\n  const unFriendFunc = async idUser => {\n    setLoadingRequest(true);\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {\n      id: idUser,\n      action: 'unfriend'\n    }).then(res => {\n      setLoadingRequest(false);\n      setStatusFollow('remove_friend');\n    });\n  };\n\n  const unMyRequestFriendFunc = async idUser => {\n    setLoadingRequest(true);\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {\n      id: idUser,\n      action: 'unRequestFriend'\n    }).then(res => {\n      setLoadingRequest(false);\n      setStatusFollow('remove_request');\n    });\n  };\n\n  const acceptFriendFunc = async idUser => {\n    setLoadingRequest(true);\n    await axios.post(\"https://www.api.mohi.vn/api/auth/accept-friend\", {\n      follow_users_UserId: idUser\n    }).then(res => {\n      setLoadingRequest(false);\n      setStatusFollow('accept_request');\n    });\n  };\n\n  const refuseFriendFunc = async idUser => {\n    setLoadingRequest(true);\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {\n      id: idUser,\n      action: 'refuseFriend'\n    }).then(res => {\n      setLoadingRequest(false);\n      setStatusFollow('refuse_request');\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover\",\n    onMouseOver: () => handleShow(),\n    onMouseOut: () => handleHide(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: info.user_cover,\n    alt: info.user_first_name + ' ' + info.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }))), idProfile === currentUser.user_username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-top-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"update-cover\",\n    style: toggleTopLeft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: toggleSpan,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"C\\u1EADp nh\\u1EADp \\u1EA3nh b\\xECa\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"update-cover\",\n    accept: \"image/*\",\n    onChange: uploadCover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-cover-bottom-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, idProfile === currentUser.user_username ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-view-history-action-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + info.user_username + '/activity-log',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 81\n    }\n  }, /*#__PURE__*/React.createElement(BsThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 103\n    }\n  }), \" Nh\\u1EADt k\\xED ho\\u1EA1t \\u0111\\u1ED9ng\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-view-history-action-profile user-profile-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, list.filter(f => f.id === info.id).length ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }\n  }, !statusFollow && /*#__PURE__*/React.createElement(Tooltip, {\n    placement: `bottom`,\n    trigger: `click`,\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        cursor: 'pointer'\n      },\n      onClick: () => unFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }, \"H\\u1EE7y k\\u1EBFt b\\u1EA1n\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(FaUserCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 36\n    }\n  }), \" B\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 78\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 19\n    }\n  }, listUserRequest.filter(f => f.id === info.id).length ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 23\n    }\n  }, !statusFollow && /*#__PURE__*/React.createElement(Tooltip, {\n    placement: `bottom`,\n    trigger: `click`,\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      onClick: () => acceptFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 31\n      }\n    }, \"X\\xE1c nh\\u1EADn\"), /*#__PURE__*/React.createElement(\"p\", {\n      onClick: () => refuseFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 31\n      }\n    }, \"T\\u1EEB ch\\u1ED1i\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaUserClock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 37\n    }\n  }), \" Tr\\u1EA3 l\\u1EDDi k\\u1EBFt b\\u1EA1n \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 88\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 23\n    }\n  }, listMyRequest.filter(f => f.id === info.id).length ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 27\n    }\n  }, !statusFollow && /*#__PURE__*/React.createElement(Tooltip, {\n    placement: `bottom`,\n    trigger: `click`,\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        cursor: 'pointer'\n      },\n      onClick: () => unMyRequestFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    }, \"H\\u1EE7y l\\u1EDDi m\\u1EDDi k\\u1EBFt b\\u1EA1n\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 37\n    }\n  }), \" \\u0110\\xE3 g\\u1EEDi l\\u1EDDi m\\u1EDDi \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 83\n    }\n  })))) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 27\n    }\n  }, !statusFollow && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriendFunc(info.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(FaUserPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 78\n    }\n  }), \" Th\\xEAm b\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 124\n    }\n  }))))), statusFollow && statusFollow === 'remove_friend' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriendFunc(info.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaUserPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 68\n    }\n  }), \" Th\\xEAm b\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 114\n    }\n  })), statusFollow && statusFollow === 'accept_request' && /*#__PURE__*/React.createElement(Tooltip, {\n    placement: `bottom`,\n    trigger: `click`,\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        cursor: 'pointer'\n      },\n      onClick: () => unFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 25\n      }\n    }, \"H\\u1EE7y k\\u1EBFt b\\u1EA1n\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(FaUserCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 32\n    }\n  }), \" B\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 74\n    }\n  }))), statusFollow && statusFollow === 'refuse_request' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriendFunc(info.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaUserPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 68\n    }\n  }), \" Th\\xEAm b\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 114\n    }\n  })), statusFollow && statusFollow === 'send_request' && /*#__PURE__*/React.createElement(Tooltip, {\n    placement: `bottom`,\n    trigger: `click`,\n    title: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        cursor: 'pointer'\n      },\n      onClick: () => unMyRequestFriendFunc(info.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 25\n      }\n    }, \"H\\u1EE7y l\\u1EDDi m\\u1EDDi k\\u1EBFt b\\u1EA1n\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaCheck, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 29\n    }\n  }), \" \\u0110\\xE3 g\\u1EEDi l\\u1EDDi m\\u1EDDi \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 75\n    }\n  }))), statusFollow && statusFollow === 'remove_request' && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriendFunc(info.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FaUserPlus, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 68\n    }\n  }), \" Th\\xEAm b\\u1EA1n b\\xE8 \", loadingRequest && /*#__PURE__*/React.createElement(Spin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 114\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-timeline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar_\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 19\n    }\n  }, info.user_avatar_cropX === null ? /*#__PURE__*/React.createElement(\"img\", {\n    src: info.user_avatar,\n    alt: info.user_last_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    cloudName: \"mohi-vn\",\n    publicId: info.user_avatar + \".jpg\",\n    version: \"1607061343\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Transformation, {\n    height: info.user_avatar_cropH,\n    width: info.user_avatar_cropW,\n    x: info.user_avatar_cropX,\n    y: info.user_avatar_cropY,\n    crop: \"crop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 25\n    }\n  })))), idProfile === currentUser.user_username && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-select\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-select-active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-avatar-update\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"update-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AiFillCamera, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 21\n    }\n  }, \"C\\u1EADp nh\\u1EADt\")), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"update-avatar\",\n    accept: \"image/*\",\n    onChange: uploadAvatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 21\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 15\n    }\n  }, !loading && info && /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + info.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 38\n    }\n  }, info.user_first_name + ' ' + info.user_last_name), !loading && info.user_nick_name && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 53\n    }\n  }, \"(\", info.user_nick_name, \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-header-timeline-container\",\n    ref: refHeader,\n    style: styleHeader ? {\n      position: 'fixed',\n      top: '64px',\n      zIndex: 1000,\n      background: 'white',\n      width: '1140px'\n    } : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"profile-header-navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/timeline',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 19\n    }\n  }, \"D\\xF2ng th\\u1EDDi gian\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/about',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 19\n    }\n  }, \"Gi\\u1EDBi thi\\u1EC7u\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/gallery',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, \"\\u1EA2nh\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/profile/' + idProfile + '/friends',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 19\n    }\n  }, \"B\\u1EA1n b\\xE8 \", info.id === currentUser.id ? /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'rgba(0,0,0,0.5)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 23\n    }\n  }, list.length && !loadingfriendOfProfile ? list.length : null) : /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'rgba(0,0,0,0.5)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 23\n    }\n  }, mutialFriend.length && !loadingfriendOfProfile ? mutialFriend.length + ` bạn chung` : null)))))))));\n}\n\nexport default HeaderProfile;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Profiles/MyProfile/HeaderProfile.jsx"],"names":["React","useState","useEffect","useRef","Link","useParams","AiFillCamera","FaUserPlus","FaUserCheck","FaCheck","FaUserClock","BsThreeDots","BsPencil","PUBLIC_URL","useSelector","useDispatch","Tooltip","Spin","axios","toggleStatusPresentialModal","Image","Transformation","HeaderProfile","profile","friends","friendsRequest","refHeader","friendOfProfile","list","loadingfriendOfProfile","state","listUserRequest","listMyRequest","toggleSpan","setToggleSpan","toggleTopLeft","setToggleTopLeft","styleHeader","setStyleHeader","currentUser","JSON","parse","localStorage","getItem","info","loading","idProfile","mutialFriend","statusFollow","setStatusFollow","loadingRequest","setLoadingRequest","dispatch","isChangeCover","setIsChangeCover","map","fr","f","id","push","uploadCover","e","console","log","target","files","uploadAvatar","file","document","addEventListener","fixedOptionHead","removeEventListener","removeFixedOptionHead","curentRef","current","window","scrollY","handleShow","visibility","background","border","borderRadius","handleHide","addFriendFunc","idUser","post","follow_users_ReceivedUser","then","res","unFriendFunc","action","unMyRequestFriendFunc","acceptFriendFunc","follow_users_UserId","refuseFriendFunc","user_cover","user_first_name","user_last_name","user_username","filter","length","color","padding","cursor","user_avatar_cropX","user_avatar","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY","user_nick_name","position","top","zIndex","width"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from  'react';\r\nimport {Link, useParams} from 'react-router-dom';\r\nimport { AiFillCamera } from \"react-icons/ai\";\r\nimport { FaUserPlus, FaUserCheck, FaCheck, FaUserClock } from \"react-icons/fa\";\r\nimport { BsThreeDots, BsPencil } from \"react-icons/bs\";\r\nimport {PUBLIC_URL} from \"./../../../Constants/public.jsx\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {Tooltip, Spin} from 'antd';\r\nimport axios from 'axios';\r\nimport {toggleStatusPresentialModal} from './../../../Actions/index.jsx';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction HeaderProfile({ profile, friends, friendsRequest }){\r\n  const refHeader = useRef();\r\n  const {friendOfProfile, list, loadingfriendOfProfile} = useSelector(state => state.friends)\r\n  const listUserRequest = useSelector(state => state.friendsRequest.list);\r\n  const listMyRequest = useSelector(state => state.friendsRequest.listMyRequest);\r\n  const [toggleSpan, setToggleSpan] = useState();\r\n  const [toggleTopLeft, setToggleTopLeft] = useState();\r\n  const [styleHeader, setStyleHeader] = useState(false);\r\n  const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n  const { loading, info } = useSelector(state => state.profile);\r\n  const {idProfile} = useParams();\r\n  const mutialFriend = [];\r\n  const [statusFollow, setStatusFollow] = useState();\r\n  const [loadingRequest, setLoadingRequest] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [isChangeCover, setIsChangeCover] = useState(false);\r\n\r\n  friendOfProfile.map(fr => {\r\n    list.map(f => {\r\n      if(fr.id === f.id) mutialFriend.push(fr)\r\n    })\r\n  });\r\n\r\n  const uploadCover = (e) => {\r\n    console.log(e.target.files);\r\n    setIsChangeCover(true)\r\n  }\r\n\r\n  const uploadAvatar= (e) => {\r\n    const file = e.target.files[0];\r\n    dispatch(toggleStatusPresentialModal('modal_upload_avatar_profile', file))\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    document.addEventListener('scroll', fixedOptionHead, false);\r\n\r\n    return () => document.removeEventListener('scroll', removeFixedOptionHead, false)\r\n  })\r\n\r\n  const fixedOptionHead = () => {\r\n    let curentRef = refHeader.current\r\n    if(curentRef){\r\n      if(window.scrollY - 464 > 0){\r\n        setStyleHeader(true)\r\n      }else {\r\n        setStyleHeader(false)\r\n      }\r\n    }\r\n  }\r\n\r\n  const removeFixedOptionHead = () => {\r\n     setStyleHeader(false)\r\n  }\r\n\r\n  function handleShow(){\r\n    setToggleSpan({\r\n      visibility: 'visible'\r\n    })\r\n    setToggleTopLeft({\r\n      background: 'rgba(0,0,0,0.3)',\r\n      border: '2px solid white ',\r\n      borderRadius:'3px'\r\n    })\r\n  }\r\n\r\n  function handleHide(){\r\n    setToggleSpan({\r\n      visibility: 'hidden'\r\n    })\r\n    setToggleTopLeft({\r\n        background: 'none',\r\n        border: '2px solid transparent ',\r\n    })\r\n  }\r\n\r\n  const addFriendFunc = async (idUser) => {\r\n    setLoadingRequest(true)\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/add-friend\", {follow_users_ReceivedUser: idUser})\r\n    .then((res) => {\r\n      setLoadingRequest(false)\r\n      setStatusFollow('send_request')\r\n    })\r\n  }\r\n\r\n  const unFriendFunc = async (idUser) => {\r\n    setLoadingRequest(true)\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {id: idUser, action: 'unfriend'})\r\n    .then((res) => {\r\n      setLoadingRequest(false)\r\n      setStatusFollow('remove_friend')\r\n    })\r\n  }\r\n\r\n  const unMyRequestFriendFunc = async (idUser) => {\r\n    setLoadingRequest(true)\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {id: idUser, action: 'unRequestFriend'})\r\n    .then((res) => {\r\n      setLoadingRequest(false)\r\n      setStatusFollow('remove_request')\r\n    })\r\n  }\r\n\r\n  const acceptFriendFunc = async (idUser) => {\r\n    setLoadingRequest(true)\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/accept-friend\", {follow_users_UserId: idUser})\r\n    .then((res) => {\r\n      setLoadingRequest(false)\r\n      setStatusFollow('accept_request')\r\n    })\r\n  }\r\n\r\n  const refuseFriendFunc = async (idUser) => {\r\n    setLoadingRequest(true)\r\n    await axios.post(\"https://www.api.mohi.vn/api/auth/refuse-friend\", {id: idUser, action: 'refuseFriend'})\r\n    .then((res) => {\r\n      setLoadingRequest(false)\r\n      setStatusFollow('refuse_request')\r\n    })\r\n  }\r\n\r\n  return(\r\n    <>\r\n      <div className=\"profile-header\">\r\n        <div className=\"profile-header-container\">\r\n          <div\r\n            className=\"profile-header-cover\"\r\n            onMouseOver={() => handleShow()}\r\n            onMouseOut={() => handleHide()}\r\n          >\r\n            <div className=\"profile-header-cover-container\">\r\n              <div className=\"profile-header-cover-img\">\r\n                <img src={info.user_cover} alt={info.user_first_name + ' ' + info.user_last_name} />\r\n              </div>\r\n            </div>\r\n            {idProfile === currentUser.user_username && <div className=\"profile-header-cover-top-left\">\r\n              <label htmlFor=\"update-cover\" style={toggleTopLeft}>\r\n              <AiFillCamera\r\n              />\r\n              <span style={toggleSpan}>Cập nhập ảnh bìa</span>\r\n              </label>\r\n              <input type=\"file\" id=\"update-cover\" accept=\"image/*\" onChange={uploadCover}/>\r\n            </div>}\r\n            <div className=\"profile-header-cover-bottom-right\">\r\n              {idProfile === currentUser.user_username ?\r\n                <div className=\"button-view-history-action-profile\">\r\n                  <Link to={'/profile/' + info.user_username + '/activity-log'}><button type=\"submit\"><BsThreeDots /> Nhật kí hoạt động</button></Link>\r\n                </div>\r\n              :\r\n                <div className=\"button-view-history-action-profile user-profile-button\">\r\n                  {list.filter(f=> f.id === info.id).length ?\r\n                    <React.Fragment>\r\n                      {!statusFollow &&\r\n                        <Tooltip\r\n                          placement={`bottom`}\r\n                          trigger={`click`}\r\n                          title={\r\n                            <div\r\n                              style={{\r\n                                background: 'rgba(0,0,0,0.8)',\r\n                                color: 'white',\r\n                                padding: '5px 10px',\r\n                                cursor: 'pointer'\r\n                              }}\r\n                              onClick={() => unFriendFunc(info.id) }\r\n                            >\r\n                              Hủy kết bạn\r\n                            </div>\r\n                          }\r\n                        >\r\n                          <button ><FaUserCheck /> Bạn bè {loadingRequest && <Spin />}</button>\r\n                        </Tooltip>\r\n                      }\r\n                    </React.Fragment>\r\n                  :\r\n                  <React.Fragment>\r\n                    {listUserRequest.filter(f=> f.id === info.id).length ?\r\n                      <React.Fragment>\r\n                        {!statusFollow &&\r\n                          <Tooltip\r\n                            placement={`bottom`}\r\n                            trigger={`click`}\r\n                            title={\r\n                              <div\r\n                                style={{\r\n                                  background: 'rgba(0,0,0,0.8)',\r\n                                  color: 'white',\r\n                                  padding: '5px 10px',\r\n                                  cursor: 'pointer'\r\n                                }}\r\n                              >\r\n                              <p onClick={() => acceptFriendFunc(info.id) }>Xác nhận</p>\r\n                              <p onClick={() => refuseFriendFunc(info.id) }>Từ chối</p>\r\n                              </div>\r\n                            }\r\n                          >\r\n                            <button><FaUserClock /> Trả lời kết bạn {loadingRequest && <Spin />}</button>\r\n                          </Tooltip>\r\n                        }\r\n                      </React.Fragment>\r\n                      :\r\n                      <React.Fragment>\r\n                        {listMyRequest.filter(f=> f.id === info.id).length ?\r\n                          <React.Fragment>\r\n                            {!statusFollow &&\r\n                            <Tooltip\r\n                              placement={`bottom`}\r\n                              trigger={`click`}\r\n                              title={\r\n                                <div\r\n                                  style={{\r\n                                    background: 'rgba(0,0,0,0.8)',\r\n                                    color: 'white',\r\n                                    padding: '5px 10px',\r\n                                    cursor: 'pointer'\r\n                                  }}\r\n                                  onClick={() => unMyRequestFriendFunc(info.id) }\r\n                                >\r\n                                  Hủy lời mời kết bạn\r\n                                </div>\r\n                              }\r\n                            >\r\n                            <button><FaCheck /> Đã gửi lời mời {loadingRequest && <Spin />}</button>\r\n                            </Tooltip>\r\n                            }\r\n                          </React.Fragment>\r\n                          :\r\n                          <React.Fragment>\r\n                            {!statusFollow &&\r\n                              <button onClick={() => addFriendFunc(info.id)}><FaUserPlus /> Thêm bạn bè {loadingRequest && <Spin />}</button>\r\n                            }\r\n                          </React.Fragment>\r\n                        }\r\n                      </React.Fragment>\r\n                    }\r\n                  </React.Fragment>\r\n                  }\r\n                  {statusFollow && statusFollow === 'remove_friend' &&\r\n                    <button onClick={() => addFriendFunc(info.id)}><FaUserPlus /> Thêm bạn bè {loadingRequest && <Spin />}</button>\r\n                  }\r\n                  {statusFollow && statusFollow === 'accept_request' &&\r\n                    <Tooltip\r\n                      placement={`bottom`}\r\n                      trigger={`click`}\r\n                      title={\r\n                        <div\r\n                          style={{\r\n                            background: 'rgba(0,0,0,0.8)',\r\n                            color: 'white',\r\n                            padding: '5px 10px',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          onClick={() => unFriendFunc(info.id) }\r\n                        >\r\n                          Hủy kết bạn\r\n                        </div>\r\n                      }\r\n                    >\r\n                      <button ><FaUserCheck /> Bạn bè {loadingRequest && <Spin />}</button>\r\n                    </Tooltip>\r\n                  }\r\n                  {statusFollow && statusFollow === 'refuse_request' &&\r\n                    <button onClick={() => addFriendFunc(info.id)}><FaUserPlus /> Thêm bạn bè {loadingRequest && <Spin />}</button>\r\n                  }\r\n                  {statusFollow && statusFollow === 'send_request' &&\r\n                    <Tooltip\r\n                      placement={`bottom`}\r\n                      trigger={`click`}\r\n                      title={\r\n                        <div\r\n                          style={{\r\n                            background: 'rgba(0,0,0,0.8)',\r\n                            color: 'white',\r\n                            padding: '5px 10px',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                          onClick={() => unMyRequestFriendFunc(info.id) }\r\n                        >\r\n                          Hủy lời mời kết bạn\r\n                        </div>\r\n                      }\r\n                    >\r\n                    <button><FaCheck /> Đã gửi lời mời {loadingRequest && <Spin />}</button>\r\n                    </Tooltip>\r\n                  }\r\n                  {statusFollow && statusFollow === 'remove_request' &&\r\n                    <button onClick={() => addFriendFunc(info.id)}><FaUserPlus /> Thêm bạn bè {loadingRequest && <Spin />}</button>\r\n                  }\r\n                </div>\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"profile-header-timeline\">\r\n            <div className=\"profile-header-avatar\">\r\n              <div className=\"profile-header-avatar_\">\r\n                <div className=\"profile-header-avatar-container\">\r\n                  <div className=\"profile-header-avatar-img\">\r\n                    {info.user_avatar_cropX === null ?\r\n                      <img src={info.user_avatar} alt={info.user_last_name} />\r\n                      :\r\n                      <Image cloudName=\"mohi-vn\" publicId={info.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                        <Transformation height={info.user_avatar_cropH}  width={info.user_avatar_cropW} x={info.user_avatar_cropX} y={info.user_avatar_cropY} crop=\"crop\" />\r\n                      </Image>\r\n                    }\r\n                  </div>\r\n                </div>\r\n                {idProfile === currentUser.user_username && <div className=\"profile-header-avatar-select\">\r\n                  <div className=\"profile-header-avatar-select-active\">\r\n                    <div className=\"profile-header-avatar-update\">\r\n                    <label htmlFor=\"update-avatar\">\r\n                    <AiFillCamera\r\n                    />\r\n                    <div>Cập nhật</div>\r\n                    </label>\r\n                    <input type=\"file\" id=\"update-avatar\" accept=\"image/*\" onChange={uploadAvatar}/>\r\n                    </div>\r\n                  </div>\r\n                </div>}\r\n              </div >\r\n              <div className=\"profile-header-name\">\r\n                {!loading && info && <Link to={'/profile/' + info.user_username}>{info.user_first_name + ' ' + info.user_last_name}</Link>}\r\n                {!loading && info.user_nick_name && <p>({info.user_nick_name})</p>}\r\n              </div>\r\n            </div>\r\n            <div className=\"profile-header-timeline-container\" ref={refHeader} style={styleHeader ? {position: 'fixed', top: '64px', zIndex: 1000, background: 'white', width: '1140px'} : null}>\r\n              <ul className=\"profile-header-navigation\">\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/timeline'}>Dòng thời gian</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/about'}>Giới thiệu</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/gallery'}>Ảnh</Link>\r\n                </li>\r\n                <li>\r\n                  <Link to={'/profile/' + idProfile + '/friends'}>\r\n                    Bạn bè {info.id === currentUser.id ?\r\n                      <small style={{color: 'rgba(0,0,0,0.5)'}}>{list.length && !loadingfriendOfProfile ? list.length : null}</small>\r\n                      :\r\n                      <small style={{color: 'rgba(0,0,0,0.5)'}}>\r\n                        {mutialFriend.length && !loadingfriendOfProfile ? mutialFriend.length + ` bạn chung` : null}\r\n                      </small>\r\n                      }\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default HeaderProfile;\r\n"]},"metadata":{},"sourceType":"module"}