{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import ChangePassword from'./../app/Authen/ChangePassword.jsx';import axios from'axios';import{API_CHANGE_PASSWORD}from'./../Constants/Api.jsx';import{useDispatch}from'react-redux';import{toggleStatusSpin}from'./../Actions/index.jsx';import{useHistory}from'react-router-dom';function ChangePassContainer(){var dispatch=useDispatch();var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var onSubmitChangePass=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://load Spin\ndispatch(toggleStatusSpin());_context.next=3;return axios.post('https://www.api.mohi.vn/api/change-password',data).then(function(res){console.log(res);localStorage.setItem('ustk',JSON.stringify(res.data));history.push('/');}).catch(function(err){setError(Math.random());});case 3://close Spin\ndispatch(toggleStatusSpin());case 4:case\"end\":return _context.stop();}}},_callee);}));return function onSubmitChangePass(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(ChangePassword,{onSubmitChangePass:onSubmitChangePass});}export default ChangePassContainer;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Containers/ChangePassContainer.jsx"],"names":["React","useState","ChangePassword","axios","API_CHANGE_PASSWORD","useDispatch","toggleStatusSpin","useHistory","ChangePassContainer","dispatch","history","error","setError","onSubmitChangePass","data","post","then","res","console","log","localStorage","setItem","JSON","stringify","push","catch","err","Math","random"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,mBAAR,KAAkC,wBAAlC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,gBAAT,KAAiC,wBAAjC,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CAEA,QAASC,CAAAA,mBAAT,EAA8B,CAC5B,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAMK,CAAAA,OAAO,CAAGH,UAAU,EAA1B,CAF4B,cAGFN,QAAQ,EAHN,wCAGrBU,KAHqB,eAGdC,QAHc,eAK5B,GAAMC,CAAAA,kBAAkB,0FAAG,iBAAOC,IAAP,kHACzB;AACAL,QAAQ,CAACH,gBAAgB,EAAjB,CAAR,CAFyB,sBAInBH,CAAAA,KAAK,CAACY,IAAN,CAAW,6CAAX,CAA0DD,IAA1D,EACLE,IADK,CACA,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACAG,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACH,IAAnB,CAA7B,EACAJ,OAAO,CAACc,IAAR,CAAa,GAAb,EACD,CALK,EAMLC,KANK,CAMC,SAACC,GAAD,CAAS,CACdd,QAAQ,CAACe,IAAI,CAACC,MAAL,EAAD,CAAR,CACD,CARK,CAJmB,QAczB;AACAnB,QAAQ,CAACH,gBAAgB,EAAjB,CAAR,CAfyB,sDAAH,kBAAlBO,CAAAA,kBAAkB,4CAAxB,CAkBA,mBACE,oBAAC,cAAD,EAAgB,kBAAkB,CAAEA,kBAApC,EADF,CAGD,CAED,cAAeL,CAAAA,mBAAf","sourcesContent":["import React, {useState} from 'react';\r\nimport ChangePassword from './../app/Authen/ChangePassword.jsx';\r\nimport axios from 'axios';\r\nimport {API_CHANGE_PASSWORD} from './../Constants/Api.jsx';\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleStatusSpin } from './../Actions/index.jsx';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nfunction ChangePassContainer(){\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [error, setError] = useState();\r\n\r\n  const onSubmitChangePass = async (data) => {\r\n    //load Spin\r\n    dispatch(toggleStatusSpin())\r\n\r\n    await axios.post('https://www.api.mohi.vn/api/change-password', data)\r\n    .then((res) => {\r\n      console.log(res);\r\n      localStorage.setItem('ustk', JSON.stringify(res.data));\r\n      history.push('/')\r\n    })\r\n    .catch((err) => {\r\n      setError(Math.random())\r\n    })\r\n\r\n    //close Spin\r\n    dispatch(toggleStatusSpin())\r\n  }\r\n\r\n  return(\r\n    <ChangePassword onSubmitChangePass={onSubmitChangePass} />\r\n  )\r\n}\r\n\r\nexport default ChangePassContainer;\r\n"]},"metadata":{},"sourceType":"module"}