{"ast":null,"code":"import _classCallCheck from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  max-height: 200px;\\n  overflow-y: auto;\\n  font-size: 14px;\\n  padding: 5px 10px;\\n  margin-top: 10px;\\n  border: 0.5px solid rgba(0,0,0,0.1);\\n  border-radius:30px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import'draft-js-mention-plugin/lib/plugin.css';import style from'styled-components';import React,{Component}from'react';import{EditorState}from'draft-js';import Editor from'draft-js-plugins-editor';import createMentionPlugin,{defaultSuggestionsFilter}from'draft-js-mention-plugin';import editorStyles from'./editorStyles.css';var mentions=[{name:'Matthew Russell',link:'https://twitter.com/mrussell247',avatar:'https://pbs.twimg.com/profile_images/517863945/mattsailing_400x400.jpg'},{name:'Julian Krispel-Samsel',link:'https://twitter.com/juliandoesstuff',avatar:'https://avatars2.githubusercontent.com/u/1188186?v=3&s=400'},{name:'Jyoti Puri',link:'https://twitter.com/jyopur',avatar:'https://avatars0.githubusercontent.com/u/2182307?v=3&s=400'},{name:'Max Stoiber',link:'https://twitter.com/mxstbr',avatar:'https://pbs.twimg.com/profile_images/763033229993574400/6frGyDyA_400x400.jpg'},{name:'Nik Graf',link:'https://twitter.com/nikgraf',avatar:'https://avatars0.githubusercontent.com/u/223045?v=3&s=400'},{name:'Pascal Brandt',link:'https://twitter.com/psbrandt',avatar:'https://pbs.twimg.com/profile_images/688487813025640448/E6O6I011_400x400.png'}];var StyleEditorMention=style.div(_templateObject());var SimpleMentionEditor=/*#__PURE__*/function(_Component){_inherits(SimpleMentionEditor,_Component);var _super=_createSuper(SimpleMentionEditor);function SimpleMentionEditor(props){var _this;_classCallCheck(this,SimpleMentionEditor);_this=_super.call(this,props);_this.state={editorState:EditorState.createEmpty(),suggestions:mentions,listMention:[]};_this.onChange=function(editorState){_this.setState({editorState:editorState});//\n// let currentContent = editorState .getCurrentContent();\n// let raw = convertToRaw(currentContent);\n// for(let key in raw.entityMap){\n//   const ent = raw.entityMap[key];\n//   if(ent.type === 'mention'){\n//       this.props.showMentionList(ent.data.mention);\n//   }\n// }\n};_this.onSearchChange=function(_ref){var value=_ref.value;_this.setState({suggestions:defaultSuggestionsFilter(value,mentions)});};_this.onAddMention=function(mention){_this.props.showMentionList(mention);};_this.mentionPlugin=createMentionPlugin({mentions:mentions,entityMutability:'IMMUTABLE',supportWhitespace:true});return _this;}_createClass(SimpleMentionEditor,[{key:\"render\",value:function render(){var _this2=this;var MentionSuggestions=this.mentionPlugin.MentionSuggestions;var plugins=[this.mentionPlugin];return/*#__PURE__*/React.createElement(\"div\",{className:editorStyles.editor},/*#__PURE__*/React.createElement(StyleEditorMention,null,/*#__PURE__*/React.createElement(Editor,{editorState:this.state.editorState,onChange:this.onChange,plugins:plugins,placeholder:\"G\\u1EAFn th\\u1EBB ai \\u0111\\xF3...\",ref:function ref(element){_this2.editor=element;}})),/*#__PURE__*/React.createElement(MentionSuggestions,{onSearchChange:this.onSearchChange,suggestions:this.state.suggestions,onAddMention:this.onAddMention}));}}]);return SimpleMentionEditor;}(Component);export{SimpleMentionEditor as default};","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Profiles/MyProfile/EditorMention.jsx"],"names":["style","React","Component","EditorState","Editor","createMentionPlugin","defaultSuggestionsFilter","editorStyles","mentions","name","link","avatar","StyleEditorMention","div","SimpleMentionEditor","props","state","editorState","createEmpty","suggestions","listMention","onChange","setState","onSearchChange","value","onAddMention","mention","showMentionList","mentionPlugin","entityMutability","supportWhitespace","MentionSuggestions","plugins","editor","element"],"mappings":"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","sourcesContent":["import 'draft-js-mention-plugin/lib/plugin.css';\r\nimport style from 'styled-components';\r\nimport React, { Component } from 'react';\r\nimport { EditorState } from 'draft-js';\r\nimport Editor from 'draft-js-plugins-editor';\r\nimport createMentionPlugin, { defaultSuggestionsFilter } from 'draft-js-mention-plugin';\r\nimport editorStyles from './editorStyles.css';\r\n\r\nconst mentions = [\r\n  {\r\n    name: 'Matthew Russell',\r\n    link: 'https://twitter.com/mrussell247',\r\n    avatar: 'https://pbs.twimg.com/profile_images/517863945/mattsailing_400x400.jpg',\r\n  },\r\n  {\r\n    name: 'Julian Krispel-Samsel',\r\n    link: 'https://twitter.com/juliandoesstuff',\r\n    avatar: 'https://avatars2.githubusercontent.com/u/1188186?v=3&s=400',\r\n  },\r\n  {\r\n    name: 'Jyoti Puri',\r\n    link: 'https://twitter.com/jyopur',\r\n    avatar: 'https://avatars0.githubusercontent.com/u/2182307?v=3&s=400',\r\n  },\r\n  {\r\n    name: 'Max Stoiber',\r\n    link: 'https://twitter.com/mxstbr',\r\n    avatar: 'https://pbs.twimg.com/profile_images/763033229993574400/6frGyDyA_400x400.jpg',\r\n  },\r\n  {\r\n    name: 'Nik Graf',\r\n    link: 'https://twitter.com/nikgraf',\r\n    avatar: 'https://avatars0.githubusercontent.com/u/223045?v=3&s=400',\r\n  },\r\n  {\r\n    name: 'Pascal Brandt',\r\n    link: 'https://twitter.com/psbrandt',\r\n    avatar: 'https://pbs.twimg.com/profile_images/688487813025640448/E6O6I011_400x400.png',\r\n  },\r\n];\r\n\r\nconst StyleEditorMention = style.div`\r\n  width: 100%;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  font-size: 14px;\r\n  padding: 5px 10px;\r\n  margin-top: 10px;\r\n  border: 0.5px solid rgba(0,0,0,0.1);\r\n  border-radius:30px;\r\n`;\r\n\r\nexport default class SimpleMentionEditor extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.mentionPlugin = createMentionPlugin({\r\n      mentions,\r\n      entityMutability: 'IMMUTABLE',\r\n      supportWhitespace: true\r\n    });\r\n  }\r\n\r\n  state = {\r\n    editorState: EditorState.createEmpty(),\r\n    suggestions: mentions,\r\n    listMention: []\r\n  };\r\n\r\n  onChange = (editorState) => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n    //\r\n    // let currentContent = editorState .getCurrentContent();\r\n    // let raw = convertToRaw(currentContent);\r\n    // for(let key in raw.entityMap){\r\n    //   const ent = raw.entityMap[key];\r\n    //   if(ent.type === 'mention'){\r\n    //       this.props.showMentionList(ent.data.mention);\r\n    //   }\r\n    // }\r\n  };\r\n\r\n  onSearchChange = ({ value }) => {\r\n    this.setState({\r\n      suggestions: defaultSuggestionsFilter(value, mentions),\r\n    });\r\n  };\r\n\r\n  onAddMention = (mention) => {\r\n    this.props.showMentionList(mention);\r\n  }\r\n\r\n  render() {\r\n    const { MentionSuggestions } = this.mentionPlugin;\r\n    const plugins = [this.mentionPlugin];\r\n\r\n    return (\r\n      <div className={editorStyles.editor}>\r\n        <StyleEditorMention>\r\n          <Editor\r\n            editorState={this.state.editorState}\r\n            onChange={this.onChange}\r\n            plugins={plugins}\r\n            placeholder=\"Gắn thẻ ai đó...\"\r\n            ref={(element) => { this.editor = element; }}\r\n          />\r\n        </StyleEditorMention>\r\n        <MentionSuggestions\r\n          onSearchChange={this.onSearchChange}\r\n          suggestions={this.state.suggestions}\r\n          onAddMention={this.onAddMention}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}