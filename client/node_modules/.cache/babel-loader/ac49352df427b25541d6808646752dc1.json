{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Messenger from'./../Components/Messenger/index.jsx';import axios from'axios';import{useSelector,useDispatch}from'react-redux';import{requestOneMessage}from'./../Actions/index.jsx';import{responseOneMessage}from'./../Actions/index.jsx';import{requestMoreOneMessage}from'./../Actions/index.jsx';import{responseMoreOneMessage}from'./../Actions/index.jsx';function MessengerContainer(_ref){var oneMessage=_ref.oneMessage;var _useSelector=useSelector(function(state){return state.oneMessage;}),currentPage=_useSelector.currentPage;var _useState=useState(),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var dispatch=useDispatch();useEffect(function(){if(currentPage>1){dispatch(requestMoreOneMessage());getMoreOneMessage();}},[currentPage]);var getMoreOneMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:'GET',url:\"https://www.api.mohi.vn/api/auth/detail-message/\"+id,params:{page:currentPage}}).then(function(res){dispatch(responseMoreOneMessage(res.data));}).catch(function(e){if(axios.isCancel(e))return;});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getMoreOneMessage(){return _ref2.apply(this,arguments);};}();var getMessageOneUser=function getMessageOneUser(idUser){setId(idUser);dispatch(requestOneMessage());axios.get('https://www.api.mohi.vn/api/auth/detail-message/'+idUser).then(function(res){dispatch(responseOneMessage(res.data));}).catch(function(e){console.log(e);});};return/*#__PURE__*/React.createElement(Messenger,{getMessageOneUser:getMessageOneUser});}export default MessengerContainer;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Containers/MessengerContainer.jsx"],"names":["React","useEffect","useState","Messenger","axios","useSelector","useDispatch","requestOneMessage","responseOneMessage","requestMoreOneMessage","responseMoreOneMessage","MessengerContainer","oneMessage","state","currentPage","id","setId","dispatch","getMoreOneMessage","method","url","params","page","then","res","data","catch","e","isCancel","getMessageOneUser","idUser","get","console","log"],"mappings":"gbAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,iBAAT,KAAkC,wBAAlC,CACA,OAASC,kBAAT,KAAmC,wBAAnC,CACA,OAASC,qBAAT,KAAsC,wBAAtC,CACA,OAASC,sBAAT,KAAuC,wBAAvC,CAEA,QAASC,CAAAA,kBAAT,MAAyC,IAAZC,CAAAA,UAAY,MAAZA,UAAY,kBACfP,WAAW,CAAC,SAAAQ,KAAK,QAAIA,CAAAA,KAAK,CAACD,UAAV,EAAN,CADI,CAC/BE,WAD+B,cAC/BA,WAD+B,eAEnBZ,QAAQ,EAFW,wCAEhCa,EAFgC,eAE5BC,KAF4B,eAGvC,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEAL,SAAS,CAAC,UAAM,CACd,GAAGa,WAAW,CAAG,CAAjB,CAAmB,CACjBG,QAAQ,CAACR,qBAAqB,EAAtB,CAAR,CACAS,iBAAiB,GAClB,CACF,CALQ,CAKN,CAACJ,WAAD,CALM,CAAT,CAOA,GAAMI,CAAAA,iBAAiB,2FAAG,yJAClBd,CAAAA,KAAK,CAAC,CACRe,MAAM,CAAE,KADA,CAERC,GAAG,CAAE,mDAAoDL,EAFjD,CAGRM,MAAM,CAAE,CAACC,IAAI,CAAGR,WAAR,CAHA,CAAD,CAAL,CAKHS,IALG,CAKE,SAAAC,GAAG,CAAG,CACVP,QAAQ,CAACP,sBAAsB,CAACc,GAAG,CAACC,IAAL,CAAvB,CAAR,CACD,CAPG,EAQHC,KARG,CAQG,SAAAC,CAAC,CAAI,CACV,GAAGvB,KAAK,CAACwB,QAAN,CAAeD,CAAf,CAAH,CAAsB,OACvB,CAVG,CADkB,uDAAH,kBAAjBT,CAAAA,iBAAiB,2CAAvB,CAcA,GAAMW,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,MAAD,CAAY,CAClCd,KAAK,CAACc,MAAD,CAAL,CACAb,QAAQ,CAACV,iBAAiB,EAAlB,CAAR,CAEAH,KAAK,CAAC2B,GAAN,CAAU,mDAAoDD,MAA9D,EACCP,IADD,CACM,SAACC,GAAD,CAAS,CACbP,QAAQ,CAACT,kBAAkB,CAACgB,GAAG,CAACC,IAAL,CAAnB,CAAR,CACD,CAHD,EAICC,KAJD,CAIO,SAACC,CAAD,CAAO,CACZK,OAAO,CAACC,GAAR,CAAYN,CAAZ,EACD,CAND,EAOH,CAXD,CAaA,mBACE,oBAAC,SAAD,EAAW,iBAAiB,CAAEE,iBAA9B,EADF,CAGD,CAED,cAAelB,CAAAA,kBAAf","sourcesContent":["import React,{ useEffect, useState} from 'react';\r\nimport Messenger from './../Components/Messenger/index.jsx';\r\nimport axios from 'axios';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { requestOneMessage } from './../Actions/index.jsx';\r\nimport { responseOneMessage } from './../Actions/index.jsx';\r\nimport { requestMoreOneMessage } from './../Actions/index.jsx';\r\nimport { responseMoreOneMessage } from './../Actions/index.jsx';\r\n\r\nfunction MessengerContainer({oneMessage}){\r\n  const { currentPage } = useSelector(state => state.oneMessage);\r\n  const [id, setId] = useState();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if(currentPage > 1){\r\n      dispatch(requestMoreOneMessage())\r\n      getMoreOneMessage();\r\n    }\r\n  }, [currentPage])\r\n\r\n  const getMoreOneMessage = async () => {\r\n    await axios({\r\n        method: 'GET',\r\n        url: \"https://www.api.mohi.vn/api/auth/detail-message/\"+ id,\r\n        params: {page : currentPage}\r\n      })\r\n      .then(res =>{\r\n        dispatch(responseMoreOneMessage(res.data))\r\n      })\r\n      .catch(e => {\r\n        if(axios.isCancel(e)) return\r\n      })\r\n  }\r\n\r\n  const getMessageOneUser = (idUser) => {\r\n      setId(idUser)\r\n      dispatch(requestOneMessage())\r\n\r\n      axios.get('https://www.api.mohi.vn/api/auth/detail-message/'+ idUser)\r\n      .then((res) => {\r\n        dispatch(responseOneMessage(res.data))\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n      })\r\n  }\r\n\r\n  return(\r\n    <Messenger getMessageOneUser={getMessageOneUser}/>\r\n  )\r\n}\r\n\r\nexport default MessengerContainer;\r\n"]},"metadata":{},"sourceType":"module"}