{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import'./VideoGroup.css';import Video from'./Video.jsx';function VideoGroup(){var ref=useRef();var _useState=useState(),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];var _useState3=useState([1,2,3,4,5,6]),_useState4=_slicedToArray(_useState3,2),listVideo=_useState4[0],setListVideo=_useState4[1];var getCurrentTime=function getCurrentTime(){setImg(capture(ref.current));};var dataURLtoFile=function dataURLtoFile(dataurl,filename){var arr=dataurl.split(','),mime=arr[0].match(/:(.*?);/)[1],bstr=atob(arr[1]),n=bstr.length,u8arr=new Uint8Array(n);while(n--){u8arr[n]=bstr.charCodeAt(n);}return new File([u8arr],filename,{type:mime});};var capture=function capture(video){var w=video.videoWidth;var h=video.videoHeight;var canvas=document.createElement('canvas');canvas.width=w;canvas.height=h;var ctx=canvas.getContext('2d');ctx.drawImage(video,0,0,w,h);console.log(canvas);var dataURI=canvas.toDataURL('image/jpeg');// let a =\nvar boj={canvas:canvas,file:dataURLtoFile(dataURI,\"\".concat(+new Date(),\".jpg\")),base64:dataURI};console.log(boj);return boj.base64;};return/*#__PURE__*/React.createElement(\"div\",{className:\"filter-video-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"filter-video-title\"},/*#__PURE__*/React.createElement(\"span\",null,\"Video\")),listVideo.map(function(video,index){return/*#__PURE__*/React.createElement(Video,{key:index});}));}export default VideoGroup;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Group/VideoGroup.jsx"],"names":["React","useRef","useState","Video","VideoGroup","ref","img","setImg","listVideo","setListVideo","getCurrentTime","capture","current","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","video","w","videoWidth","h","videoHeight","canvas","document","createElement","width","height","ctx","getContext","drawImage","console","log","dataURI","toDataURL","boj","file","Date","base64","map","index"],"mappings":"iJAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,CAAuBC,QAAvB,KAAsC,OAAtC,CACA,MAAO,kBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,CAEA,QAASC,CAAAA,UAAT,EAAqB,CACnB,GAAMC,CAAAA,GAAG,CAAGJ,MAAM,EAAlB,CADmB,cAEGC,QAAQ,EAFX,wCAEZI,GAFY,eAEPC,MAFO,8BAGeL,QAAQ,CAAC,CAAC,CAAD,CAAG,CAAH,CAAK,CAAL,CAAO,CAAP,CAAS,CAAT,CAAW,CAAX,CAAD,CAHvB,yCAGZM,SAHY,eAGDC,YAHC,eAInB,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BH,MAAM,CAACI,OAAO,CAACN,GAAG,CAACO,OAAL,CAAR,CAAN,CACD,CAFD,CAIA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,OAAD,CAAUC,QAAV,CAAuB,CAC3C,GAAIC,CAAAA,GAAG,CAAGF,OAAO,CAACG,KAAR,CAAc,GAAd,CAAV,CAA8BC,IAAI,CAAGF,GAAG,CAAC,CAAD,CAAH,CAAOG,KAAP,CAAa,SAAb,EAAwB,CAAxB,CAArC,CACEC,IAAI,CAAGC,IAAI,CAACL,GAAG,CAAC,CAAD,CAAJ,CADb,CACuBM,CAAC,CAAGF,IAAI,CAACG,MADhC,CACwCC,KAAK,CAAG,GAAIC,CAAAA,UAAJ,CAAeH,CAAf,CADhD,CAEA,MAAOA,CAAC,EAAR,CAAY,CACVE,KAAK,CAACF,CAAD,CAAL,CAAWF,IAAI,CAACM,UAAL,CAAgBJ,CAAhB,CAAX,CACD,CACD,MAAO,IAAIK,CAAAA,IAAJ,CAAS,CAACH,KAAD,CAAT,CAAkBT,QAAlB,CAA4B,CAAEa,IAAI,CAAEV,IAAR,CAA5B,CAAP,CACD,CAPD,CASA,GAAMP,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACkB,KAAD,CAAW,CACzB,GAAIC,CAAAA,CAAC,CAAGD,KAAK,CAACE,UAAd,CACA,GAAIC,CAAAA,CAAC,CAAGH,KAAK,CAACI,WAAd,CACA,GAAIC,CAAAA,MAAM,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb,CACAF,MAAM,CAACG,KAAP,CAAeP,CAAf,CACAI,MAAM,CAACI,MAAP,CAAgBN,CAAhB,CACA,GAAIO,CAAAA,GAAG,CAAGL,MAAM,CAACM,UAAP,CAAkB,IAAlB,CAAV,CACAD,GAAG,CAACE,SAAJ,CAAcZ,KAAd,CAAqB,CAArB,CAAwB,CAAxB,CAA2BC,CAA3B,CAA8BE,CAA9B,EACAU,OAAO,CAACC,GAAR,CAAYT,MAAZ,EACA,GAAIU,CAAAA,OAAO,CAAGV,MAAM,CAACW,SAAP,CAAiB,YAAjB,CAAd,CACA;AACA,GAAIC,CAAAA,GAAG,CAAC,CACNZ,MAAM,CAACA,MADD,CAENa,IAAI,CAAClC,aAAa,CAAC+B,OAAD,WAAa,CAAC,GAAII,CAAAA,IAAJ,EAAd,SAFZ,CAGNC,MAAM,CAACL,OAHD,CAAR,CAKAF,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACA,MAAOA,CAAAA,GAAG,CAACG,MAAX,CACD,CAlBD,CAoBA,mBACE,2BAAK,SAAS,CAAC,wBAAf,eACE,2BAAK,SAAS,CAAC,oBAAf,eACE,wCADF,CADF,CAIGzC,SAAS,CAAC0C,GAAV,CAAc,SAACrB,KAAD,CAAQsB,KAAR,CAAkB,CAC/B,mBACE,oBAAC,KAAD,EAAO,GAAG,CAAEA,KAAZ,EADF,CAGD,CAJA,CAJH,CADF,CAYD,CAED,cAAe/C,CAAAA,UAAf","sourcesContent":["import React, {useRef, useState} from 'react';\r\nimport './VideoGroup.css';\r\nimport Video from './Video.jsx';\r\n\r\nfunction VideoGroup(){\r\n  const ref = useRef();\r\n  const [img, setImg] = useState()\r\n  const [listVideo, setListVideo] = useState([1,2,3,4,5,6]);\r\n  const getCurrentTime = () => {\r\n    setImg(capture(ref.current))\r\n  }\r\n\r\n  const dataURLtoFile = (dataurl, filename) => {\r\n    var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n      bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n    while (n--) {\r\n      u8arr[n] = bstr.charCodeAt(n);\r\n    }\r\n    return new File([u8arr], filename, { type: mime });\r\n  }\r\n\r\n  const capture = (video) => {\r\n    let w = video.videoWidth ;\r\n    let h = video.videoHeight ;\r\n    let canvas = document.createElement('canvas');\r\n    canvas.width = w;\r\n    canvas.height = h;\r\n    let ctx = canvas.getContext('2d');\r\n    ctx.drawImage(video, 0, 0, w, h);\r\n    console.log(canvas);\r\n    let dataURI = canvas.toDataURL('image/jpeg');\r\n    // let a =\r\n    let boj={\r\n      canvas:canvas,\r\n      file:dataURLtoFile(dataURI, `${+new Date()}.jpg`),\r\n      base64:dataURI\r\n    }\r\n    console.log(boj);\r\n    return boj.base64;\r\n  }\r\n\r\n  return(\r\n    <div className=\"filter-video-container\">\r\n      <div className=\"filter-video-title\">\r\n        <span>Video</span>\r\n      </div>\r\n      {listVideo.map((video, index) => {\r\n        return(\r\n          <Video key={index}/>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoGroup;\r\n"]},"metadata":{},"sourceType":"module"}