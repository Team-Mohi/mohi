{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from'react';import PostImage from'./PostImage.jsx';import CommentEditor from'./CommentEditor.jsx';import CommentParent from'./CommentParent.jsx';import{Link}from'react-router-dom';import{MdPublic,MdNotificationsOff,MdDelete}from\"react-icons/md\";import{AiOutlineLike,AiOutlineIssuesClose}from\"react-icons/ai\";import{BsThreeDots}from\"react-icons/bs\";import{FaRegCommentAlt,FaRegWindowClose,FaUserLock,FaUserAlt}from\"react-icons/fa\";import{IoIosShareAlt}from\"react-icons/io\";import{GoEyeClosed}from\"react-icons/go\";import{List,Tooltip,Spin}from'antd';import moment from'moment';import{PUBLIC_URL}from'./../../../Constants/public.jsx';import{AiOutlineCaretRight}from\"react-icons/ai\";export var Post=React.forwardRef(function(props,ref){moment.updateLocale('vi',{relativeTime:{future:\"%s\",past:\"%s trước\",s:'vài giây',ss:'%d phút',m:\"1 phút trước\",mm:\"%d phút\",h:\"%d giờ\",hh:\"%d giờ\",d:\"1 ngày\",dd:\"%d ngày\",w:\"1 tuần\",ww:\"%d tuần\",M:\"1 tháng\",MM:\"%d tháng\",y:\"1 năm\",yy:\"%d năm\"}});var inputCommentRef=useRef();var refContentPost=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listParentComment=_useState2[0],setListParentComment=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listChildComment=_useState4[0],setListChildComment=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),iconReaction=_useState6[0],setIconReaction=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),styleListSendReaction=_useState8[0],setStyleListSendReaction=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isUnlike=_useState10[0],setIsUnlike=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),contentPostStyle=_useState12[0],setContentPostStyle=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),moreContent=_useState14[0],setMoreContent=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),lineContent=_useState16[0],setLineContent=_useState16[1];var totalReactionPost=props.post.actions_post;var currentUser=JSON.parse(localStorage.getItem('ustk')).info;var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),delayHandler=_useState18[0],setDelayHandler=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),newComment=_useState20[0],setNewComment=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),showComment=_useState22[0],setShowComment=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),noti=_useState24[0],setNoti=_useState24[1];var _useState25=useState(),_useState26=_slicedToArray(_useState25,2),typeNoti=_useState26[0],setTypeNoti=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),isHide=_useState28[0],setIsHide=_useState28[1];useEffect(function(){if(!props.loadingSetting&&typeNoti){if(typeNoti==='unNotification'){setNoti('Bạn đã tắt thông báo từ bài viết này thành công');}else{setIsHide(true);}}},[props.loadingSetting]);var onSubmitComment=function onSubmitComment(value){setNewComment([].concat(_toConsumableArray(newComment),[value]));props.onSubmitComment(value,props.post.id);};var toggleMoreContentPost=function toggleMoreContentPost(){if(moreContent){setMoreContent(false);setContentPostStyle({maxWidth:'100%',display:'-webkit-box',WebkitBoxOrient:'vertical',WebkitLineClamp:3,overflow:'hidden',textOverflow:'ellipsis'});}else{setMoreContent(true);setContentPostStyle({display:'block'});}};function removeOrFilterNationality(objectOfNationality){return Array.from(new Set(objectOfNationality.map(function(tempObject){return tempObject.pivot.actions_action;})));}function focusInputComment(){var inputRef=inputCommentRef.current;inputRef.focusCommentInput();}useEffect(function(){var _commentParent=[];var _commentChild=[];props.post.comment_post.reverse().map(function(comment,index){if(comment.pivot.comment_Type==='parent'){_commentParent.push(comment);setListParentComment(_commentParent);}if(comment.pivot.comment_Type==='child'){_commentChild.push(comment);setListChildComment(_commentChild);}});var divHeight=refContentPost.current.offsetHeight;setLineContent(divHeight/25);},[]);var leaveListSendReaction=function leaveListSendReaction(){setDelayHandler(setTimeout(function(){setStyleListSendReaction({top:'-10px',opacity:0,visibility:'hidden'});},700));clearTimeout(delayHandler);};var enterListSendReaction=function enterListSendReaction(){setDelayHandler(setTimeout(function(){setStyleListSendReaction({top:'-56px',opacity:1,visibility:'visible'});},500));clearTimeout(delayHandler);};var loadingSendRequestSetting=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(type,idPost,idUser){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setTypeNoti(type);_context.next=3;return props.loadingSendRequestSetting(type,idPost,idUser);case 3:case\"end\":return _context.stop();}}},_callee);}));return function loadingSendRequestSetting(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var showCommentFunc=function showCommentFunc(){setShowComment(!showComment);};var NotiSetting=function NotiSetting(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"noti-post\",style:{background:'white',border:'1px solid rgba(0,0,0,0.1)',borderRadius:'2px',padding:'10px',marginTop:'10px',color:'green'}},noti));};var settingPost=/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(List,{className:\"setting-post\",loading:props.loadingSetting},/*#__PURE__*/React.createElement(List.Item,{onClick:function onClick(){return loadingSendRequestSetting('deletePost',props.post.id,'');}},/*#__PURE__*/React.createElement(MdDelete,null),\" X\\xF3a b\\xE0i vi\\u1EBFt\"),/*#__PURE__*/React.createElement(List.Item,{onClick:function onClick(){return loadingSendRequestSetting('hidePost',props.post.id,'');}},/*#__PURE__*/React.createElement(GoEyeClosed,null),\" \\u1EA8n b\\xE0i vi\\u1EBFt\"),/*#__PURE__*/React.createElement(List.Item,{onClick:function onClick(){return loadingSendRequestSetting('unNotification',props.post.id,'');}},/*#__PURE__*/React.createElement(MdNotificationsOff,null),\"T\\u1EAFt th\\xF4ng b\\xE1o t\\u1EEB b\\xE0i vi\\u1EBFt\")));var listReactionPost=function listReactionPost(){return/*#__PURE__*/React.createElement(\"ul\",{className:\"post-reaction-list\"},totalReactionPost.slice(0,21).map(function(reaction,index){return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(Link,{to:'/'+reaction.user_username},reaction.user_first_name+' '+reaction.user_last_name));}),totalReactionPost.length-21>0&&/*#__PURE__*/React.createElement(\"li\",null,\"v\\xE0 \",totalReactionPost.length-21,\" ng\\u01B0\\u1EDDi kh\\xE1c\"));};var listIconReactionPost=function listIconReactionPost(reaction,index){switch(reaction){case'like':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/like.png',alt:\"Th\\xEDch\"});break;case'haha':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/haha.png',alt:\"C\\u01B0\\u1EDDi\"});break;case'wow':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/wow.png',alt:\"Ng\\u1EA1c nhi\\xEAn\"});break;case'sad':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/sad.png',alt:\"Bu\\u1ED3n\"});break;case'angry':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/angry.png',alt:\"Gi\\u1EADn d\\u1EEF\"});break;case'love':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/heart.png',alt:\"Y\\xEAu th\\xEDch\"});break;default:return/*#__PURE__*/React.createElement(AiOutlineLike,null);}};var ListTagUserPost=function ListTagUserPost(){var twoItemTags=props.post.tag_users_post.slice(0,2);var itemToLast=props.post.tag_users_post.slice(2);var lastItem=props.post.tag_users_post.length+1;if(props.post.tag_users_post.length&&props.post.tag_users_post.length<=2){return/*#__PURE__*/React.createElement(React.Fragment,null,\"c\\xF9ng v\\u1EDBi\",twoItemTags.map(function(tag,index){return/*#__PURE__*/React.createElement(Link,{to:'/'+tag.user_username,key:index},lastItem!==index?'và':null,tag.user_first_name+' '+tag.user_last_name);}));}if(props.post.tag_users_post.length>2){return/*#__PURE__*/React.createElement(React.Fragment,null,\"c\\xF9ng v\\u1EDBi\",twoItemTags.map(function(tag,index){return/*#__PURE__*/React.createElement(\"span\",{key:index},\" \",/*#__PURE__*/React.createElement(Link,{to:'/'+tag.user_username},tag.user_first_name+' '+tag.user_last_name),\" v\\xE0 \");}),/*#__PURE__*/React.createElement(Tooltip,{placement:\"bottom\",className:\"tag-more-user\",title:/*#__PURE__*/React.createElement(\"ul\",{className:\"tag-more-user-list\"},itemToLast.map(function(tag,index){return/*#__PURE__*/React.createElement(\"li\",{key:index},/*#__PURE__*/React.createElement(Link,{to:'/'+tag.user_username},tag.user_first_name+' '+tag.user_last_name));}))},itemToLast.length,\" ng\\u01B0\\u1EDDi kh\\xE1c\"));}return null;};var PrivacyPost=function PrivacyPost(){switch(props.post.post_Privacy){case\"public\":return/*#__PURE__*/React.createElement(MdPublic,null);break;case\"onlyme\":return/*#__PURE__*/React.createElement(FaUserLock,null);break;case\"friend\":return/*#__PURE__*/React.createElement(FaUserAlt,null);break;default:return null;}};var iconReactionPost=function iconReactionPost(reaction,index){switch(reaction.pivot.actions_action){case'like':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/like.png',alt:\"Th\\xEDch\"});break;case'haha':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/haha.png',alt:\"C\\u01B0\\u1EDDi\"});break;case'wow':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/wow.png',alt:\"Ng\\u1EA1c nhi\\xEAn\"});break;case'sad':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/sad.png',alt:\"Bu\\u1ED3n\"});break;case'angry':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/angry.png',alt:\"Gi\\u1EADn d\\u1EEF\"});break;case'love':return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/heart.png',alt:\"Y\\xEAu th\\xEDch\"});break;default:return/*#__PURE__*/React.createElement(AiOutlineLike,null);}};var PagePost=function PagePost(){if(props.post.post_PageId){return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(AiOutlineCaretRight,null),\" \",/*#__PURE__*/React.createElement(Link,{to:'/pages/'+props.post.page_admin_post.page_FakeId},props.post.page_admin_post.page_Name));}return null;};var UserReceivedPost=function UserReceivedPost(){if(props.post.post_userReceiveId&&props.post.post_userReceiveId!==props.post.user_admin_post.id){return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(AiOutlineCaretRight,null),\" \",/*#__PURE__*/React.createElement(Link,{to:'/pages/'+props.post.profile_receive_post.user_username},props.post.profile_receive_post.user_first_name+' '+props.post.profile_receive_post.user_last_name));}return null;};var GroupPost=function GroupPost(){if(props.post.post_GroupId){return/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(AiOutlineCaretRight,null),\" \",/*#__PURE__*/React.createElement(Link,{to:'/groups/'+props.post.group_admin_post.group_FakeId},props.post.group_admin_post.group_Name));}return null;};var sendReactionPost=function sendReactionPost(reaction,postId){props.sendReactionPost(reaction,postId);switch(reaction){case'unlike':setIconReaction(/*#__PURE__*/React.createElement(AiOutlineLike,null));setIsUnlike(true);break;case'like':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/like.png',alt:\"Th\\xEDch\"}));break;case'haha':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/haha.png',alt:\"C\\u01B0\\u1EDDi\"}));break;case'wow':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/wow.png',alt:\"Ng\\u1EA1c nhi\\xEAn\"}));break;case'sad':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/sad.png',alt:\"Bu\\u1ED3n\"}));break;case'angry':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/angry.png',alt:\"Gi\\u1EADn d\\u1EEF\"}));break;case'love':setIsUnlike(false);setIconReaction(/*#__PURE__*/React.createElement(\"img\",{className:\"icon-reaction icon-like-22\",src:PUBLIC_URL+'icon/heart.png',alt:\"Y\\xEAu th\\xEDch\"}));break;}};if(isHide)return null;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"post\",ref:ref},noti&&/*#__PURE__*/React.createElement(NotiSetting,null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-avatar\"},/*#__PURE__*/React.createElement(Link,{to:'/'+props.post.user_admin_post.user_username},/*#__PURE__*/React.createElement(\"img\",{src:props.post.user_admin_post.user_avatar,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-boss\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Link,{to:'/'+props.post.user_admin_post.user_username},props.post.user_admin_post.user_first_name+\" \"+props.post.user_admin_post.user_last_name,\" \"),/*#__PURE__*/React.createElement(ListTagUserPost,null),/*#__PURE__*/React.createElement(PagePost,null),/*#__PURE__*/React.createElement(GroupPost,null),/*#__PURE__*/React.createElement(UserReceivedPost,null)),/*#__PURE__*/React.createElement(\"p\",{className:\"post-time-created\"},moment(moment.utc(props.post.created_at).toDate()).fromNow(),\" \",/*#__PURE__*/React.createElement(PrivacyPost,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-setting\"},/*#__PURE__*/React.createElement(Tooltip,{trigger:'click',placement:\"bottom\",title:settingPost},/*#__PURE__*/React.createElement(BsThreeDots,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-content\"},/*#__PURE__*/React.createElement(\"div\",{style:contentPostStyle,ref:refContentPost},props.post.post_Content,\" \"),lineContent>=4?/*#__PURE__*/React.createElement(React.Fragment,null,!moreContent?/*#__PURE__*/React.createElement(\"span\",{className:\"more-content-post\",onClick:toggleMoreContentPost},\" Xem th\\xEAm\"):/*#__PURE__*/React.createElement(\"span\",{className:\"more-content-post\",onClick:toggleMoreContentPost},\"Thu g\\u1ECDn\")):null),/*#__PURE__*/React.createElement(PostImage,{post:props.post,images:props.post.images_post})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-total-action\",style:{display:'flex',justifyContent:'space-between'}},totalReactionPost.length?/*#__PURE__*/React.createElement(Tooltip,{placement:\"top\",title:listReactionPost},/*#__PURE__*/React.createElement(\"span\",null,removeOrFilterNationality(totalReactionPost).slice(0,3).map(function(reaction,index){return listIconReactionPost(reaction,index);}),' '+totalReactionPost.length,\" ng\\u01B0\\u1EDDi \\u0111\\xE3 b\\xE0y t\\u1ECF c\\u1EA3m x\\xFAc\")):null,/*#__PURE__*/React.createElement(\"span\",{onClick:showCommentFunc},props.post.comment_post.length+newComment.length?props.post.comment_post.length+newComment.length+' bình luận':null,\" \")),/*#__PURE__*/React.createElement(\"div\",{className:\"post-action\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-action-item send-reaction\",onMouseEnter:enterListSendReaction,onMouseLeave:leaveListSendReaction},/*#__PURE__*/React.createElement(\"div\",{onClick:function onClick(){return totalReactionPost.filter(function(reaction){return reaction.pivot.actions_UserId===currentUser.id;}).length&&!isUnlike?sendReactionPost('unlike',props.post.id):sendReactionPost('like',props.post.id);}},iconReaction?iconReaction:totalReactionPost.filter(function(reaction){return reaction.pivot.actions_UserId===currentUser.id;}).length?totalReactionPost.filter(function(reaction){return reaction.pivot.actions_UserId===currentUser.id;}).map(function(reaction,index){return iconReactionPost(reaction,index);}):/*#__PURE__*/React.createElement(AiOutlineLike,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"list-icon-send-reaction\",style:styleListSendReaction},/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('like',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/like.gif',alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('love',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/love.gif',alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('haha',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/haha.gif',alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('wow',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/wow.gif',alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('sad',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/sad.gif',alt:\"\"}),/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return sendReactionPost('angry',props.post.id);},className:\"icon-like-48\",src:PUBLIC_URL+'icon/angry.gif',alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-action-item\",onClick:function onClick(){return focusInputComment();}},/*#__PURE__*/React.createElement(FaRegCommentAlt,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-current-user\"},/*#__PURE__*/React.createElement(\"img\",{src:currentUser.user_avatar,alt:currentUser.user_first_name+' '+currentUser.user_last_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-input\"},/*#__PURE__*/React.createElement(CommentEditor,{ref:inputCommentRef,onSubmitComment:onSubmitComment}))),newComment.reverse().map(function(newcmt,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item post-new-comment\",style:{marginBottom:'10px'},key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent-avatar\"},/*#__PURE__*/React.createElement(Link,{to:'/'+currentUser.user_username},/*#__PURE__*/React.createElement(\"img\",{src:currentUser.user_avatar,alt:currentUser.user_first_name+' '+currentUser.user_last_name}))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent-info-user\"},/*#__PURE__*/React.createElement(Link,{to:'/'+currentUser.user_username},currentUser.user_first_name+' '+currentUser.user_last_name)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent-content\"},newcmt),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-item-parent-action\"},/*#__PURE__*/React.createElement(\"span\",null,moment(new Date(),\"YYYYMMDD\\h:m:s\").fromNow())))),props.loadingAddComment&&index===0?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Spin,null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-new-comment-waiting\"})):null);}),listParentComment.length>0&&listParentComment.length<=6||showComment?/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-container\"},listParentComment.map(function(comment,index){return/*#__PURE__*/React.createElement(CommentParent,{key:index,listChildComment:listChildComment,comment:comment});})):null)));});","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Profiles/MyProfile/Post.jsx"],"names":["React","useEffect","useState","useRef","PostImage","CommentEditor","CommentParent","Link","MdPublic","MdNotificationsOff","MdDelete","AiOutlineLike","AiOutlineIssuesClose","BsThreeDots","FaRegCommentAlt","FaRegWindowClose","FaUserLock","FaUserAlt","IoIosShareAlt","GoEyeClosed","List","Tooltip","Spin","moment","PUBLIC_URL","AiOutlineCaretRight","Post","forwardRef","props","ref","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","inputCommentRef","refContentPost","listParentComment","setListParentComment","listChildComment","setListChildComment","iconReaction","setIconReaction","styleListSendReaction","setStyleListSendReaction","isUnlike","setIsUnlike","contentPostStyle","setContentPostStyle","moreContent","setMoreContent","lineContent","setLineContent","totalReactionPost","post","actions_post","currentUser","JSON","parse","localStorage","getItem","info","delayHandler","setDelayHandler","newComment","setNewComment","showComment","setShowComment","noti","setNoti","typeNoti","setTypeNoti","isHide","setIsHide","loadingSetting","onSubmitComment","value","id","toggleMoreContentPost","maxWidth","display","WebkitBoxOrient","WebkitLineClamp","overflow","textOverflow","removeOrFilterNationality","objectOfNationality","Array","from","Set","map","tempObject","pivot","actions_action","focusInputComment","inputRef","current","focusCommentInput","_commentParent","_commentChild","comment_post","reverse","comment","index","comment_Type","push","divHeight","offsetHeight","leaveListSendReaction","setTimeout","top","opacity","visibility","clearTimeout","enterListSendReaction","loadingSendRequestSetting","type","idPost","idUser","showCommentFunc","NotiSetting","background","border","borderRadius","padding","marginTop","color","settingPost","listReactionPost","slice","reaction","user_username","user_first_name","user_last_name","length","listIconReactionPost","ListTagUserPost","twoItemTags","tag_users_post","itemToLast","lastItem","tag","PrivacyPost","post_Privacy","iconReactionPost","PagePost","post_PageId","page_admin_post","page_FakeId","page_Name","UserReceivedPost","post_userReceiveId","user_admin_post","profile_receive_post","GroupPost","post_GroupId","group_admin_post","group_FakeId","group_Name","sendReactionPost","postId","user_avatar","utc","created_at","toDate","fromNow","post_Content","images_post","justifyContent","filter","actions_UserId","newcmt","marginBottom","Date","loadingAddComment"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport PostImage from './PostImage.jsx';\r\nimport CommentEditor from './CommentEditor.jsx';\r\nimport CommentParent from './CommentParent.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { MdPublic, MdNotificationsOff, MdDelete } from \"react-icons/md\";\r\nimport { AiOutlineLike, AiOutlineIssuesClose } from \"react-icons/ai\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { FaRegCommentAlt, FaRegWindowClose, FaUserLock, FaUserAlt  } from \"react-icons/fa\";\r\nimport { IoIosShareAlt } from \"react-icons/io\";\r\nimport { GoEyeClosed } from \"react-icons/go\";\r\nimport { List, Tooltip, Spin } from 'antd';\r\nimport moment from 'moment';\r\nimport {PUBLIC_URL} from './../../../Constants/public.jsx';\r\nimport { AiOutlineCaretRight } from \"react-icons/ai\";\r\n\r\nexport const Post = React.forwardRef((props, ref ) =>  {\r\n\r\n    moment.updateLocale('vi', {\r\n      relativeTime : {\r\n          future: \"%s\",\r\n          past:   \"%s trước\",\r\n          s  : 'vài giây',\r\n          ss : '%d phút',\r\n          m:  \"1 phút trước\",\r\n          mm: \"%d phút\",\r\n          h:  \"%d giờ\",\r\n          hh: \"%d giờ\",\r\n          d:  \"1 ngày\",\r\n          dd: \"%d ngày\",\r\n          w:  \"1 tuần\",\r\n          ww: \"%d tuần\",\r\n          M:  \"1 tháng\",\r\n          MM: \"%d tháng\",\r\n          y:  \"1 năm\",\r\n          yy: \"%d năm\"\r\n      }\r\n    });\r\n    const inputCommentRef = useRef();\r\n    const refContentPost = useRef();\r\n    const [listParentComment, setListParentComment] = useState([]);\r\n    const [listChildComment, setListChildComment] = useState([]);\r\n    const [iconReaction, setIconReaction] = useState();\r\n    const [styleListSendReaction, setStyleListSendReaction] = useState();\r\n    const [isUnlike, setIsUnlike] = useState(false);\r\n    const [contentPostStyle, setContentPostStyle] = useState();\r\n    const [moreContent, setMoreContent] = useState(false);\r\n    const [lineContent, setLineContent] = useState(false);\r\n    const totalReactionPost = props.post.actions_post;\r\n    const currentUser = JSON.parse(localStorage.getItem('ustk')).info;\r\n    const [delayHandler, setDelayHandler] = useState(null)\r\n    const [newComment, setNewComment] = useState([])\r\n    const [showComment, setShowComment] = useState(false)\r\n    const [noti, setNoti] = useState()\r\n    const [typeNoti, setTypeNoti] = useState()\r\n    const [isHide, setIsHide] = useState(false)\r\n\r\n    useEffect(() => {\r\n      if(!props.loadingSetting && typeNoti){\r\n        if(typeNoti === 'unNotification'){\r\n          setNoti('Bạn đã tắt thông báo từ bài viết này thành công')\r\n        }else {\r\n          setIsHide(true)\r\n        }\r\n      }\r\n    }, [props.loadingSetting])\r\n\r\n    const onSubmitComment = (value) => {\r\n      setNewComment([...newComment, value])\r\n      props.onSubmitComment(value, props.post.id)\r\n    }\r\n    const toggleMoreContentPost = () => {\r\n      if(moreContent){\r\n        setMoreContent(false)\r\n        setContentPostStyle({\r\n          maxWidth: '100%',\r\n          display: '-webkit-box',\r\n          WebkitBoxOrient: 'vertical',\r\n          WebkitLineClamp: 3,\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n        })\r\n      }else {\r\n        setMoreContent(true)\r\n        setContentPostStyle({\r\n          display: 'block'\r\n        })\r\n      }\r\n    }\r\n\r\n    function removeOrFilterNationality(objectOfNationality) {\r\n       return Array.from(new Set(objectOfNationality.map(tempObject => tempObject.pivot.actions_action)));\r\n    }\r\n\r\n    function focusInputComment() {\r\n        let inputRef = inputCommentRef.current;\r\n        inputRef.focusCommentInput();\r\n    }\r\n\r\n    useEffect(() => {\r\n        let _commentParent = []\r\n        let _commentChild = []\r\n\r\n        props.post.comment_post.reverse().map((comment, index) => {\r\n            if (comment.pivot.comment_Type === 'parent') {\r\n                _commentParent.push(comment)\r\n                setListParentComment(_commentParent)\r\n            }\r\n            if (comment.pivot.comment_Type === 'child') {\r\n                _commentChild.push(comment)\r\n                setListChildComment(_commentChild)\r\n            }\r\n        })\r\n        const divHeight = refContentPost.current.offsetHeight\r\n        setLineContent(divHeight / 25);\r\n    }, []);\r\n\r\n\r\n    const leaveListSendReaction = () => {\r\n      setDelayHandler(setTimeout(() => {\r\n         setStyleListSendReaction({\r\n          top: '-10px',\r\n          opacity:0,\r\n          visibility: 'hidden'\r\n        })\r\n      }, 700))\r\n      clearTimeout(delayHandler)\r\n    }\r\n\r\n    const enterListSendReaction = () => {\r\n      setDelayHandler(setTimeout(() => {\r\n            setStyleListSendReaction({\r\n              top: '-56px',\r\n              opacity:1,\r\n              visibility: 'visible'\r\n            })\r\n      }, 500))\r\n      clearTimeout(delayHandler)\r\n    }\r\n\r\n    const loadingSendRequestSetting = async (type, idPost, idUser) => {\r\n      setTypeNoti(type)\r\n      await props.loadingSendRequestSetting(type, idPost, idUser)\r\n    }\r\n\r\n    const showCommentFunc = () => {\r\n      setShowComment(!showComment)\r\n    }\r\n\r\n    const NotiSetting = () => {\r\n      return(\r\n        <React.Fragment>\r\n          <div className=\"noti-post\" style={{background: 'white', border: '1px solid rgba(0,0,0,0.1)', borderRadius: '2px', padding: '10px', marginTop: '10px', color: 'green'}}>{noti}</div>\r\n        </React.Fragment>\r\n      )\r\n    }\r\n\r\n    const settingPost = (\r\n        <React.Fragment>\r\n            <List className=\"setting-post\" loading={props.loadingSetting}>\r\n              <List.Item onClick={() => loadingSendRequestSetting('deletePost', props.post.id, '')}><MdDelete /> Xóa bài viết</List.Item>\r\n                <List.Item onClick={() => loadingSendRequestSetting('hidePost', props.post.id, '')}><GoEyeClosed /> Ẩn bài viết</List.Item>\r\n                <List.Item onClick={() => loadingSendRequestSetting('unNotification', props.post.id, '')}><MdNotificationsOff />Tắt thông báo từ bài viết</List.Item>\r\n            </List>\r\n        </React.Fragment>\r\n    );\r\n\r\n    const listReactionPost = () => {\r\n      return(\r\n        <ul className=\"post-reaction-list\">\r\n          {totalReactionPost.slice(0, 21).map((reaction, index) => {\r\n            return(\r\n                <li key={index}>\r\n                  <Link to={'/' + reaction.user_username}>{reaction.user_first_name + ' ' + reaction.user_last_name}</Link>\r\n                </li>\r\n            )\r\n          })}\r\n          { totalReactionPost.length - 21 > 0 &&\r\n          <li>\r\n            và {totalReactionPost.length - 21} người khác\r\n          </li>\r\n          }\r\n        </ul>\r\n      )\r\n    }\r\n\r\n    const listIconReactionPost = (reaction, index) => {\r\n      switch (reaction) {\r\n        case 'like':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/like.png'} alt=\"Thích\"/>\r\n          break;\r\n        case 'haha':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/haha.png'} alt=\"Cười\"/>\r\n          break;\r\n        case 'wow':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/wow.png'} alt=\"Ngạc nhiên\"/>\r\n          break;\r\n        case 'sad':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/sad.png'} alt=\"Buồn\"/>\r\n          break;\r\n        case 'angry':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/angry.png'} alt=\"Giận dữ\"/>\r\n          break;\r\n        case 'love':\r\n            return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/heart.png'} alt=\"Yêu thích\"/>\r\n          break;\r\n        default: return <AiOutlineLike/>\r\n      }\r\n    }\r\n\r\n    const ListTagUserPost = () => {\r\n        const twoItemTags = props.post.tag_users_post.slice(0, 2);\r\n        const itemToLast =  props.post.tag_users_post.slice(2);\r\n        const lastItem = props.post.tag_users_post.length + 1;\r\n\r\n        if(props.post.tag_users_post.length && props.post.tag_users_post.length <= 2){\r\n          return(\r\n            <React.Fragment>\r\n              cùng với\r\n              {twoItemTags.map((tag, index) => {\r\n                return(\r\n                  <Link to={'/' + tag.user_username} key={index}>\r\n                    {lastItem !== index ? 'và' : null}\r\n                    {tag.user_first_name + ' ' + tag.user_last_name}\r\n                  </Link>\r\n                )\r\n              })}\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        if(props.post.tag_users_post.length > 2){\r\n          return(\r\n            <React.Fragment>\r\n              cùng với\r\n              {twoItemTags.map((tag, index) => {\r\n                return(\r\n                  <span key={index}> <Link to={'/' + tag.user_username} >{tag.user_first_name + ' ' + tag.user_last_name}</Link> và </span>\r\n                )\r\n              })}\r\n              <Tooltip\r\n                placement=\"bottom\"\r\n                className=\"tag-more-user\"\r\n                title={\r\n                  <ul className=\"tag-more-user-list\">\r\n                    {itemToLast.map((tag, index) => {\r\n                      return(\r\n                        <li key={index}><Link to={'/' + tag.user_username} >{tag.user_first_name + ' ' + tag.user_last_name}</Link></li>\r\n                      )\r\n                    })}\r\n                  </ul>\r\n                }\r\n              >\r\n                {itemToLast.length} người khác\r\n              </Tooltip>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n\r\n        return null\r\n\r\n    }\r\n\r\n    const PrivacyPost = () => {\r\n      switch ( props.post.post_Privacy) {\r\n        case \"public\":\r\n            return <MdPublic />\r\n          break;\r\n        case \"onlyme\":\r\n            return <FaUserLock />\r\n          break;\r\n        case \"friend\":\r\n            return <FaUserAlt />\r\n          break;\r\n        default: return null\r\n\r\n      }\r\n    }\r\n\r\n    const iconReactionPost = (reaction, index) => {\r\n        switch (reaction.pivot.actions_action) {\r\n          case 'like':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/like.png'} alt=\"Thích\"/>\r\n            break;\r\n          case 'haha':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/haha.png'} alt=\"Cười\"/>\r\n            break;\r\n          case 'wow':\r\n              return <img key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/wow.png'} alt=\"Ngạc nhiên\"/>\r\n            break;\r\n          case 'sad':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/sad.png'} alt=\"Buồn\"/>\r\n            break;\r\n          case 'angry':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/angry.png'} alt=\"Giận dữ\"/>\r\n            break;\r\n          case 'love':\r\n              return <img  key={index} className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/heart.png'} alt=\"Yêu thích\"/>\r\n            break;\r\n          default: return <AiOutlineLike />\r\n        }\r\n    }\r\n\r\n    const PagePost = () => {\r\n      if(props.post.post_PageId){\r\n        return(\r\n          <span><AiOutlineCaretRight/> <Link to={'/pages/' + props.post.page_admin_post.page_FakeId}>{props.post.page_admin_post.page_Name}</Link></span>\r\n        )\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    const UserReceivedPost = () => {\r\n      if(props.post.post_userReceiveId && props.post.post_userReceiveId !== props.post.user_admin_post.id){\r\n        return(\r\n          <span><AiOutlineCaretRight/> <Link to={'/pages/' + props.post.profile_receive_post.user_username}>{props.post.profile_receive_post.user_first_name + ' ' + props.post.profile_receive_post.user_last_name}</Link></span>\r\n        )\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    const GroupPost = () => {\r\n      if(props.post.post_GroupId){\r\n        return(\r\n          <span><AiOutlineCaretRight/> <Link to={'/groups/' + props.post.group_admin_post.group_FakeId}>{props.post.group_admin_post.group_Name}</Link></span>\r\n        )\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    const sendReactionPost = (reaction, postId) => {\r\n      props.sendReactionPost(reaction, postId)\r\n      switch (reaction) {\r\n        case 'unlike':\r\n            setIconReaction(<AiOutlineLike/>)\r\n            setIsUnlike(true)\r\n          break;\r\n        case 'like':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/like.png'} alt='Thích'/>)\r\n          break;\r\n        case 'haha':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/haha.png'} alt='Cười'/>)\r\n          break;\r\n        case 'wow':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/wow.png'} alt='Ngạc nhiên'/>)\r\n          break;\r\n        case 'sad':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/sad.png'} alt='Buồn'/>)\r\n          break;\r\n        case 'angry':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img  className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/angry.png'} alt='Giận dữ'/>)\r\n          break;\r\n        case 'love':\r\n            setIsUnlike(false)\r\n            setIconReaction(<img className='icon-reaction icon-like-22' src={PUBLIC_URL + 'icon/heart.png'} alt='Yêu thích'/>)\r\n          break;\r\n      }\r\n    }\r\n\r\n    if(isHide) return null\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"post\" ref={ref}>\r\n                {noti && <NotiSetting />}\r\n                <div className=\"post-container\">\r\n                    <div className=\"post-header\">\r\n                        <div className=\"post-info\">\r\n                            <div className=\"post-avatar\">\r\n                                <Link to={'/' + props.post.user_admin_post.user_username}>\r\n                                    <img src={props.post.user_admin_post.user_avatar} alt=\"\" />\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"post-boss\">\r\n                                <p>\r\n                                    <Link to={'/' + props.post.user_admin_post.user_username}>{props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name} </Link>\r\n                                    <ListTagUserPost />\r\n                                    <PagePost />\r\n                                    <GroupPost />\r\n                                    <UserReceivedPost />\r\n                                </p>\r\n                                <p className=\"post-time-created\">{moment(moment.utc(props.post.created_at).toDate()).fromNow()} <PrivacyPost /></p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"post-setting\">\r\n                          <Tooltip trigger={'click'} placement=\"bottom\" title={settingPost}>\r\n                            <BsThreeDots />\r\n                          </Tooltip>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-body\">\r\n                        <div className=\"post-content\" >\r\n                            <div style={contentPostStyle} ref={refContentPost}>{props.post.post_Content} </div>\r\n                            {lineContent >= 4 ?\r\n                              <React.Fragment>\r\n                                {!moreContent ? <span className=\"more-content-post\" onClick={toggleMoreContentPost }> Xem thêm</span > : <span className=\"more-content-post\" onClick={toggleMoreContentPost }>Thu gọn</span>}\r\n                              </React.Fragment>\r\n                            : null}\r\n                        </div>\r\n                        <PostImage post={props.post} images={props.post.images_post} />\r\n                    </div>\r\n                    <div className=\"post-footer\">\r\n                          <div className=\"post-total-action\" style={{display:'flex', justifyContent: 'space-between'}}>\r\n                            { totalReactionPost.length ?\r\n                              <Tooltip placement=\"top\" title={listReactionPost}>\r\n                                <span>\r\n                                  {removeOrFilterNationality(totalReactionPost).slice(0, 3).map((reaction, index) => listIconReactionPost(reaction, index))}\r\n                                  {' '+ totalReactionPost.length} người đã bày tỏ cảm xúc</span>\r\n                              </Tooltip>\r\n                            : null}\r\n                            <span onClick={showCommentFunc}>{props.post.comment_post.length + newComment.length ? props.post.comment_post.length + newComment.length + ' bình luận' : null} </span>\r\n                          </div>\r\n                        <div className=\"post-action\" >\r\n                            <div className=\"post-action-item send-reaction\"  onMouseEnter={enterListSendReaction} onMouseLeave={leaveListSendReaction}>\r\n                              <div onClick={() => totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).length && !isUnlike ? sendReactionPost('unlike', props.post.id) : sendReactionPost('like', props.post.id)} >\r\n                              { iconReaction\r\n                                ?\r\n                                iconReaction\r\n                                :\r\n                                (totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).length\r\n                                ?\r\n                                totalReactionPost.filter(reaction => reaction.pivot.actions_UserId === currentUser.id).map((reaction, index) => iconReactionPost(reaction, index))\r\n                                :\r\n                                <AiOutlineLike/>)\r\n                              }\r\n                              </div>\r\n                              <div className=\"list-icon-send-reaction\" style={styleListSendReaction}>\r\n                                <img onClick={() => sendReactionPost('like', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/like.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('love', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/love.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('haha', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/haha.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('wow', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/wow.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('sad', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/sad.gif'} alt=\"\"/>\r\n                                <img onClick={() => sendReactionPost('angry', props.post.id)} className=\"icon-like-48\" src={PUBLIC_URL + 'icon/angry.gif'} alt=\"\"/>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"post-action-item\" onClick={() => focusInputComment()}>\r\n                                <FaRegCommentAlt />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-comment\">\r\n                        <div className=\"post-comment-current-user\">\r\n                            <img src={currentUser.user_avatar} alt={currentUser.user_first_name + ' ' + currentUser.user_last_name} />\r\n                        </div>\r\n                          <div className=\"post-comment-input\">\r\n                              <CommentEditor ref={inputCommentRef} onSubmitComment={onSubmitComment}/>\r\n                          </div>\r\n                    </div>\r\n                    {newComment.reverse().map((newcmt, index) => {\r\n                      return(\r\n                        <div className=\"post-comment-item post-new-comment\" style={{marginBottom: '10px'}} key={index}>\r\n                          <div className=\"post-comment-item-parent\">\r\n                            <div className=\"post-comment-item-parent-avatar\">\r\n                              <Link to={'/'+ currentUser.user_username}>\r\n                                <img src={currentUser.user_avatar} alt={currentUser.user_first_name + ' ' + currentUser.user_last_name}/>\r\n                              </Link>\r\n                            </div>\r\n                            <div className=\"post-comment-item-parent-info\">\r\n                              <div className=\"post-comment-item-parent-info-user\">\r\n                                <Link to={'/'+ currentUser.user_username}>{currentUser.user_first_name + ' ' + currentUser.user_last_name}</Link>\r\n                              </div>\r\n                              <div className=\"post-comment-item-parent-content\">\r\n                                {newcmt}\r\n                              </div>\r\n                              <div className=\"post-comment-item-parent-action\">\r\n                              <span>{moment(new Date, \"YYYYMMDD\\h:m:s\").fromNow()}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          {props.loadingAddComment && index === 0 ?\r\n                          <React.Fragment>\r\n                            <Spin />\r\n                            <div className=\"post-new-comment-waiting\" />\r\n                        </React.Fragment>\r\n                          : null}\r\n                        </div>\r\n                      )\r\n                    })}\r\n                    {\r\n                        listParentComment.length > 0 && listParentComment.length <= 6 || showComment\r\n                            ? <div className=\"post-comment-container\">\r\n                                {\r\n                                    listParentComment.map((comment, index) => {\r\n                                        return (<CommentParent key={index} listChildComment={listChildComment} comment={comment} />)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n})\r\n"]},"metadata":{},"sourceType":"module"}