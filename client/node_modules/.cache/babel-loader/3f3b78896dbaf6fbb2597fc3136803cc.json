{"ast":null,"code":"\"use strict\";\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Body focus trap see Issue #742\n\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n\n    return;\n  }\n\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before || !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","map":{"version":3,"sources":["D:/Web/mohi/client/node_modules/react-modal/lib/helpers/bodyTrap.js"],"names":["_portalOpenInstances","require","_portalOpenInstances2","_interopRequireDefault","obj","__esModule","default","before","after","instances","focusContent","length","process","env","NODE_ENV","console","warn","bodyTrap","eventType","openInstances","document","createElement","setAttribute","style","position","opacity","addEventListener","cloneNode","body","firstChild","insertBefore","lastChild","appendChild","parentElement","removeChild","subscribe"],"mappings":"AAAA;;AAEA,IAAIA,oBAAoB,GAAGC,OAAO,CAAC,uBAAD,CAAlC;;AAEA,IAAIC,qBAAqB,GAAGC,sBAAsB,CAACH,oBAAD,CAAlD;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD,C,CAE/F;;;AAEA,IAAIG,MAAM,GAAG,KAAK,CAAlB;AAAA,IACIC,KAAK,GAAG,KAAK,CADjB;AAAA,IAEIC,SAAS,GAAG,EAFhB;;AAIA,SAASC,YAAT,GAAwB;AACtB,MAAID,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACzC;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,0CAAb;AACD;;AACD;AACD;;AACDP,EAAAA,SAAS,CAACA,SAAS,CAACE,MAAV,GAAmB,CAApB,CAAT,CAAgCD,YAAhC;AACD;;AAED,SAASO,QAAT,CAAkBC,SAAlB,EAA6BC,aAA7B,EAA4C;AAC1C,MAAI,CAACZ,MAAD,IAAW,CAACC,KAAhB,EAAuB;AACrBD,IAAAA,MAAM,GAAGa,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAT;AACAd,IAAAA,MAAM,CAACe,YAAP,CAAoB,4BAApB,EAAkD,EAAlD;AACAf,IAAAA,MAAM,CAACgB,KAAP,CAAaC,QAAb,GAAwB,UAAxB;AACAjB,IAAAA,MAAM,CAACgB,KAAP,CAAaE,OAAb,GAAuB,GAAvB;AACAlB,IAAAA,MAAM,CAACe,YAAP,CAAoB,UAApB,EAAgC,GAAhC;AACAf,IAAAA,MAAM,CAACmB,gBAAP,CAAwB,OAAxB,EAAiChB,YAAjC;AACAF,IAAAA,KAAK,GAAGD,MAAM,CAACoB,SAAP,EAAR;AACAnB,IAAAA,KAAK,CAACkB,gBAAN,CAAuB,OAAvB,EAAgChB,YAAhC;AACD;;AAEDD,EAAAA,SAAS,GAAGU,aAAZ;;AAEA,MAAIV,SAAS,CAACE,MAAV,GAAmB,CAAvB,EAA0B;AACxB;AACA,QAAIS,QAAQ,CAACQ,IAAT,CAAcC,UAAd,KAA6BtB,MAAjC,EAAyC;AACvCa,MAAAA,QAAQ,CAACQ,IAAT,CAAcE,YAAd,CAA2BvB,MAA3B,EAAmCa,QAAQ,CAACQ,IAAT,CAAcC,UAAjD;AACD;;AACD,QAAIT,QAAQ,CAACQ,IAAT,CAAcG,SAAd,KAA4BvB,KAAhC,EAAuC;AACrCY,MAAAA,QAAQ,CAACQ,IAAT,CAAcI,WAAd,CAA0BxB,KAA1B;AACD;AACF,GARD,MAQO;AACL;AACA,QAAID,MAAM,CAAC0B,aAAX,EAA0B;AACxB1B,MAAAA,MAAM,CAAC0B,aAAP,CAAqBC,WAArB,CAAiC3B,MAAjC;AACD;;AACD,QAAIC,KAAK,CAACyB,aAAV,EAAyB;AACvBzB,MAAAA,KAAK,CAACyB,aAAN,CAAoBC,WAApB,CAAgC1B,KAAhC;AACD;AACF;AACF;;AAEDN,qBAAqB,CAACI,OAAtB,CAA8B6B,SAA9B,CAAwClB,QAAxC","sourcesContent":["\"use strict\";\r\n\r\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\r\n\r\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n// Body focus trap see Issue #742\r\n\r\nvar before = void 0,\r\n    after = void 0,\r\n    instances = [];\r\n\r\nfunction focusContent() {\r\n  if (instances.length === 0) {\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\"React-Modal: Open instances > 0 expected\");\r\n    }\r\n    return;\r\n  }\r\n  instances[instances.length - 1].focusContent();\r\n}\r\n\r\nfunction bodyTrap(eventType, openInstances) {\r\n  if (!before || !after) {\r\n    before = document.createElement(\"div\");\r\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\r\n    before.style.position = \"absolute\";\r\n    before.style.opacity = \"0\";\r\n    before.setAttribute(\"tabindex\", \"0\");\r\n    before.addEventListener(\"focus\", focusContent);\r\n    after = before.cloneNode();\r\n    after.addEventListener(\"focus\", focusContent);\r\n  }\r\n\r\n  instances = openInstances;\r\n\r\n  if (instances.length > 0) {\r\n    // Add focus trap\r\n    if (document.body.firstChild !== before) {\r\n      document.body.insertBefore(before, document.body.firstChild);\r\n    }\r\n    if (document.body.lastChild !== after) {\r\n      document.body.appendChild(after);\r\n    }\r\n  } else {\r\n    // Remove focus trap\r\n    if (before.parentElement) {\r\n      before.parentElement.removeChild(before);\r\n    }\r\n    if (after.parentElement) {\r\n      after.parentElement.removeChild(after);\r\n    }\r\n  }\r\n}\r\n\r\n_portalOpenInstances2.default.subscribe(bodyTrap);"]},"metadata":{},"sourceType":"script"}