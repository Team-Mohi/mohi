{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\NewFeed\\\\Story.jsx\";\nimport React from 'react';\nimport './Story.css';\nimport { AiOutlinePlus } from 'react-icons/ai';\nimport Slider from \"react-slick\";\nimport \"slick-carousel/slick/slick.css\";\nimport \"slick-carousel/slick/slick-theme.css\";\nimport { useSelector } from 'react-redux';\nimport { skeleTonStory } from './../Skeleton/index.jsx';\nimport { Spin } from 'antd';\nimport { Image, Transformation } from 'cloudinary-react';\n\nfunction Story({\n  stories\n}) {\n  const stateStore = useSelector(state => state.stories);\n  const listStory = stateStore.listStory;\n  const loading = stateStore.loading;\n  const loadingNewStory = stateStore.loadingNewStory;\n  var settings = {\n    dots: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: listStory.length < 4 ? listStory.length : 4,\n    slidesToScroll: 1\n  };\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }\n    }, \"Tin\"), skeleTonStory));\n  }\n\n  if (!loading && !listStory.length) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }\n    }, \"Tin\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, \"Mohi h\\xF4m nay hi\\u1EC7n ch\\u01B0a c\\xF3 tin\")));\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Tin\"), /*#__PURE__*/React.createElement(Slider, Object.assign({}, settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }), listStory.map((story, index) => {\n    let story_image = story.list_story;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-item\",\n      key: index,\n      onClick: () => toggleStatusPresentialModal('view_story', {\n        list: listStory,\n        activeIndex: index\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-item-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 19\n      }\n    }, story_image[0].story_ImageUrl && /*#__PURE__*/React.createElement(\"img\", {\n      src: story_image[0].story_ImageUrl,\n      alt: story.user_first_name + ' ' + story.user_last_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 55\n      }\n    }), !story_image[0].story_ImageUrl && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-content-no-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 56\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 97\n      }\n    }, story_image[0].story_Content)), loadingNewStory && story.id === JSON.parse(localStorage.getItem('ustk')).info.id && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-content-loading-image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 107\n      }\n    }, \" \", /*#__PURE__*/React.createElement(Spin, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 153\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-item-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }, story.id === JSON.parse(localStorage.getItem('ustk')).info.id ? 'Tin của bạn' : story.user_first_name + ' ' + story.user_last_name)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-item-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }\n    }, story.user_avatar_cropX === null ? /*#__PURE__*/React.createElement(\"img\", {\n      src: story.user_avatar,\n      alt: story.user_first_name + ' ' + story.user_last_name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(Image, {\n      cloudName: \"mohi-vn\",\n      publicId: story.user_avatar + \".jpg\",\n      version: \"1607061343\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Transformation, {\n      height: story.user_avatar_cropH,\n      width: story.user_avatar_cropW,\n      x: story.user_avatar_cropX,\n      y: story.user_avatar_cropY,\n      crop: \"crop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 25\n      }\n    }))));\n  }))));\n}\n\nexport default Story;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/NewFeed/Story.jsx"],"names":["React","AiOutlinePlus","Slider","useSelector","skeleTonStory","Spin","Image","Transformation","Story","stories","stateStore","state","listStory","loading","loadingNewStory","settings","dots","infinite","speed","slidesToShow","length","slidesToScroll","map","story","index","story_image","list_story","toggleStatusPresentialModal","list","activeIndex","story_ImageUrl","user_first_name","user_last_name","story_Content","id","JSON","parse","localStorage","getItem","info","user_avatar_cropX","user_avatar","user_avatar_cropH","user_avatar_cropW","user_avatar_cropY"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Story.css';\r\nimport {AiOutlinePlus} from 'react-icons/ai';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport {  useSelector} from 'react-redux';\r\nimport {skeleTonStory} from './../Skeleton/index.jsx';\r\nimport {Spin} from 'antd';\r\nimport {Image,Transformation} from 'cloudinary-react';\r\n\r\nfunction Story({stories}){\r\n\r\n  const stateStore = useSelector(state => state.stories);\r\n  const listStory = stateStore.listStory;\r\n  const loading = stateStore.loading;\r\n  const loadingNewStory = stateStore.loadingNewStory;\r\n  var settings = {\r\n      dots: false,\r\n      infinite: true,\r\n      speed: 500,\r\n      slidesToShow: listStory.length < 4 ? listStory.length : 4,\r\n      slidesToScroll: 1\r\n  };\r\n\r\n  if(loading){\r\n    return(\r\n      <React.Fragment>\r\n        <div className=\"story-wrap\">\r\n          <div className=\"story-title\">Tin</div>\r\n          {skeleTonStory}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  if(!loading && !listStory.length){\r\n    return(\r\n      <React.Fragment>\r\n        <div className=\"story-wrap\">\r\n          <div className=\"story-title\">Tin</div>\r\n          <div>Mohi hôm nay hiện chưa có tin</div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"story-wrap\">\r\n        <div className=\"story-title\">Tin</div>\r\n            <Slider {...settings}>\r\n            {listStory.map((story, index) => {\r\n              let story_image = story.list_story;\r\n              return(\r\n                <div className=\"story-item\" key={index} onClick={ () => toggleStatusPresentialModal('view_story', {list: listStory, activeIndex: index})}>\r\n                  <div className=\"story-item-image\">\r\n                    {story_image[0].story_ImageUrl && <img src={story_image[0].story_ImageUrl} alt={story.user_first_name + ' ' + story.user_last_name}/>}\r\n                    {!story_image[0].story_ImageUrl && <div className=\"story-content-no-image\"> <p>{story_image[0].story_Content}</p></div>}\r\n                    {loadingNewStory && story.id ===  JSON.parse(localStorage.getItem('ustk')).info.id && <div className=\"story-content-loading-image\"> <Spin /></div>}\r\n                  </div>\r\n                  <div className=\"story-item-name\">\r\n                    <p>{story.id === JSON.parse(localStorage.getItem('ustk')).info.id ? 'Tin của bạn': story.user_first_name + ' ' + story.user_last_name}</p>\r\n                  </div>\r\n                  <div className=\"story-item-avatar\">\r\n                    {story.user_avatar_cropX === null ?\r\n                      <img src={story.user_avatar} alt={story.user_first_name + ' ' + story.user_last_name} />\r\n                      :\r\n                      <Image cloudName=\"mohi-vn\" publicId={story.user_avatar+ \".jpg\"} version=\"1607061343\">\r\n                        <Transformation height={story.user_avatar_cropH}  width={story.user_avatar_cropW} x={story.user_avatar_cropX} y={story.user_avatar_cropY} crop=\"crop\" />\r\n                      </Image>\r\n                    }\r\n                  </div>\r\n                </div>\r\n              )\r\n            })}\r\n          </Slider>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Story;\r\n"]},"metadata":{},"sourceType":"module"}