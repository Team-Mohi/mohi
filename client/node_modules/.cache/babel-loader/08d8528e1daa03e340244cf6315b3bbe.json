{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import'./index.css';import{useHistory,useParams}from\"react-router-dom\";import{AiFillCloseCircle,AiFillLike,AiFillCaretLeft,AiFillCaretRight}from\"react-icons/ai\";import{BsThreeDots}from\"react-icons/bs\";import{FaRegCommentAlt}from\"react-icons/fa\";function ModalPost(){var history=useHistory();var _useParams=useParams(),index=_useParams.index;var postData=history.location.state;var images=postData.imagesPost;var _useState=useState(index),_useState2=_slicedToArray(_useState,2),indexCurrent=_useState2[0],setIndexCurrent=_useState2[1];var lastIndex=images.length-1;var _useState3=useState(images[index].url),_useState4=_slicedToArray(_useState3,2),currentPhoto=_useState4[0],setCurrentPhoto=_useState4[1];useEffect(function(){document.addEventListener(\"keydown\",handleKeyUp,false);return function(){return document.removeEventListener(\"keydown\",handleKeyUp,false);};});var backToHistory=function backToHistory(){history.goBack();};var handleKeyUp=function handleKeyUp(e){if(e.keyCode===27){backToHistory();}};var prePostImage=function prePostImage(){if(Number(indexCurrent)===0){setIndexCurrent(lastIndex);setCurrentPhoto(images[lastIndex].url);}else{var _preImage=Number(indexCurrent)-1;setCurrentPhoto(images[_preImage].url);setIndexCurrent(_preImage);}};var nextPostImage=function nextPostImage(){if(Number(indexCurrent)===images.length-1){setIndexCurrent(0);setCurrentPhoto(images[0].url);}else{var _nextImage=Number(indexCurrent)+1;setCurrentPhoto(images[_nextImage].url);setIndexCurrent(_nextImage);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-container\"},/*#__PURE__*/React.createElement(AiFillCloseCircle,{onClick:backToHistory,className:\"close-modal-post-image\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-background\",style:{filter:'blur(10px)',backgroundImage:\"url(\".concat(currentPhoto,\")\")}}),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-carousel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-carousel-container\"},images.length>1?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-pre-image\"},/*#__PURE__*/React.createElement(\"button\",{onClick:prePostImage},/*#__PURE__*/React.createElement(AiFillCaretLeft,null))):null,/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-curent-image\"},images[indexCurrent].type==='image'?/*#__PURE__*/React.createElement(\"img\",{src:currentPhoto,alt:\"\"}):/*#__PURE__*/React.createElement(\"video\",{src:currentPhoto,autoPlay:true,preload:\"metadata\",controls:true})),images.length>1?/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-next-image\"},/*#__PURE__*/React.createElement(\"button\",{onClick:nextPostImage},/*#__PURE__*/React.createElement(AiFillCaretRight,null))):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-info-user\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-info-user-avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:postData.avatar,alt:postData.postUser})),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-info-user-name\"},/*#__PURE__*/React.createElement(\"p\",null,postData.postUser),/*#__PURE__*/React.createElement(\"span\",null,postData.created,\" \",/*#__PURE__*/React.createElement(\"span\",null,\"ch\\u1EBF \\u0111\\u1ED9\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-info-user-option\"},/*#__PURE__*/React.createElement(BsThreeDots,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-content\"},postData.contentPost,\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\"),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-reaction\"},/*#__PURE__*/React.createElement(\"span\",null,\"100\"),/*#__PURE__*/React.createElement(\"span\",null,\"B\\xECnh lu\\u1EADn\"),/*#__PURE__*/React.createElement(\"span\",null,\"Chia s\\u1EBB\")),/*#__PURE__*/React.createElement(\"div\",{className:\"modal-post-action\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(AiFillLike,null),\" Th\\xEDch\"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FaRegCommentAlt,null),\" B\\xECnh lu\\u1EADn\")))));}export default ModalPost;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/ModalPost/index.jsx"],"names":["React","useEffect","useState","useHistory","useParams","AiFillCloseCircle","AiFillLike","AiFillCaretLeft","AiFillCaretRight","BsThreeDots","FaRegCommentAlt","ModalPost","history","index","postData","location","state","images","imagesPost","indexCurrent","setIndexCurrent","lastIndex","length","url","currentPhoto","setCurrentPhoto","document","addEventListener","handleKeyUp","removeEventListener","backToHistory","goBack","e","keyCode","prePostImage","Number","_preImage","nextPostImage","_nextImage","filter","backgroundImage","type","avatar","postUser","created","contentPost"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport './index.css';\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { AiFillCloseCircle, AiFillLike, AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { FaRegCommentAlt } from \"react-icons/fa\";\r\n\r\nfunction ModalPost(){\r\n  const history = useHistory();\r\n  const { index } = useParams();\r\n  const postData = history.location.state;\r\n  const images = postData.imagesPost;\r\n  const [indexCurrent, setIndexCurrent] = useState(index);\r\n  const lastIndex = images.length - 1;\r\n  const [currentPhoto, setCurrentPhoto] = useState(images[index].url);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyUp, false);\r\n\r\n    return () => document.removeEventListener(\"keydown\", handleKeyUp, false);\r\n  })\r\n\r\n  const backToHistory = () => {\r\n    history.goBack()\r\n  }\r\n  const handleKeyUp = (e) => {\r\n    if (e.keyCode === 27) {\r\n        backToHistory()\r\n    }\r\n  }\r\n\r\n  const prePostImage = () => {\r\n    if(Number(indexCurrent) === 0){\r\n      setIndexCurrent(lastIndex)\r\n      setCurrentPhoto(images[lastIndex].url)\r\n    }else {\r\n      let _preImage = Number(indexCurrent) - 1;\r\n      setCurrentPhoto(images[_preImage].url)\r\n      setIndexCurrent(_preImage)\r\n    }\r\n  }\r\n\r\n  const nextPostImage = () => {\r\n    if(Number(indexCurrent) === images.length - 1){\r\n      setIndexCurrent(0)\r\n      setCurrentPhoto(images[0].url)\r\n    }else {\r\n      let _nextImage = Number(indexCurrent) + 1;\r\n      setCurrentPhoto(images[_nextImage].url)\r\n      setIndexCurrent(_nextImage)\r\n    }\r\n  }\r\n\r\n  return(\r\n    <div className=\"modal-post\">\r\n      <div className=\"modal-post-container\">\r\n        <AiFillCloseCircle onClick={backToHistory}  className=\"close-modal-post-image\" />\r\n        <div className=\"modal-post-background\" style={{ filter: 'blur(10px)',backgroundImage: `url(${currentPhoto})`}}></div>\r\n        <div className=\"modal-post-carousel\" >\r\n          <div className=\"modal-post-carousel-container\" >\r\n          {images.length > 1 ?\r\n            <div className=\"modal-post-pre-image\">\r\n              <button onClick={prePostImage}><AiFillCaretLeft /></button>\r\n            </div> : null}\r\n            <div className=\"modal-post-curent-image\">\r\n              {images[indexCurrent].type === 'image' ?\r\n                <img src={currentPhoto} alt=\"\" />\r\n                :\r\n                <video src={currentPhoto} autoPlay preload=\"metadata\" controls></video>\r\n              }\r\n            </div>\r\n            {images.length > 1 ?\r\n            <div className=\"modal-post-next-image\">\r\n              <button onClick={nextPostImage}><AiFillCaretRight /></button>\r\n            </div> : null}\r\n          </div>\r\n        </div>\r\n        <div className=\"modal-post-info\">\r\n          <div className=\"modal-post-info-user\">\r\n            <div className=\"modal-post-info-user-avatar\">\r\n              <img src={postData.avatar} alt={postData.postUser}/>\r\n            </div>\r\n            <div className=\"modal-post-info-user-name\">\r\n              <p>{postData.postUser}</p>\r\n              <span>{postData.created} <span>chế độ</span></span>\r\n            </div>\r\n            <div className=\"modal-post-info-user-option\">\r\n              <BsThreeDots />\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-post-content\">\r\n            {postData.contentPost}aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\r\n          </div>\r\n          <div className=\"modal-post-reaction\">\r\n            <span>100</span>\r\n            <span>Bình luận</span>\r\n            <span>Chia sẻ</span>\r\n          </div>\r\n          <div className=\"modal-post-action\">\r\n            <span><AiFillLike /> Thích</span>\r\n            <span><FaRegCommentAlt /> Bình luận</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalPost;\r\n"]},"metadata":{},"sourceType":"module"}