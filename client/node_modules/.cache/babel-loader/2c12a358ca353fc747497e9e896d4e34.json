{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web\\\\mohi\\\\client\\\\src\\\\Components\\\\NewFeed\\\\PostNewFeed.jsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport PostImage from './PostImage.jsx';\nimport CommentEditor from './CommentEditor.jsx';\nimport CommentParent from './CommentParent.jsx';\nimport { Link } from 'react-router-dom';\nimport { AiOutlineLike, AiOutlineIssuesClose } from \"react-icons/ai\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { FaRegCommentAlt, FaRegWindowClose } from \"react-icons/fa\";\nimport { IoIosShareAlt } from \"react-icons/io\";\nimport { GoEyeClosed } from \"react-icons/go\";\nimport { List, Tooltip } from 'antd';\nimport moment from 'moment';\nimport { PUBLIC_URL } from './../../Constants/public.jsx';\nexport const PostNewFeed = React.forwardRef((props, ref) => {\n  moment.updateLocale('en', {\n    relativeTime: {\n      future: \"%s\",\n      past: \"%s trước\",\n      s: 'vài giây',\n      ss: '%d phút',\n      m: \"1 phút trước\",\n      mm: \"%d phút\",\n      h: \"an giờ\",\n      hh: \"%d giờ\",\n      d: \"một ngày\",\n      dd: \"%d ngày\",\n      w: \"một tuần\",\n      ww: \"%d tuần\",\n      M: \"một tháng\",\n      MM: \"%d tháng\",\n      y: \"một năm\",\n      yy: \"%d năm\"\n    }\n  });\n  const inputCommentRef = useRef();\n  const [listParentComment, setListParentComment] = useState([]);\n  const [listChildComment, setListChildComment] = useState([]);\n  const totalReactionPost = props.post.actions_post;\n\n  function focusInputComment() {\n    let inputRef = inputCommentRef.current;\n    inputRef.focusCommentInput();\n  }\n\n  useEffect(() => {\n    let _commentParent = [];\n    let _commentChild = [];\n    props.post.comment_post.map((comment, index) => {\n      if (comment.pivot.comment_Type === 'parent') {\n        _commentParent.push(comment);\n\n        setListParentComment(_commentParent);\n      }\n\n      if (comment.pivot.comment_Type === 'child') {\n        _commentChild.push(comment);\n\n        setListChildComment(_commentChild);\n      }\n    });\n  }, []);\n  const settingPost = /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(List, {\n    className: \"setting-post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(GoEyeClosed, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 28\n    }\n  }), \" \\u1EA8n b\\xE0i vi\\u1EBFt\"), /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineIssuesClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 28\n    }\n  }), \" B\\u1ECF theo d\\xF5i someone\"), /*#__PURE__*/React.createElement(List.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FaRegWindowClose, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 28\n    }\n  }), \" \\u1EA8n b\\xE0i vi\\u1EBFt t\\u1EEB someone\")));\n\n  const listReactionPost = () => {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"post-reaction-list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, totalReactionPost.slice(0, 21).map((reaction, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: '/' + reaction.user_username,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 19\n        }\n      }, reaction.user_first_name + ' ' + reaction.user_last_name));\n    }), totalReactionPost.length - 21 > 0 && /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"v\\xE0 \", totalReactionPost.length - 21, \" ng\\u01B0\\u1EDDi kh\\xE1c\"));\n  };\n\n  const listIconReactionPost = reaction => {\n    switch (reaction.pivot.actions_action) {\n      case 'like':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/like.png',\n          alt: \"Th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'haha':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/haha.png',\n          alt: \"C\\u01B0\\u1EDDi\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'wow':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/wow.png',\n          alt: \"Ng\\u1EA1c nhi\\xEAn\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'sad':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/sad.png',\n          alt: \"Bu\\u1ED3n\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'angry':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/angry.png',\n          alt: \"Gi\\u1EADn d\\u1EEF\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      case 'love':\n        return /*#__PURE__*/React.createElement(\"img\", {\n          className: \"icon-reaction icon-like-22\",\n          src: PUBLIC_URL + 'icon/heart.png',\n          alt: \"Y\\xEAu th\\xEDch\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 20\n          }\n        });\n        break;\n\n      default:\n        return null;\n    }\n  };\n\n  console.log(props.post);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-avatar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/' + props.post.user_admin_post.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: props.post.user_admin_post.user_avatar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-boss\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: '/' + props.post.user_admin_post.user_username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 37\n    }\n  }, props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }\n  }, moment(props.post.created_at, \"YYYYMMDD\\h:m:s\").fromNow()))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-setting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(BsThreeDots, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, props.post.post_Content), /*#__PURE__*/React.createElement(PostImage, {\n    post: props.post,\n    images: props.post.images_post,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-total-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 27\n    }\n  }, totalReactionPost.length ? /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"top\",\n    title: listReactionPost,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, totalReactionPost.map(reaction => listIconReactionPost(reaction)), ' ' + totalReactionPost.length, \" ng\\u01B0\\u1EDDi \\u0111\\xE3 b\\xE0y t\\u1ECF c\\u1EA3m x\\xFAc\")) : null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineLike, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item\",\n    onClick: () => focusInputComment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FaRegCommentAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-action-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IoIosShareAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-current-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://picsum.photos/id/1019/1000/600/\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CommentEditor, {\n    ref: inputCommentRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }))), listParentComment.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-comment-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 31\n    }\n  }, listParentComment.map((comment, index) => {\n    return /*#__PURE__*/React.createElement(CommentParent, {\n      key: index,\n      listChildComment: listChildComment,\n      comment: comment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 49\n      }\n    });\n  })) : null)));\n});","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/NewFeed/PostNewFeed.jsx"],"names":["React","useEffect","useState","useRef","PostImage","CommentEditor","CommentParent","Link","AiOutlineLike","AiOutlineIssuesClose","BsThreeDots","FaRegCommentAlt","FaRegWindowClose","IoIosShareAlt","GoEyeClosed","List","Tooltip","moment","PUBLIC_URL","PostNewFeed","forwardRef","props","ref","updateLocale","relativeTime","future","past","s","ss","m","mm","h","hh","d","dd","w","ww","M","MM","y","yy","inputCommentRef","listParentComment","setListParentComment","listChildComment","setListChildComment","totalReactionPost","post","actions_post","focusInputComment","inputRef","current","focusCommentInput","_commentParent","_commentChild","comment_post","map","comment","index","pivot","comment_Type","push","settingPost","listReactionPost","slice","reaction","user_username","user_first_name","user_last_name","length","listIconReactionPost","actions_action","console","log","user_admin_post","user_avatar","created_at","fromNow","post_Content","images_post"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport PostImage from './PostImage.jsx';\r\nimport CommentEditor from './CommentEditor.jsx';\r\nimport CommentParent from './CommentParent.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport { AiOutlineLike, AiOutlineIssuesClose } from \"react-icons/ai\";\r\nimport { BsThreeDots } from \"react-icons/bs\";\r\nimport { FaRegCommentAlt, FaRegWindowClose } from \"react-icons/fa\";\r\nimport { IoIosShareAlt } from \"react-icons/io\";\r\nimport { GoEyeClosed } from \"react-icons/go\";\r\nimport { List, Tooltip } from 'antd';\r\nimport moment from 'moment';\r\nimport {PUBLIC_URL} from './../../Constants/public.jsx';\r\n\r\nexport const PostNewFeed = React.forwardRef((props, ref) =>  {\r\n    moment.updateLocale('en', {\r\n      relativeTime : {\r\n          future: \"%s\",\r\n          past:   \"%s trước\",\r\n          s  : 'vài giây',\r\n          ss : '%d phút',\r\n          m:  \"1 phút trước\",\r\n          mm: \"%d phút\",\r\n          h:  \"an giờ\",\r\n          hh: \"%d giờ\",\r\n          d:  \"một ngày\",\r\n          dd: \"%d ngày\",\r\n          w:  \"một tuần\",\r\n          ww: \"%d tuần\",\r\n          M:  \"một tháng\",\r\n          MM: \"%d tháng\",\r\n          y:  \"một năm\",\r\n          yy: \"%d năm\"\r\n      }\r\n    });\r\n    const inputCommentRef = useRef();\r\n    const [listParentComment, setListParentComment] = useState([]);\r\n    const [listChildComment, setListChildComment] = useState([]);\r\n    const totalReactionPost = props.post.actions_post;\r\n\r\n    function focusInputComment() {\r\n        let inputRef = inputCommentRef.current;\r\n        inputRef.focusCommentInput();\r\n    }\r\n\r\n    useEffect(() => {\r\n        let _commentParent = []\r\n        let _commentChild = []\r\n\r\n        props.post.comment_post.map((comment, index) => {\r\n            if (comment.pivot.comment_Type === 'parent') {\r\n                _commentParent.push(comment)\r\n                setListParentComment(_commentParent)\r\n            }\r\n            if (comment.pivot.comment_Type === 'child') {\r\n                _commentChild.push(comment)\r\n                setListChildComment(_commentChild)\r\n            }\r\n        })\r\n    }, []);\r\n\r\n    const settingPost = (\r\n        <React.Fragment>\r\n            <List className=\"setting-post\">\r\n                <List.Item><GoEyeClosed /> Ẩn bài viết</List.Item>\r\n                <List.Item><AiOutlineIssuesClose /> Bỏ theo dõi someone</List.Item>\r\n                <List.Item><FaRegWindowClose /> Ẩn bài viết từ someone</List.Item>\r\n            </List>\r\n        </React.Fragment>\r\n    );\r\n\r\n    const listReactionPost = () => {\r\n      return(\r\n        <ul className=\"post-reaction-list\">\r\n          {totalReactionPost.slice(0, 21).map((reaction, index) => {\r\n            return(\r\n                <li key={index}>\r\n                  <Link to={'/' + reaction.user_username}>{reaction.user_first_name + ' ' + reaction.user_last_name}</Link>\r\n                </li>\r\n            )\r\n          })}\r\n          { totalReactionPost.length - 21 > 0 &&\r\n          <li>\r\n            và {totalReactionPost.length - 21} người khác\r\n          </li>\r\n          }\r\n        </ul>\r\n      )\r\n    }\r\n\r\n    const listIconReactionPost = (reaction) => {\r\n      switch (reaction.pivot.actions_action) {\r\n        case 'like':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/like.png'} alt=\"Thích\"/>\r\n          break;\r\n        case 'haha':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/haha.png'} alt=\"Cười\"/>\r\n          break;\r\n        case 'wow':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/wow.png'} alt=\"Ngạc nhiên\"/>\r\n          break;\r\n        case 'sad':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/sad.png'} alt=\"Buồn\"/>\r\n          break;\r\n        case 'angry':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/angry.png'} alt=\"Giận dữ\"/>\r\n          break;\r\n        case 'love':\r\n            return <img className=\"icon-reaction icon-like-22\" src={PUBLIC_URL + 'icon/heart.png'} alt=\"Yêu thích\"/>\r\n          break;\r\n        default: return null\r\n      }\r\n    }\r\n\r\n    console.log(props.post);\r\n    return (\r\n        <React.Fragment>\r\n            <div className=\"post\" ref={ref}>\r\n                <div className=\"post-container\">\r\n                    <div className=\"post-header\">\r\n                        <div className=\"post-info\">\r\n                            <div className=\"post-avatar\">\r\n                                <Link to={'/' + props.post.user_admin_post.user_username}>\r\n                                    <img src={props.post.user_admin_post.user_avatar} alt=\"\" />\r\n                                </Link>\r\n                            </div>\r\n                            <div className=\"post-boss\">\r\n                                <p>\r\n                                    <Link to={'/' + props.post.user_admin_post.user_username}>{props.post.user_admin_post.user_first_name + \" \" + props.post.user_admin_post.user_last_name}</Link>\r\n                                </p>\r\n                                <p>{moment(props.post.created_at, \"YYYYMMDD\\h:m:s\").fromNow()}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"post-setting\">\r\n                            <BsThreeDots />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-body\">\r\n                        <div className=\"post-content\">\r\n                            {props.post.post_Content}\r\n                        </div>\r\n                        <PostImage post={props.post} images={props.post.images_post} />\r\n                    </div>\r\n                    <div className=\"post-footer\">\r\n                          <div className=\"post-total-action\">\r\n                            { totalReactionPost.length ?\r\n                              <Tooltip placement=\"top\" title={listReactionPost}>\r\n                                <span>\r\n                                  {totalReactionPost.map((reaction) => listIconReactionPost(reaction))}\r\n                                  {' '+ totalReactionPost.length} người đã bày tỏ cảm xúc</span>\r\n                              </Tooltip>\r\n                            : null}\r\n                          </div>\r\n                        <div className=\"post-action\">\r\n                            <div className=\"post-action-item\">\r\n                                <AiOutlineLike />\r\n                            </div>\r\n                            <div className=\"post-action-item\" onClick={() => focusInputComment()}>\r\n                                <FaRegCommentAlt />\r\n                            </div>\r\n                            <div className=\"post-action-item\">\r\n                                <IoIosShareAlt />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"post-comment\">\r\n                        <div className=\"post-comment-current-user\">\r\n                            <img src=\"https://picsum.photos/id/1019/1000/600/\" alt=\"\" />\r\n                        </div>\r\n                        <div className=\"post-comment-input\">\r\n                            <CommentEditor ref={inputCommentRef} />\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        listParentComment.length > 0\r\n                            ? <div className=\"post-comment-container\">\r\n                                {\r\n                                    listParentComment.map((comment, index) => {\r\n                                        return (<CommentParent key={index} listChildComment={listChildComment} comment={comment} />)\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            : null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </React.Fragment>\r\n    )\r\n})\r\n"]},"metadata":{},"sourceType":"module"}