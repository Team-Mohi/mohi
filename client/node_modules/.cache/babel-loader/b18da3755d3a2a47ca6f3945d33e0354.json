{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useForm}from'react-hook-form';import{RiErrorWarningLine}from\"react-icons/ri\";import{Tooltip}from'antd';import{useHistory}from'react-router-dom';import{useDispatch}from'react-redux';import{toggleStatusSpin}from'./../../Actions/index.jsx';function ChangePassword(props){var history=useHistory();if(!history.location.state){history.push('/');}var id=history.location.state?history.location.state.idUser:'';var email=history.location.state?history.location.state.user_email:'';var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,setError=_useForm.setError;var _useState=useState('Vui lòng nhập lại mật khẩu'),_useState2=_slicedToArray(_useState,2),errorConfirmPass=_useState2[0],setErrorConfirmPass=_useState2[1];var onSubmit=function onSubmit(data){if(data.user_password!==data.user_confirm_password){setError(\"user_confirm_password\",{type:\"manual\",message:\"Nhập lại mật khẩu không đúng\"});setErrorConfirmPass('Nhập lại mật khẩu không đúng');}else{setErrorConfirmPass('');var user_password=data.user_password;props.onSubmitChangePass({id:id,user_password:user_password,user_email:email});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"veri-code-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"),/*#__PURE__*/React.createElement(\"div\",{className:\"veri-code-message\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:'black'}},\"Vui l\\xF2ng \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u \\u0111\\u1EC3 ho\\xE0n th\\xE0nh qu\\xE1 tr\\xECnh \\u0111\\u1ED5i m\\u1EADt kh\\u1EA9u\")),/*#__PURE__*/React.createElement(\"div\",{className:\"submit-error-veri-code\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-veri-code-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"user_password\",placeholder:\"M\\u1EADt kh\\u1EA9u m\\u1EDBi\",ref:register({required:true}),style:errors.user_password?{border:'1px solid red'}:null}),errors.user_password&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"right\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},\"Vui l\\xF2ng nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi\")},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex error_code\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-veri-code-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"user_confirm_password\",placeholder:\"Nh\\u1EADp l\\u1EA1i m\\u1EADt kh\\u1EA9u\",ref:register({required:true}),style:errors.user_confirm_password?{border:'1px solid red'}:null}),errors.user_confirm_password&&/*#__PURE__*/React.createElement(Tooltip,{placement:\"right\",title:/*#__PURE__*/React.createElement(\"p\",{className:\"error_sex_tooltip\"},errorConfirmPass)},/*#__PURE__*/React.createElement(RiErrorWarningLine,{className:\"error_sex error_code\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-veri-code-group\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"X\\xE1c nh\\u1EADn\")))));}export default ChangePassword;","map":{"version":3,"sources":["D:/Web/mohi/client/src/app/Authen/ChangePassword.jsx"],"names":["React","useState","useForm","RiErrorWarningLine","Tooltip","useHistory","useDispatch","toggleStatusSpin","ChangePassword","props","history","location","state","push","id","idUser","email","user_email","register","handleSubmit","errors","setError","errorConfirmPass","setErrorConfirmPass","onSubmit","data","user_password","user_confirm_password","type","message","onSubmitChangePass","color","required","border"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {useForm} from 'react-hook-form';\r\nimport {RiErrorWarningLine} from \"react-icons/ri\";\r\nimport {Tooltip} from 'antd';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { toggleStatusSpin } from './../../Actions/index.jsx';\r\n\r\nfunction ChangePassword(props){\r\n  const history = useHistory();\r\n  if(!history.location.state){\r\n    history.push('/')\r\n  }\r\n  const id = history.location.state ? history.location.state.idUser : '';\r\n  const email = history.location.state ? history.location.state.user_email : '';\r\n\r\n  const {register, handleSubmit, errors, setError} = useForm();\r\n  const [errorConfirmPass, setErrorConfirmPass] = useState('Vui lòng nhập lại mật khẩu');\r\n\r\n  const onSubmit = (data) => {\r\n    if(data.user_password !== data.user_confirm_password){\r\n      setError(\"user_confirm_password\", {\r\n            type: \"manual\",\r\n            message: \"Nhập lại mật khẩu không đúng\"\r\n          });\r\n      setErrorConfirmPass('Nhập lại mật khẩu không đúng')\r\n    }else {\r\n      setErrorConfirmPass('')\r\n      let user_password = data.user_password;\r\n      props.onSubmitChangePass({id:id, user_password: user_password, user_email: email})\r\n    }\r\n  }\r\n\r\n  return(\r\n    <React.Fragment>\r\n      <div className=\"veri-code-container\">\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <h2>Đổi mật khẩu</h2>\r\n        <div className=\"veri-code-message\"><span style={{color: 'black'}}>Vui lòng đặt lại mật khẩu để hoàn thành quá trình đổi mật khẩu</span></div>\r\n          <div className=\"submit-error-veri-code\"></div>\r\n          <div className=\"form-veri-code-group\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"user_password\"\r\n              placeholder=\"Mật khẩu mới\"\r\n              ref={register({required:true})}\r\n              style={errors.user_password ? {border: '1px solid red'} : null}\r\n            />\r\n          {errors.user_password && <Tooltip placement=\"right\" title={<p className = \"error_sex_tooltip\" >Vui lòng nhập mật khẩu mới</p>}><RiErrorWarningLine className=\"error_sex error_code\"/></Tooltip>}\r\n          </div>\r\n          <div className=\"form-veri-code-group\">\r\n            <input\r\n              type=\"password\"\r\n              name=\"user_confirm_password\"\r\n              placeholder=\"Nhập lại mật khẩu\"\r\n              ref={register({required:true})}\r\n              style={errors.user_confirm_password ? {border: '1px solid red'} : null}\r\n            />\r\n          {errors.user_confirm_password && <Tooltip placement=\"right\" title={<p className = \"error_sex_tooltip\" >{errorConfirmPass}</p>}><RiErrorWarningLine className=\"error_sex error_code\"/></Tooltip>}\r\n          </div>\r\n          <div className=\"form-veri-code-group\">\r\n            <button type=\"submit\">Xác nhận</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default ChangePassword;\r\n"]},"metadata":{},"sourceType":"module"}