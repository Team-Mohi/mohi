{"ast":null,"code":"import _slicedToArray from\"D:\\\\Web\\\\mohi\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import'./Post.css';import PostImage from'./PostImage.jsx';import CommentEditor from'./CommentEditor.jsx';import CommentParent from'./CommentParent.jsx';import{Link}from'react-router-dom';import{AiOutlineLike}from\"react-icons/ai\";import{BsThreeDots}from\"react-icons/bs\";import{FaRegCommentAlt}from\"react-icons/fa\";import{IoIosShareAlt}from\"react-icons/io\";import{gql}from'apollo-boost';import{useQuery}from'@apollo/react-hooks';function PostPage(props){var inputCommentRef=useRef();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),listParentComment=_useState2[0],setListParentComment=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),listChildComment=_useState4[0],setListChildComment=_useState4[1];function focusInputComment(){var inputRef=inputCommentRef.current;inputRef.focusCommentInput();}useEffect(function(){var _commentParent=[];var _commentChild=[];props.post.commentPost.map(function(comment,index){if(comment.commentType==='parent'){_commentParent.push(comment);setListParentComment(_commentParent);}if(comment.commentType==='child'){_commentChild.push(comment);setListChildComment(_commentChild);}});},[]);return/*#__PURE__*/React.createElement(\"div\",{className:\"post\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-avatar\"},/*#__PURE__*/React.createElement(Link,{to:\"\"},/*#__PURE__*/React.createElement(\"img\",{className:\"lozad\",\"data-src\":props.post.avatar,alt:\"\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-boss\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Link,{to:props.post.postUserLink},props.post.postUser)),/*#__PURE__*/React.createElement(\"p\",null,props.post.created))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-setting\"},/*#__PURE__*/React.createElement(BsThreeDots,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-content\"},props.post.contentPost),/*#__PURE__*/React.createElement(PostImage,{post:props.post,images:props.post.imagesPost})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-footer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-total-action\"},/*#__PURE__*/React.createElement(\"span\",null,\"H\\u1ED3 Th\\u1ECB V\\xE2n Anh v\\xE0 156 ng\\u01B0\\u1EDDi kh\\xE1c \\u0111\\xE3 th\\xEDch b\\xE0i vi\\u1EBFt n\\xE0y\")),/*#__PURE__*/React.createElement(\"div\",{className:\"post-action\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-action-item\"},/*#__PURE__*/React.createElement(AiOutlineLike,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-action-item\",onClick:function onClick(){return focusInputComment();}},/*#__PURE__*/React.createElement(FaRegCommentAlt,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"post-action-item\"},/*#__PURE__*/React.createElement(IoIosShareAlt,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-current-user\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://picsum.photos/id/1019/1000/600/\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-input\"},/*#__PURE__*/React.createElement(CommentEditor,{ref:inputCommentRef}))),listParentComment.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"post-comment-container\"},listParentComment.map(function(comment,index){return/*#__PURE__*/React.createElement(CommentParent,{key:index,listChildComment:listChildComment,comment:comment});})):null));}export default PostPage;","map":{"version":3,"sources":["D:/Web/mohi/client/src/Components/Post/Post.jsx"],"names":["React","useState","useEffect","useRef","PostImage","CommentEditor","CommentParent","Link","AiOutlineLike","BsThreeDots","FaRegCommentAlt","IoIosShareAlt","gql","useQuery","PostPage","props","inputCommentRef","listParentComment","setListParentComment","listChildComment","setListChildComment","focusInputComment","inputRef","current","focusCommentInput","_commentParent","_commentChild","post","commentPost","map","comment","index","commentType","push","avatar","postUserLink","postUser","created","contentPost","imagesPost","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport './Post.css';\r\nimport PostImage from './PostImage.jsx';\r\nimport CommentEditor from './CommentEditor.jsx';\r\nimport CommentParent from './CommentParent.jsx';\r\nimport {Link} from 'react-router-dom';\r\nimport {AiOutlineLike} from \"react-icons/ai\";\r\nimport {BsThreeDots} from \"react-icons/bs\";\r\nimport {FaRegCommentAlt} from \"react-icons/fa\";\r\nimport {IoIosShareAlt} from \"react-icons/io\";\r\nimport {gql} from 'apollo-boost';\r\nimport {useQuery} from '@apollo/react-hooks';\r\n\r\nfunction PostPage(props) {\r\n  const inputCommentRef = useRef();\r\n  const [listParentComment, setListParentComment] = useState([]);\r\n  const [listChildComment, setListChildComment] = useState([]);\r\n\r\n  function focusInputComment() {\r\n    let inputRef = inputCommentRef.current;\r\n    inputRef.focusCommentInput();\r\n  }\r\n\r\n  useEffect(() => {\r\n    let _commentParent = []\r\n    let _commentChild = []\r\n\r\n    props.post.commentPost.map((comment, index) => {\r\n      if (comment.commentType === 'parent') {\r\n        _commentParent.push(comment)\r\n        setListParentComment(_commentParent)\r\n      }\r\n      if (comment.commentType === 'child') {\r\n        _commentChild.push(comment)\r\n        setListChildComment(_commentChild)\r\n      }\r\n    })\r\n  }, []);\r\n\r\n  return (<div className=\"post\">\r\n    <div className=\"post-container\">\r\n      <div className=\"post-header\">\r\n        <div className=\"post-info\">\r\n          <div className=\"post-avatar\">\r\n            <Link to=\"\">\r\n              <img className=\"lozad\" data-src={props.post.avatar} alt=\"\"/>\r\n            </Link>\r\n          </div>\r\n          <div className=\"post-boss\">\r\n            <p>\r\n              <Link to={props.post.postUserLink}>{props.post.postUser}</Link>\r\n            </p>\r\n            <p>{props.post.created}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"post-setting\">\r\n          <BsThreeDots/>\r\n        </div>\r\n      </div>\r\n      <div className=\"post-body\">\r\n        <div className=\"post-content\">\r\n          {props.post.contentPost}\r\n        </div>\r\n        <PostImage post={props.post} images={props.post.imagesPost}/>\r\n      </div>\r\n      <div className=\"post-footer\">\r\n        <div className=\"post-total-action\">\r\n          <span>Hồ Thị Vân Anh và 156 người khác đã thích bài viết này</span>\r\n        </div>\r\n        <div className=\"post-action\">\r\n          <div className=\"post-action-item\">\r\n            <AiOutlineLike/>\r\n          </div>\r\n          <div className=\"post-action-item\" onClick={() => focusInputComment()}>\r\n            <FaRegCommentAlt/>\r\n          </div>\r\n          <div className=\"post-action-item\">\r\n            <IoIosShareAlt/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"post-comment\">\r\n        <div className=\"post-comment-current-user\">\r\n          <img src=\"https://picsum.photos/id/1019/1000/600/\" alt=\"\"/>\r\n        </div>\r\n        <div className=\"post-comment-input\">\r\n          <CommentEditor ref={inputCommentRef}/>\r\n        </div>\r\n      </div>\r\n      {\r\n        listParentComment.length > 0\r\n          ? <div className=\"post-comment-container\">\r\n              {\r\n                listParentComment.map((comment, index) => {\r\n                  return (<CommentParent key={index} listChildComment={listChildComment} comment={comment}/>)\r\n                })\r\n              }\r\n            </div>\r\n          : null\r\n      }\r\n    </div>\r\n  </div>)\r\n}\r\n\r\nexport default PostPage;\r\n"]},"metadata":{},"sourceType":"module"}